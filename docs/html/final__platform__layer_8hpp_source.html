<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Final Platform Layer: final_platform_layer.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Final Platform Layer
   &#160;<span id="projectnumber">0.5.2.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">final_platform_layer.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="final__platform__layer_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"># final_platform_layer.hpp</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">A Open source C++ single file header platform abstraction layer library by Torsten Spaete.</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"># About</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">This library is designed to abstract the underlying platform to a very simple and easy to use api.</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">The only dependencies are built-in operating system libraries and the C++ runtime library.</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">The main focus is game/simulation development, so the default settings will create a window, setup a opengl rendering context and initialize audio playback on any platform.</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">It works very well with other libraries like for example:</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">- STB Libraries</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">- Standard C++ Library (STL)</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">- Glew/Glad</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">- Box2D</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">- GLM</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">- ImGUI</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">- etc.</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"># How to Use</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">    // In one of your C++ translation units include this:</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">    #define FPL_IMPLEMENTATION</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">    #include &quot;final_platform_layer.hpp&quot;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">    // You can then #include this file in any other C++ source or header file as you would with any other header file.</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">    // Provide the typical main entry point</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">    int main(int argc, char **args) {</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">    }</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">    // Initialize the library and release it when you are done</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">    fpl::InitPlatform(fpl::InitFlags::All);</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">    ...</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">    fpl::ReleasePlatform();</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment"># Getting started</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">## Hello World Console Application</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">    #define FPL_IMPLEMENTATION</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">    #include &quot;final_platform_layer.hpp&quot;</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">    using namespace fpl;</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">    int main(int argc, char **args) {</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">        int result = 0;</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">        if (InitPlatform(InitFlags::None)) {</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">            console::ConsoleOut(&quot;Hello world!\n&quot;);</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">            ReleasePlatform();</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">            result = 0;</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">        } else {</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">            result = -1;</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">        }</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">        return(result);</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">    }</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">## Simple OpenGL 1.x Triangle</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">    #define FPL_IMPLEMENTATION</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">    #include &quot;final_platform_layer.hpp&quot;</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">    // You have to include GL.h yourself or use any other opengl loader you want.</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">    // This library just creates a opengl rendering context for you, but nothing more.</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">    // But GL.h will be included when FPL_IMPLEMENTATION is set always.</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">    #include &lt;GL\GL.h&gt;</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">    using namespace fpl;</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">    using namespace fpl::window;</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">    int main(int argc, char **args) {</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">        int result = 0;</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">        if (InitPlatform(InitFlags::Video)) {</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">            glClearColor(0.39f, 0.58f, 0.93f, 1.0f);</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">            while (WindowUpdate()) {</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">                WindowSize windowArea = GetWindowArea();</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">                glViewport(0, 0, windowArea.width, windowArea.height);</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">                glClear(GL_COLOR_BUFFER_BIT);</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">                glBegin(GL_TRIANGLES);</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">                glVertex2f(0.0f, 0.5f);</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">                glVertex2f(-0.5f, -0.5f);</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">                glVertex2f(0.5f, -0.5f);</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">                glEnd();</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">                WindowFlip();</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">            }</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">            ReleasePlatform();</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">            result = 0;</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">        } else {</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">            result = -1;</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">        }</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">        return(result);</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">    }</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">## Modern OpenGL 3.3+</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">    #define FPL_IMPLEMENTATION</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">    #include &quot;final_platform_layer.hpp&quot;</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">    // You have to include GL.h yourself or use any other opengl loader you want.</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">    // This library just creates a opengl rendering context for you, but nothing more.</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">    // But GL.h will be included when FPL_IMPLEMENTATION is set always.</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">    #include &lt;GL\GL.h&gt;</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">    using namespace fpl;</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">    using namespace fpl::window;</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">    int main(int argc, char **args) {</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">        int result = 0;</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">        // Legacy opengl is default, so we force it to be forward or backward compability</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">        Settings settings = DefaultSettings();</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">        settings.video.driverType = VideoDriverType::OpenGL;</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">        settings.video.profile = VideoCompabilityProfile::Forward;</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">        settings.video.majorVersion = 3;</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">        settings.video.minorVersion = 3;</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">        if (InitPlatform(InitFlags::Video, settings)) {</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">            glClearColor(0.39f, 0.58f, 0.93f, 1.0f);</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">            while (WindowUpdate()) {</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">                WindowSize windowArea = GetWindowArea();</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">                glViewport(0, 0, windowArea.width, windowArea.height);</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">                glClear(GL_COLOR_BUFFER_BIT);</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">                // Your code using modern opengl (VBO, IBO, VAO, GLSL, etc.)</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">                WindowFlip();</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">            }</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">            ReleasePlatform();</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">            result = 0;</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">        } else {</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">            result = -1;</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">        }</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">        return(result);</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">    }</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">## Simple audio playback (Infinite square or sine wave)</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">    #define FPL_IMPLEMENTATION</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">    #define FPL_AUTO_NAMESPACE</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">    #define FPL_NO_WINDOW</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">    #include &lt;final_platform_layer.hpp&gt;</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">    #include &lt;math.h&gt;</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">    struct AudioTest {</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">        uint32_t toneHz;</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">        uint32_t toneVolume;</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">        uint32_t runningSampleIndex;</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">        uint32_t wavePeriod;</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">        bool useSquareWave;</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">    };</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">    static const float PI32 = 3.14159265359f;</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">    static uint32_t FillAudioBuffer(const AudioDeviceFormat &amp;nativeFormat, const uint32_t frameCount, void *outputSamples, void *userData) {</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">        AudioTest *audioTest = (AudioTest *)userData;</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">        FPL_ASSERT(audioTest != fpl_null);</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">        FPL_ASSERT(nativeFormat.type == AudioFormatType::S16);</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">        uint32_t result = 0;</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">        int16_t *outSamples = (int16_t *)outputSamples;</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">        uint32_t halfWavePeriod = audioTest-&gt;wavePeriod / 2;</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">        for (uint32_t frameIndex = 0; frameIndex &lt; frameCount; ++frameIndex) {</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">            int16_t sampleValue;</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">            if (audioTest-&gt;useSquareWave) {</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">                sampleValue = ((audioTest-&gt;runningSampleIndex++ / halfWavePeriod) % 2) ? (int16_t)audioTest-&gt;toneVolume : -(int16_t)audioTest-&gt;toneVolume;</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">            } else {</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">                float t = 2.0f * PI32 * (float)audioTest-&gt;runningSampleIndex++ / (float)audioTest-&gt;wavePeriod;</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">                sampleValue = (int16_t)(sinf(t) * audioTest-&gt;toneVolume);</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">            }</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">            for (uint32_t channelIndex = 0; channelIndex &lt; nativeFormat.channels; ++channelIndex) {</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">                *outSamples++ = sampleValue;</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">                ++result;</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">            }</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">        }</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">        return result;</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">    }</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">    int main(int argc, char **args) {</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">        int result = -1;</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">        Settings settings = DefaultSettings();</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">        AudioTest audioTest = {};</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">        audioTest.toneHz = 256;</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">        audioTest.toneVolume = 1000;</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">        audioTest.wavePeriod = settings.audio.desiredFormat.sampleRate / audioTest.toneHz;</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">        audioTest.useSquareWave = false;</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">        settings.audio.clientReadCallback = FillAudioBuffer;</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">        settings.audio.userData = &amp;audioTest;</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">        if (InitPlatform(InitFlags::Audio, settings)) {</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">            if (PlayAudio() == AudioResult::Success) {</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">                ConsoleOut(&quot;Press any key to quit playing...\n&quot;);</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">                getchar();</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">                StopAudio();</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">            }</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">            ReleasePlatform();</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">        }</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">        return(result);</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">    }</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment"># HOW TO COMPILE</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">You need a C++/98 compatible compiler like MSVC, GCC, Clang, etc.</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">## Win32</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">- Link against kernel32.lib (Most compilers does this automatically.)</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">## Linux</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">- Link against ld.so</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment"># NOTES</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">## Audio</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">This library uses the operating system libraries to initialize a playback audio device.</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">The caller needs to set &quot;AudioSettings.clientReadCallback&quot; to provide audio samples in the native format the device expects.</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">The caller needs to do any DSP yourself! This library does not provide any functionality for that.</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">To start and stop the playback, you need to call &quot;audio::PlayAudio&quot; and &quot;audio::StopAudio&quot; respectively.</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">There is no guarantee that you get a audio device with the exact same format you specified back, but S16 with 48 KHz is a common format which almost every card supports.</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment"># OPTIONS</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">Define these options before including this file.</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">// #define FPL_IMPLEMENTATION</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">Define this to include the actual implementation code as well.</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">Set this only once per translation unit, otherwise you will get linking errors.</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">// #define FPL_API_AS_PRIVATE</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">Define this to make all functions be private &quot;static&quot;.</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">Default is &quot;export&quot;.</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">// #define FPL_NO_ASSERTIONS</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">Define this to disable all internal assertions.</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">// #define FPL_FORCE_ASSERTIONS</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">Define this to enable internal assertions always, even in debug builds.</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">NOTE: When enabled, all assertions wont use the C assert() at all, because it may be compiled out!</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">// #define FPL_NO_C_ASSERT</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">Define this to disable C runtime assert.</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">Has no effect when FPL_FORCE_ASSERTIONS is set!</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">// #define FPL_NO_WINDOW</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">Define this to disable window support entirely.</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">// #define FPL_NO_VIDEO</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">Define this to disable any rendering device entirely.</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">// #define FPL_NO_VIDEO_OPENGL</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">Define this to disable opengl rendering support entirely.</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">// #define FPL_NO_VIDEO_SOFTWARE</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">Define this to disable software rendering support entirely.</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">// #define FPL_NO_AUDIO</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">Define this to disable audio playback entirely.</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">// #define FPL_NO_AUDIO_DIRECTSOUND</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">Define this to disable directsound support entirely.</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">// #define FPL_NO_MULTIPLE_ERRORSTATES</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">Define this to use a single error state for GetPlatformLastError() instead of multiple ones.</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">// #define FPL_NO_ERROR_IN_CONSOLE</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">Define this to disable printing any platform specific errors to the console.</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">// #define FPL_AUTO_NAMESPACE</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">Define this to include all required namespaces automatically.</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment"># FEATURES</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">[x] Creating a fixed or resizeable window</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">[x] Handling window, keyboard, mouse events</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">[x] Enable/Disable fullscreen</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">[x] Full event buffering</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment">[x] Polling gamepad informations</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">[x] Clipboard string reading and writing</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">[ ] Multi-monitor support for window creation and fullscreen switching</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">[x] Creating a legacy 1.x opengl rendering context</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">[x] Creating a modern 3.x + opengl rendering context</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">[x] Creating a software backbuffer</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">[x] Asyncronous audio playback</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">    [x] DirectSound</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">[x] Memory allocation and de-allocation with custom alignment support</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">[x] Atomic operations</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">[x] Path functions</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">[x] File functions</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">[x] Hardware functions</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">[x] String conversion functions</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">[x] Thread/Mutex/Signal handling</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment"># SUPPORTED ARCHITECTURES</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">[x] x86</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment">[x] x64</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment"># SUPPORTED COMPILERS</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">[X] Compiles with MSVC</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">[X] Compiles with GCC (Partially)</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">[ ] Compiles with Clang</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment">[ ] Compiles with MingW</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">[ ] Compiles with Intel C++ Compiler</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment"># SUPPORTED PLATFORMS</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">[x] Win32</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">[X] Linux (Partially)</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">[ ] Unix/Posix</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">[ ] Mac OSX (Not sure)</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment"># LICENSE</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">MIT License</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">Copyright (c) 2017 Torsten Spaete</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">Permission is hereby granted, free of charge, to any person obtaining a copy of</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">this software and associated documentation files (the &quot;Software&quot;), to deal in</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">the Software without restriction, including without limitation the rights to</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">of the Software, and to permit persons to whom the Software is furnished to do</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">so, subject to the following conditions:</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">The above copyright notice and this permission notice shall be included in all</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">copies or substantial portions of the Software.</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment">IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment">FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment">AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment">OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment">SOFTWARE.</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment"># ACKNOWLEDGEMENTS</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">Thanks to David Reid for the awesome &quot;mini_al.h&quot; single header file audio library.</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment"># VERSION HISTORY</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">## v0.5.1.1 beta:</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">- Fixed: Corrected all doxygen statements to match new enum style or added missing exlamation marks.</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">## v0.5.1 beta:</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">- New: audio::GetAudioNativeFormat()</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">- New: audio::SetAudioClientReadCallback()</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">- Fixed: InitFlags::Audio was never tested before InitAudio() was being called.</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">- Changed: Renamed ThreadStop to ThreadDestroy</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">## v0.5.0 beta:</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment">- Added: [Win32] DirectSound playback support</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">- Added: Asyncronous audio playback</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment">## v0.4.11 alpha:</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment">- Fixed: [Win32] For now, load all user32 functions always, even when window is not used (This is to prepare for audio playback)</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment">- Fixed: [Win32] ThreadStop was not releasing the thread handle</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">- Added: [Win32] ThreadWaitForAny</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment">- Added: [Win32] SignalWaitForAll</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">- Added: [Win32] SignalWaitForAny</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">- Added: [Win32] SignalReset</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">- Added: FPL_NO_VIDEO</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">- Changed: ThreadWaitForSingle renamed to ThreadWaitForOne</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">- Changed: ThreadWaitForMultiple renamed to ThreadWaitForAll</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment">- Changed: SignalWait renamed to SignalWaitForOne</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">## v0.4.10 alpha:</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">- Removed: Removed all _internal _INTERNAL postfixes from types, functions and macros</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment">- Changed: Proper identitation for compiler directives based on context</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">- Added: [Win32] Dynamically loading ole32 functions (CoCreateInstance, CoInitializeEx, etc.)</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">- Fixed: [Win32] GetCursor was not using the dynamic loaded function</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">- Fixed: [Win32] Missing *Clipboard* dynamic functions</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment">## v0.4.9 alpha:</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment">- Removed: Removed all audio code for now</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment">- Changed: A total cleanup of all internal stuff, so its much easier to add in new features</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment">## v0.4.8 alpha:</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">- New: AtomicLoadU32, AtomicLoadU64, AtomicLoadS32, AtomicLoadS64, AtomicLoadPtr</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment">- New: AtomicStoreU32, AtomicStoreU64, AtomicStoreS32, AtomicStoreS64, AtomicStorePtr</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">- New: AtomicExchangePtr, AtomicCompareAndExchangePtr, IsAtomicCompareAndExchangePtr</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment">- New: [Win32] Implementation for AtomicLoadU32, AtomicLoadU64, AtomicLoadS32, AtomicLoadS64, AtomicLoadPtr</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">- New: [Win32] Implementation for AtomicStoreU32, AtomicStoreU64, AtomicStoreS32, AtomicStoreS64, AtomicStorePtr</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment">- New: [Linux] Implementation for AtomicLoadU32, AtomicLoadU64, AtomicLoadS32, AtomicLoadS64, AtomicLoadPtr</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">- New: [Linux] Implementation for AtomicStoreU32, AtomicStoreU64, AtomicStoreS32, AtomicStoreS64, AtomicStorePtr</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">- New: [Win32] Loading of DirectSound (Prepare for audio output support)</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment">- Draft: Added first audio output api</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment">- Fixed: Threading context determination</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment">- Fixed: [Win32] Fixed all thread implementations</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="comment">- Fixed: [Win32] SetWindowLongPtrA does not exists on X86</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment">- Fixed: [Win32] Missing call convention in SHGetFolderPathA and SHGetFolderPathW</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment">- Changed: Improved header documentation (More examples, better descriptions, proper markdown syntax, etc.)</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">- Changed: All threading functions uses pointer instead of reference</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">- Changed: [Linux] Atomic* uses __sync instead of __atomic</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment">- Changed: A bit of internal cleanup</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment">## v0.4.7 alpha:</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">- Changed: [Win32] Load all user32 and shell32 functions dynamically</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">- Changed: FPL_ENUM_AS_FLAGS_OPERATORS_INTERNAL requires a int type as well</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">- Fixed: MemoryAlignedAllocate and MemoryAlignedFree was broken</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment">- Added: FPL_IS_ALIGNED macro</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment">## v0.4.6 alpha:</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">- Fixed: [Win32] Crash when window is not set in the InitFlags but FPL_USE_WINDOW is set.</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment">## v0.4.5 alpha:</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment">- Changed: [Win32] Use CommandLineToArgvW for command line parsing</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment">## v0.4.4 alpha:</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment">- New: [Win32] Implemented argument parsing for WinMain and wWinMain</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment">- Fixed: Corrected small things for doxygen</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">- Changed: Renamed CopyAFile to FileCopy</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment">- Changed: Renamed DeleteAFile to FileDelete</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment">## v0.4.3 alpha:</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment">- New: Introduced IsAtomicCompareAndExchange</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment">- Added: [Linux] Implemented IsAtomicCompareAndExchange for all 32 and 64 bit integer types</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment">- Added: [Win32] Implemented IsAtomicCompareAndExchange for all 32 and 64 bit integer types</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment">- Added: [Win32] Loading gdi32.dll dynamically for ChoosePixelFormat, etc.</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment">- Added: [Win32] Loading opengl32.dll dynamically for wglGetProcAddress, wglMakeCurrent, etc.</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment">- Fixed: [Win32] Adding memory fence for AtomicReadWriteFence on non-x64 architectures</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment">- Fixed: [Win32] Adding memory fence for AtomicReadFence on non-x64 architectures</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">- Fixed: [Win32] Adding memory fence for AtomicWriteFence on non-x64 architectures</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment">- Fixed: Solidified descriptions for all Atomic*Fence</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment">- Changed: Enabled FPL_FORCE_ASSERTIONS will ensure that C asserts are never used, because it may be compiled out.</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment">- Changed: Removed all FPL_WIN32_ kernel32 macros and replaced it with normal calls.</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment">- Changed: [Win32] Changed a lof ot the internals</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment">## v0.4.2 alpha:</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="comment">- Added: [Linux] Started linux implementation</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment">- Added: [Linux] Memory allocations</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment">- Added: [Linux] Atomic operations</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment">- Added: Check for C++/11 compiler and fail if not supported</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment">- Added: Nasty vstudio 2015+ workaround to detect C++/11</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">- Added: &amp;= operator overloading for enums</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="comment">- Changed: AtomicCompareAndExchange argument &quot;comparand&quot; and &quot;exchange&quot; flipped.</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment">- Changed: constexpr is now fpl_constant to make clear what is a constant</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment">- Removed: [Win32] CreateDIBSection is not needed for a software backbuffer</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment">- Fixed: [Win32] Software rendering was not working properly.</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">- Fixed: Some AtomicCompareAndExchange signatures was still AtomicAndCompareExchange</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">## v0.4.1 alpha:</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment">- Cleanup: Internal cleanup</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment">- Changed: All the settings constructors removed and replaced by a simple inline function.</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment">- Added: Added native C++ unit test project to demos solution</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="comment">- Fixed: FPL_OFFSETOF was not working</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="comment">- Fixed: All file size macros like FPL_MEGABYTES was returning invalid results.</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="comment">- Removed: FPL_PETABYTES and higher are removed, just because its useless.</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment">## v0.4.0 alpha:</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment">- Changed: All FPL_ENABLE_ defines are internal now, the caller must use FPL_NO_ or FPL_YES_ respectivily.</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment">- Changed: AtomicCompareExchange* is now AtomicCompareAndExchange*</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment">- Changed: InitFlags::VideoOpenGL is now InitFlags::Video</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment">- Added: Software rendering support</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment">- Added: VideoDriverType enumeration for selecting the active video driver</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment">- Added: video::GetVideoBackBuffer with [Win32] implementation</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment">- Added: video::ResizeVideoBackBuffer with [Win32] implementation</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment">- Added: FPL_PETABYTES macro</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="comment">- Added: FPL_EXABYTES macro</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="comment">- Added: FPL_ZETTABYTES macro</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="comment">- Added: FPL_YOTTABYTES macro</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="comment">- Added: FPL_MIN macro</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment">- Added: FPL_MAX macro</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment">- Added: MutexCreate with [Win32] implementation</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment">- Added: MutexDestroy with [Win32] implementation</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment">- Added: MutexLock with [Win32] implementation</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment">- Added: MutexUnlock with [Win32] implementation</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment">- Added: SignalCreate with [Win32] implementation</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment">- Added: SignalDestroy with [Win32] implementation</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment">- Added: SignalWait with [Win32] implementation</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="comment">- Added: SignalWakeUp with [Win32] implementation</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment">- Added: GetClipboardAnsiText with [Win32] implementation</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment">- Added: GetClipboardWideText with [Win32] implementation</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment">- Added: SetClipboardText with [Win32] implementation for ansi and wide strings</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment">- Added [MSVC]: AtomicExchangeS32 (Signed integer)</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="comment">- Added [MSVC]: AtomicExchangeS64 (Signed integer)</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment">- Added [MSVC]: AtomicAddS32 (Signed integer)</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="comment">- Added [MSVC]: AtomicAddS64 (Signed integer)</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment">- Added [MSVC]: AtomicCompareExchangeS32 (Signed integer)</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment">- Added [MSVC]: AtomicCompareExchangeS64 (Signed integer)</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment">- Fixed [MSVC]: AtomicExchangeU32 was not using unsigned intrinsic</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment">- Fixed [MSVC]: AtomicExchangeU64 was not using unsigned intrinsic</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="comment">- Fixed [MSVC]: AtomicAddU32 was not using unsigned intrinsic</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="comment">- Fixed [MSVC]: AtomicAddU64 was not using unsigned intrinsic</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="comment">- Fixed [MSVC]: AtomicCompareExchangeU32 was not using unsigned intrinsic</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="comment">- Fixed [MSVC]: AtomicCompareExchangeU64 was not using unsigned intrinsic</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="comment">- Implemented [Win32]: GetProcessorCoreCount</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="comment">- Implemented [Win32]: Main thread infos</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="comment">- Performance [Win32]: GetProcessorName (3 loop iterations at max)</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="comment">## v0.3.6 alpha:</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment">- Cleanup: All win32 functions are macro calls now (prepare for dynamic function loading)</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="comment">- Fixed: FPL_ENABLE_WINDOW was enabling window features even when it was deactivated by the caller</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="comment">## v0.3.5 alpha:</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="comment">- Renamed: All memory/library/threading functions</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="comment">- Removed: FPL_ENABLE_PUSHMEMORY removed entirely</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment">## v0.3.4 alpha:</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment">- Renamed: CopyFile/DeleteFile/All memory functions renamed (Stupid win32!)</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment">- Renamed: All internal opengl defines renamed, so that it wont conflict with other libraries</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="comment">- Fixed: [Win32] strings::All Wide conversions was not working properly</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment">- Removed: [Win32] Undefs for CopyFile</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="comment">- Changed: [Win32/OpenGL] Test for already included gl.h</span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="comment">## v0.3.3 alpha:</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment">- Basic threading creation and handling</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="comment">- Fixed strings::All Wide convertions was not working properly</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="comment">## v0.3.2 alpha:</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="comment">- Introduced: Automatic namespace inclusion (FPL_AUTO_NAMESPACE)</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment">- Introduced: Push memory (FPL_ENABLE_PUSHMEMORY)</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment">- Signature changed for: ExtractFilePath/ChangeFileExtension (source first, destination second)</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="comment">- Window features not not compiled out anymore when FPL_ENABLE_WINDOW is 0</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment">- New overloaded CombinePath without any destination arguments</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="comment">- New: AllocateStackMemory function</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment">- Optional destination arguments for: GetExecutableFilePath/GetHomePath/ChangeFileExtension/CombinePath</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment">- Fixed strings::CopyAnsiString/CopyWideString was not returning the correct value</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="comment">## v0.3.1 alpha:</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment">- All types/structs/fields/functions documented</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment">- [Win32] Fixed legacy opengl (GL_INVALID_OPERATION)</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="comment">## v0.3.0 alpha:</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="comment">- Updated documentation a lot</span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="comment">- [Win32] Support for WGL opengl profile selection</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment">## v0.2.6 alpha:</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment">- Added memory::CopyMemory</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="comment">- Added fpl::GetLastError and fpl::GetLastErrorCount for proper error handling</span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment">- Added files::CreateBinaryFile and files::OpenBinaryFile for wide file paths</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment">- Added basic support for creating a modern opengl rendering context, see VideoCompabilityProfile in VideoSettings</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment">- Added support for enabling opengl vsync through WGL</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment">- Returns char * for all paths:: get like functions</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="comment">- Returns char/wchar_t * for all strings:: functions</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="comment">- Fixed files::CreateBinaryFile was never able to overwrite the file.</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment">- Fixed #include was in some namespaces defined</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="comment">- Fixed files::ClearMemory was wrong</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="comment">- Replaced all const constants with fpl_constant</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="comment">- Removed template code / Replaced it with macros</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="comment">## v0.2.5 alpha:</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="comment">- Added CreateDirectories</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="comment">- Returns char * for all path get like functions</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;<span class="comment">- Fixed CreateBinaryFile was never able to overwrite the file.</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="comment">## v.2.4 alpha:</span></div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="comment">- Changed to a doxygen + vc complaint documentation style</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="comment">- CopyFile2, DeleteFile2 and CloseFile2 are now CopyFile, DeleteFile, CloseFile</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment">## v0.2.3 alpha:</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="comment">- Support for doxygen in documentations</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="comment">## v0.2.2 alpha:</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment">- Added XInput support</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="comment">## v0.2.1 alpha:</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="comment">- Changed a lot of pointer arguments to reference</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="comment">- Added gamepad event structures</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="comment">## v0.2 alpha:</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="comment">- Dropped C support and moved to a more C++ ish api</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="comment">- Dropped no C-Runtime support</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="comment">## v0.1 alpha:</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="comment">- Initial version</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="comment"># TODO (Top priority order)</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="comment">- Change most assertions to normal comparisons and make it rock solid, so it wont crash for the most part. Returning fpl_null or empty is much more preferred.</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="comment">- REFERENCE.MD generation using doxygen</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="comment">- Feature completeness for Win32 (Multimonitor)</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;<span class="comment">- Test other compilers for Win32 (Clang, MingW, Intel)</span></div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="comment">- Solidify file/path system:</span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;<span class="comment">    - Decide to a fixed encoding, either unicode 16 bit or UTF8 or</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;<span class="comment">        Leave it as it is, but give the caller informations about the platform (which separator, what character encoding for files/path etc.)</span></div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<span class="comment">        And use a custom main entry point for every platform so we can ensure that the arguments come in as native always</span></div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="comment">        Reason: I want unicode support for arguments in win32 and UTF8 for the other platforms.</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="comment">- Finish Linux Platform:</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="comment">    - Library (ld.so)</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="comment">    - Timings</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="comment">    - Strings</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="comment">    - Files &amp; Path (Look out for .DS_Store and . files/folders, handle it properly)</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="comment">    - Hardware</span></div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="comment">    - Threading (pthread)</span></div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="comment">    - Window (X11, Wayland)</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="comment">    - Video opengl (GLX)</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="comment">    - Video software</span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment">    - Audio (Alsa)</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="comment">- Write a tool to convert final_platform_layer.hpp into final_platform_layer.h (C89 complaint code)</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment">- Remove the need of the C/C++ Runtime</span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment">- Additional features for later:</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="comment">    - Open/Save file/folder dialog</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;<span class="comment">    - Networking (UDP, TCP)</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="comment">// ****************************************************************************</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="comment">// Header</span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="comment">// ****************************************************************************</span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="preprocessor">#ifndef FPL_INCLUDE_HPP</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="preprocessor">#define FPL_INCLUDE_HPP</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="comment">// C++ detection</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="preprocessor">#if !defined(__cplusplus)</span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="preprocessor">#   error &quot;You need a C++/98 compatible compiler for this library!&quot;</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="comment">// Platform detection</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="preprocessor">#if defined(_WIN32)</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="preprocessor">#   define FPL_PLATFORM_WIN32</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="preprocessor">#   define FPL_PLATFORM_NAME &quot;Win32&quot;</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="preprocessor">#elif defined(__linux__) || defined(__gnu_linux__) || defined(linux)</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="preprocessor">#   define FPL_PLATFORM_LINUX</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="preprocessor">#   define FPL_PLATFORM_NAME &quot;Linux&quot;</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="preprocessor">#elif defined(__unix__) || defined(_POSIX_VERSION)</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="preprocessor">#   define FPL_PLATFORM_UNIX</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;<span class="preprocessor">#   define FPL_PLATFORM_NAME &quot;Unix&quot;</span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;<span class="preprocessor">#   error &quot;This platform/compiler is not supported!&quot;</span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="comment">// Architecture detection (x86, x64)</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="comment">// See: https://sourceforge.net/p/predef/wiki/Architectures/</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="preprocessor">#if defined(_WIN64) || defined(__x86_64__) || defined(__aarch64__)</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="preprocessor">#   define FPL_ARCH_X64 </span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="preprocessor">#elif defined(_WIN32) || defined(__i386__) || defined(__X86__) || defined(_X86_)</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="preprocessor">#   define FPL_ARCH_X86</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="preprocessor">#   error &quot;This architecture/compiler is not supported!&quot;</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="comment">// Build configuration and compilers</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="comment">// See: http://beefchunk.com/documentation/lang/c/pre-defined-c/precomp.html</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="comment">// See: http://nadeausoftware.com/articles/2012/10/c_c_tip_how_detect_compiler_name_and_version_using_compiler_predefined_macros</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="preprocessor">#if defined(_MSC_VER)</span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="preprocessor">#   define FPL_COMPILER_MSVC</span></div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="preprocessor">#elif defined(__llvm__)</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="preprocessor">#   define FPL_COMPILER_LLVM</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<span class="preprocessor">#elif defined(__clang__)</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;<span class="preprocessor">#   define FPL_COMPILER_CLANG</span></div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="preprocessor">#elif defined(__GNUC__) || defined(__GNUG__)</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;<span class="preprocessor">#   define FPL_COMPILER_GCC</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="preprocessor">#elif defined(__MINGW32__)</span></div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="preprocessor">#   define FPL_COMPILER_MINGW</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="preprocessor">#elif defined(__INTEL_COMPILER) || defined(__ICC)</span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="preprocessor">#   define FPL_COMPILER_INTEL</span></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="preprocessor">#   define FPL_COMPILER_UNKNOWN</span></div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;<span class="comment">// Compiler depended settings and detections</span></div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;<span class="preprocessor">#if defined(FPL_COMPILER_MSVC)</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="preprocessor">#   pragma warning( disable : 4577 )</span></div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="preprocessor">#   pragma warning( disable : 4065 )</span></div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;<span class="preprocessor">#   if defined(_DEBUG) || (!defined(NDEBUG))</span></div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="preprocessor">#       define FPL_ENABLE_DEBUG</span></div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="preprocessor">#   else</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<span class="preprocessor">#       define FPL_ENABLE_RELEASE</span></div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="preprocessor">#   endif</span></div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="comment">// @NOTE(final): Expect all other compilers to pass in FPL_DEBUG manually</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="preprocessor">#   if defined(FPL_DEBUG)</span></div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="preprocessor">#       define FPL_ENABLE_DEBUG</span></div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;<span class="preprocessor">#   else</span></div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;<span class="preprocessor">#       define FPL_ENABLE_RELEASE</span></div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<span class="preprocessor">#   endif</span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="comment">// Options &amp; Feature detection</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="comment">// Assertions</span></div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<span class="preprocessor">#if !defined(FPL_NO_ASSERTIONS)</span></div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="preprocessor">#   if !defined(FPL_FORCE_ASSERTIONS)</span></div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;<span class="preprocessor">#       if defined(FPL_ENABLE_DEBUG)</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;<span class="preprocessor">#           define FPL_ENABLE_ASSERTIONS</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;<span class="preprocessor">#       endif</span></div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="preprocessor">#   else</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;<span class="preprocessor">#       define FPL_ENABLE_ASSERTIONS</span></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="preprocessor">#   endif</span></div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="preprocessor">#if defined(FPL_ENABLE_ASSERTIONS)</span></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="preprocessor">#   if !defined(FPL_NO_C_ASSERT)</span></div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="preprocessor">#       define FPL_ENABLE_C_ASSERT</span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="preprocessor">#   endif</span></div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="comment">// Window</span></div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="preprocessor">#if !defined(FPL_NO_WINDOW)</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="preprocessor">#   define FPL_SUPPORT_WINDOW</span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="comment">// Video</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="preprocessor">#if !defined(FPL_NO_VIDEO)</span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="preprocessor">#   define FPL_SUPPORT_VIDEO</span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="preprocessor">#if defined(FPL_SUPPORT_VIDEO)</span></div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="preprocessor">#   if !defined(FPL_NO_VIDEO_OPENGL)</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="preprocessor">#       define FPL_SUPPORT_VIDEO_OPENGL</span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="preprocessor">#   endif</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="preprocessor">#   if !defined(FPL_NO_VIDEO_SOFTWARE)</span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="preprocessor">#       define FPL_SUPPORT_VIDEO_SOFTWARE</span></div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="preprocessor">#   endif</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment">// Audio</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="preprocessor">#if !defined(FPL_NO_AUDIO)</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="preprocessor">#   define FPL_SUPPORT_AUDIO</span></div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="preprocessor">#if defined(FPL_SUPPORT_AUDIO)</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="preprocessor">#   if !defined(FPL_NO_AUDIO_DIRECTSOUND) &amp;&amp; defined(FPL_PLATFORM_WIN32)</span></div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;<span class="preprocessor">#       define FPL_SUPPORT_AUDIO_DIRECTSOUND</span></div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;<span class="preprocessor">#   endif</span></div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;<span class="preprocessor">#endif // FPL_SUPPORT_AUDIO</span></div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;<span class="preprocessor">#if !defined(FPL_SUPPORT_WINDOW)</span></div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;<span class="preprocessor">#   if defined(FPL_SUPPORT_VIDEO)</span></div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="preprocessor">#       undef FPL_SUPPORT_VIDEO</span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="preprocessor">#   endif</span></div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;<span class="preprocessor">#   if defined(FPL_SUPPORT_VIDEO_OPENGL)</span></div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;<span class="preprocessor">#       undef FPL_SUPPORT_VIDEO_OPENGL</span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="preprocessor">#   endif</span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="preprocessor">#   if defined(FPL_SUPPORT_VIDEO_SOFTWARE)</span></div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<span class="preprocessor">#       undef FPL_SUPPORT_VIDEO_SOFTWARE</span></div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;<span class="preprocessor">#   endif</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="comment">// Enable supports (FPL uses _ENABLE_ internally only)</span></div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="preprocessor">#if defined(FPL_SUPPORT_WINDOW)</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="preprocessor">#   define FPL_ENABLE_WINDOW</span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="preprocessor">#if defined(FPL_SUPPORT_VIDEO)</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="preprocessor">#   define FPL_ENABLE_VIDEO</span></div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;<span class="preprocessor">#   if defined(FPL_SUPPORT_VIDEO_OPENGL)</span></div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;<span class="preprocessor">#       define FPL_ENABLE_VIDEO_OPENGL</span></div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="preprocessor">#   endif</span></div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="preprocessor">#   if defined(FPL_SUPPORT_VIDEO_SOFTWARE)</span></div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="preprocessor">#       define FPL_ENABLE_VIDEO_SOFTWARE</span></div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="preprocessor">#   endif</span></div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="preprocessor">#if defined(FPL_SUPPORT_AUDIO)</span></div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;<span class="preprocessor">#   define FPL_ENABLE_AUDIO</span></div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="preprocessor">#   if defined(FPL_SUPPORT_AUDIO_DIRECTSOUND)</span></div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;<span class="preprocessor">#       define FPL_ENABLE_AUDIO_DIRECTSOUND</span></div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;<span class="preprocessor">#   endif</span></div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="preprocessor">#if !defined(FPL_NO_ERROR_IN_CONSOLE)</span></div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="preprocessor">#   define FPL_ENABLE_ERROR_IN_CONSOLE</span></div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;<span class="preprocessor">#if !defined(FPL_NO_MULTIPLE_ERRORSTATES)</span></div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;<span class="preprocessor">#   define FPL_ENABLE_MULTIPLE_ERRORSTATES</span></div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="preprocessor">#if defined(FPL_AUTO_NAMESPACE)</span></div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="preprocessor">#   define FPL_ENABLE_AUTO_NAMESPACE</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment">// Static/Inline/Extern/Internal</span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00833"></a><span class="lineno"><a class="line" href="final__platform__layer_8hpp.html#a15247947df186e1a456e037388e619a7">  833</a></span>&#160;<span class="comment"></span><span class="preprocessor">#define fpl_globalvar static</span></div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;<span class="preprocessor">#define fpl_localvar static</span></div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;<span class="preprocessor">#define fpl_internal static</span></div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="preprocessor">#define fpl_inline inline</span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="preprocessor">#define fpl_internal_inline fpl_internal fpl_inline</span></div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="preprocessor">#if (__cplusplus &gt;= 201103L) || (_MSC_VER &gt;= 1900)</span></div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="preprocessor">#   define fpl_null nullptr</span></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="preprocessor">#   define fpl_constant constexpr</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="preprocessor">#   define fpl_null 0</span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="preprocessor">#   define fpl_constant static const</span></div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="preprocessor">#if defined(FPL_API_AS_PRIVATE)</span></div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;<span class="preprocessor">#   define fpl_api static</span></div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;<span class="preprocessor">#   define fpl_api extern</span></div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="preprocessor">#endif // FPL_API_AS_PRIVATE</span></div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="comment">// Assertions</span></div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<span class="preprocessor">#if defined(FPL_ENABLE_ASSERTIONS)</span></div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="preprocessor">#   if defined(FPL_ENABLE_C_ASSERT) &amp;&amp; !defined(FPL_FORCE_ASSERTIONS)</span></div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="preprocessor">#       include &lt;assert.h&gt;</span></div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="preprocessor">#       define FPL_ASSERT(exp) assert(exp)</span></div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="preprocessor">#       define FPL_STATICASSERT(exp) static_assert(exp, &quot;static_assert&quot;)</span></div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="preprocessor">#   else</span></div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="preprocessor">#       define FPL_ASSERT(exp) if(!(exp)) {*(int *)0 = 0;}</span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="preprocessor">#       define FPL_STATICASSERT_(exp, line) \</span></div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="preprocessor">            int fpl_static_assert_##line(int static_assert_failed[(exp)?1:-1])</span></div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="preprocessor">#       define FPL_STATICASSERT(exp) \</span></div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;<span class="preprocessor">            FPL_STATICASSERT_(exp, __LINE__)</span></div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="preprocessor">#   endif // FPL_ENABLE_C_ASSERT</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;<span class="preprocessor">#   define FPL_ASSERT(exp)</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;<span class="preprocessor">#   define FPL_STATICASSERT(exp)</span></div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;<span class="preprocessor">#endif // FPL_ENABLE_ASSERTIONS</span></div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;</div><div class="line"><a name="l00890"></a><span class="lineno"><a class="line" href="final__platform__layer_8hpp.html#a4d53ab9cdf56d440de4cb631dc5682ce">  890</a></span>&#160;<span class="preprocessor">#define FPL_NOT_IMPLEMENTED {*(int *)0 = 0xBAD;}</span></div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;<span class="comment">// Types</span></div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span> <span class="comment">// uint64_t, uint32_t, uint8_t, int16_t, etc.</span></div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;<span class="preprocessor">#include &lt;stdlib.h&gt;</span> <span class="comment">// size_t</span></div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;<span class="comment">// Macro functions</span></div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00902"></a><span class="lineno"><a class="line" href="final__platform__layer_8hpp.html#a1b604d8132880ef082abb67661670eb8">  902</a></span>&#160;<span class="comment"></span><span class="preprocessor">#define FPL_ARRAYCOUNT(arr) (sizeof(arr) / sizeof((arr)[0]))</span></div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;</div><div class="line"><a name="l00905"></a><span class="lineno"><a class="line" href="final__platform__layer_8hpp.html#aa8c6c05d32a184862826e0a9257f5539">  905</a></span>&#160;<span class="preprocessor">#define FPL_OFFSETOF(type, field) ((size_t)(&amp;(((type*)(0))-&gt;field)))</span></div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;</div><div class="line"><a name="l00908"></a><span class="lineno"><a class="line" href="final__platform__layer_8hpp.html#ac981bef3df9c03ceb5f5717f8a77741b">  908</a></span>&#160;<span class="preprocessor">#define FPL_MIN(a, b) ((a) &lt; (b)) ? (a) : (b)</span></div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="preprocessor">#define FPL_MAX(a, b) ((a) &gt; (b)) ? (a) : (b)</span></div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div><div class="line"><a name="l00913"></a><span class="lineno"><a class="line" href="final__platform__layer_8hpp.html#a9165c0d37bc256de16952679805de2f0">  913</a></span>&#160;<span class="preprocessor">#define FPL_KILOBYTES(value) (((value) * 1024ull))</span></div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="preprocessor">#define FPL_MEGABYTES(value) ((FPL_KILOBYTES(value) * 1024ull))</span></div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;<span class="preprocessor">#define FPL_GIGABYTES(value) ((FPL_MEGABYTES(value) * 1024ull))</span></div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;<span class="preprocessor">#define FPL_TERABYTES(value) ((FPL_GIGABYTES(value) * 1024ull))</span></div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div><div class="line"><a name="l00922"></a><span class="lineno"><a class="line" href="final__platform__layer_8hpp.html#a4602cad9ac19ca87310064e010a583cd">  922</a></span>&#160;<span class="preprocessor">#define FPL_IS_ALIGNED(ptr, alignment) (((uintptr_t)(const void *)(ptr)) % (alignment) == 0)</span></div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;</div><div class="line"><a name="l00925"></a><span class="lineno"><a class="line" href="final__platform__layer_8hpp.html#ae1ce00c613aac610fdcb55880063c89b">  925</a></span>&#160;<span class="preprocessor">#define FPL_ENUM_AS_FLAGS_OPERATORS(etype) \</span></div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="preprocessor">        inline etype operator | (etype lhs, etype rhs) { \</span></div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;<span class="preprocessor">            return (etype)(static_cast&lt;int&gt;(lhs) | static_cast&lt;int&gt;(rhs)); \</span></div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="preprocessor">        } \</span></div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;<span class="preprocessor">        inline bool operator &amp; (const etype lhs, const etype rhs) { \</span></div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;<span class="preprocessor">            return (static_cast&lt;int&gt;(lhs) &amp; static_cast&lt;int&gt;(rhs)) == static_cast&lt;int&gt;(rhs); \</span></div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;<span class="preprocessor">        } \</span></div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;<span class="preprocessor">        inline etype&amp; operator |= (etype &amp;lhs, etype rhs) { \</span></div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;<span class="preprocessor">            lhs = (etype)(static_cast&lt;int&gt;(lhs) | static_cast&lt;int&gt;(rhs)); \</span></div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;<span class="preprocessor">            return lhs; \</span></div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="preprocessor">        } \</span></div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;<span class="preprocessor">        inline etype&amp; operator &amp;= (etype &amp;lhs, etype rhs) { \</span></div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;<span class="preprocessor">            lhs = (etype)(static_cast&lt;int&gt;(lhs) &amp; static_cast&lt;int&gt;(rhs)); \</span></div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;<span class="preprocessor">            return lhs; \</span></div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;<span class="preprocessor">        }</span></div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;<span class="comment">// ****************************************************************************</span></div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;<span class="comment">// API Declaration</span></div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;<span class="comment">// ****************************************************************************</span></div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;</div><div class="line"><a name="l00948"></a><span class="lineno"><a class="line" href="namespacefpl.html">  948</a></span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacefpl.html">fpl</a> {</div><div class="line"><a name="l00950"></a><span class="lineno"><a class="line" href="namespacefpl_1_1atomics.html">  950</a></span>&#160;    <span class="keyword">namespace </span>atomics {</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___atomics.html#gad73f549eac689a46e21e30aedae93c49">AtomicReadFence</a>();</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___atomics.html#gaff68c1ca29565939b4e289e14918d31a">AtomicWriteFence</a>();</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___atomics.html#gabd9be2027753569ed78026d6c6b4ba5b">AtomicReadWriteFence</a>();</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint32_t <a class="code" href="group___atomics.html#ga55587b1d4c3e9faf96161811a708bee1">AtomicExchangeU32</a>(<span class="keyword">volatile</span> uint32_t *target, <span class="keyword">const</span> uint32_t value);</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> int32_t <a class="code" href="group___atomics.html#gaa337659a4c9820f43542b8f81c4f66f4">AtomicExchangeS32</a>(<span class="keyword">volatile</span> int32_t *target, <span class="keyword">const</span> int32_t value);</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint64_t <a class="code" href="group___atomics.html#ga99cbc21105a6d9c3f91c8d14a8ec68dc">AtomicExchangeU64</a>(<span class="keyword">volatile</span> uint64_t *target, <span class="keyword">const</span> uint64_t value);</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> int64_t <a class="code" href="group___atomics.html#ga08d3bf3244f49659b51c512ea149e37a">AtomicExchangeS64</a>(<span class="keyword">volatile</span> int64_t *target, <span class="keyword">const</span> int64_t value);</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> *<a class="code" href="group___atomics.html#ga0fb15fee8df0c3577f16f00401e1872f">AtomicExchangePtr</a>(<span class="keyword">volatile</span> <span class="keywordtype">void</span> **target, <span class="keyword">const</span> <span class="keywordtype">void</span> *value);</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint32_t <a class="code" href="group___atomics.html#gabedcbf082844800172f4228383c80f75">AtomicAddU32</a>(<span class="keyword">volatile</span> uint32_t *value, <span class="keyword">const</span> uint32_t addend);</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> int32_t <a class="code" href="group___atomics.html#ga93df5e810594beb7c9d50d30f2ee4a79">AtomicAddS32</a>(<span class="keyword">volatile</span> int32_t *value, <span class="keyword">const</span> int32_t addend);</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint64_t <a class="code" href="group___atomics.html#ga4cd97f257c9c9d6c5ae9c7fb28805627">AtomicAddU64</a>(<span class="keyword">volatile</span> uint64_t *value, <span class="keyword">const</span> uint64_t addend);</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> int64_t <a class="code" href="group___atomics.html#ga49173aa8fa9ba12740fedc24260ae7c5">AtomicAddS64</a>(<span class="keyword">volatile</span> int64_t *value, <span class="keyword">const</span> int64_t addend);</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint32_t <a class="code" href="group___atomics.html#ga7e1a4ac48629ab93ad035c6bd6612d84">AtomicCompareAndExchangeU32</a>(<span class="keyword">volatile</span> uint32_t *dest, <span class="keyword">const</span> uint32_t comparand, <span class="keyword">const</span> uint32_t exchange);</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> int32_t <a class="code" href="group___atomics.html#ga208837a8141ca1b63f288071224dbc53">AtomicCompareAndExchangeS32</a>(<span class="keyword">volatile</span> int32_t *dest, <span class="keyword">const</span> int32_t comparand, <span class="keyword">const</span> int32_t exchange);</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint64_t <a class="code" href="group___atomics.html#gac6e8ef4b3f4c8cb95586af436a05c0b5">AtomicCompareAndExchangeU64</a>(<span class="keyword">volatile</span> uint64_t *dest, <span class="keyword">const</span> uint64_t comparand, <span class="keyword">const</span> uint64_t exchange);</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> int64_t <a class="code" href="group___atomics.html#ga06586790bcd6bd9944c47372e3cef2ad">AtomicCompareAndExchangeS64</a>(<span class="keyword">volatile</span> int64_t *dest, <span class="keyword">const</span> int64_t comparand, <span class="keyword">const</span> int64_t exchange);</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> *<a class="code" href="group___atomics.html#ga584a3d96901d74ce519d239342a559a9">AtomicCompareAndExchangePtr</a>(<span class="keyword">volatile</span> <span class="keywordtype">void</span> **dest, <span class="keyword">const</span> <span class="keywordtype">void</span> *comparand, <span class="keyword">const</span> <span class="keywordtype">void</span> *exchange);</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___atomics.html#gaa489434b89fc006c043d41e8a3ac19b0">IsAtomicCompareAndExchangeU32</a>(<span class="keyword">volatile</span> uint32_t *dest, <span class="keyword">const</span> uint32_t comparand, <span class="keyword">const</span> uint32_t exchange);</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___atomics.html#ga8cddb961f4b1f9e3738894cb9626bf9f">IsAtomicCompareAndExchangeS32</a>(<span class="keyword">volatile</span> int32_t *dest, <span class="keyword">const</span> int32_t comparand, <span class="keyword">const</span> int32_t exchange);</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___atomics.html#gafcc9f50de85f288d137ef28f199b8a43">IsAtomicCompareAndExchangeU64</a>(<span class="keyword">volatile</span> uint64_t *dest, <span class="keyword">const</span> uint64_t comparand, <span class="keyword">const</span> uint64_t exchange);</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___atomics.html#ga906723d4ae40442122864b0016e165ea">IsAtomicCompareAndExchangeS64</a>(<span class="keyword">volatile</span> int64_t *dest, <span class="keyword">const</span> int64_t comparand, <span class="keyword">const</span> int64_t exchange);</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___atomics.html#ga9053017d18706dd32468809bdf115103">IsAtomicCompareAndExchangePtr</a>(<span class="keyword">volatile</span> <span class="keywordtype">void</span> **dest, <span class="keyword">const</span> <span class="keywordtype">void</span> *comparand, <span class="keyword">const</span> <span class="keywordtype">void</span> *exchange);</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint32_t <a class="code" href="group___atomics.html#ga2460e7047ec012a5859992fbf05aa29f">AtomicLoadU32</a>(<span class="keyword">volatile</span> uint32_t *source);</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint64_t <a class="code" href="group___atomics.html#ga2576254de8d52495002128f0abd0a45e">AtomicLoadU64</a>(<span class="keyword">volatile</span> uint64_t *source);</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> int32_t <a class="code" href="group___atomics.html#gae9f418fb1d62ae7595983caac6464d06">AtomicLoadS32</a>(<span class="keyword">volatile</span> int32_t *source);</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> int64_t <a class="code" href="group___atomics.html#ga12eabfd1b3473e2750879bd6efe5add2">AtomicLoadS64</a>(<span class="keyword">volatile</span> int64_t *source);</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> *<a class="code" href="group___atomics.html#ga68ded9789fab976263e6cce2e124c4d2">AtomicLoadPtr</a>(<span class="keyword">volatile</span> <span class="keywordtype">void</span> **source);</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___atomics.html#ga01905a5db859475f4b394ed469af0c5a">AtomicStoreU32</a>(<span class="keyword">volatile</span> uint32_t *dest, <span class="keyword">const</span> uint32_t value);</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___atomics.html#gaa9c7bf288268d469be98e19a163ed636">AtomicStoreU64</a>(<span class="keyword">volatile</span> uint64_t *dest, <span class="keyword">const</span> uint64_t value);</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___atomics.html#ga6045f0c89cb08843e824d1209064afba">AtomicStoreS32</a>(<span class="keyword">volatile</span> int32_t *dest, <span class="keyword">const</span> int32_t value);</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___atomics.html#ga6a2897035fe8ae0fd64084f98012e2e6">AtomicStoreS64</a>(<span class="keyword">volatile</span> int64_t *dest, <span class="keyword">const</span> int64_t value);</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___atomics.html#ga87f4bafdd34360d4eeaef253771ee9c4">AtomicStorePtr</a>(<span class="keyword">volatile</span> <span class="keywordtype">void</span> **dest, <span class="keyword">const</span> <span class="keywordtype">void</span> *value);</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    };</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;</div><div class="line"><a name="l01032"></a><span class="lineno"><a class="line" href="namespacefpl_1_1hardware.html"> 1032</a></span>&#160;    <span class="keyword">namespace </span>hardware {</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint32_t <a class="code" href="group___hardware.html#ga4436ab750f9876cae642e985ddc31419">GetProcessorCoreCount</a>();</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">char</span> *<a class="code" href="group___hardware.html#ga9bc84d10830c46188cb9794459051b11">GetProcessorName</a>(<span class="keywordtype">char</span> *destBuffer, <span class="keyword">const</span> uint32_t maxDestBufferLen);</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    };</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;</div><div class="line"><a name="l01054"></a><span class="lineno"><a class="line" href="namespacefpl_1_1_init_flags.html"> 1054</a></span>&#160;    <span class="keyword">namespace </span>InitFlags {</div><div class="line"><a name="l01056"></a><span class="lineno"><a class="line" href="namespacefpl_1_1_init_flags.html#a3aaa570e446e656cbc2c25d2a1a76db0"> 1056</a></span>&#160;        <span class="keyword">enum</span> <a class="code" href="namespacefpl_1_1_init_flags.html#a3aaa570e446e656cbc2c25d2a1a76db0">InitFlagEnum</a> {</div><div class="line"><a name="l01058"></a><span class="lineno"><a class="line" href="namespacefpl_1_1_init_flags.html#a3aaa570e446e656cbc2c25d2a1a76db0af95385b58eb3b8f781bdf7ebad0e9acb"> 1058</a></span>&#160;            <a class="code" href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6afc310a3cf2b78b9d8ac95038bacb25c7">None</a> = 0,</div><div class="line"><a name="l01060"></a><span class="lineno"><a class="line" href="namespacefpl_1_1_init_flags.html#a3aaa570e446e656cbc2c25d2a1a76db0aaf987c21d9199178e8a48f4105309eaf"> 1060</a></span>&#160;            <a class="code" href="namespacefpl_1_1window_1_1_event_types.html#ac1b654b98c2774f73b1b089f2886fc4face10a215276c2c038697d49b40777141">Window</a> = 1 &lt;&lt; 0,</div><div class="line"><a name="l01062"></a><span class="lineno"><a class="line" href="namespacefpl_1_1_init_flags.html#a3aaa570e446e656cbc2c25d2a1a76db0a2fe2ed7e92f03819bb19ee67ba71605e"> 1062</a></span>&#160;            <a class="code" href="namespacefpl_1_1_init_flags.html#a3aaa570e446e656cbc2c25d2a1a76db0a2fe2ed7e92f03819bb19ee67ba71605e">Video</a> = 1 &lt;&lt; 1,</div><div class="line"><a name="l01064"></a><span class="lineno"><a class="line" href="namespacefpl_1_1_init_flags.html#a3aaa570e446e656cbc2c25d2a1a76db0aa6f3ee9288c3c80c0a838cc7ef7459e1"> 1064</a></span>&#160;            <a class="code" href="namespacefpl_1_1_init_flags.html#a3aaa570e446e656cbc2c25d2a1a76db0aa6f3ee9288c3c80c0a838cc7ef7459e1">Audio</a> = 1 &lt;&lt; 2,</div><div class="line"><a name="l01066"></a><span class="lineno"><a class="line" href="namespacefpl_1_1_init_flags.html#a3aaa570e446e656cbc2c25d2a1a76db0a72d903a1e7df1bbd75980b61d5831373"> 1066</a></span>&#160;            <a class="code" href="namespacefpl_1_1_init_flags.html#a3aaa570e446e656cbc2c25d2a1a76db0a72d903a1e7df1bbd75980b61d5831373">All</a> = <a class="code" href="namespacefpl_1_1window_1_1_event_types.html#ac1b654b98c2774f73b1b089f2886fc4face10a215276c2c038697d49b40777141">Window</a> | <a class="code" href="namespacefpl_1_1_init_flags.html#a3aaa570e446e656cbc2c25d2a1a76db0a2fe2ed7e92f03819bb19ee67ba71605e">Video</a> | <a class="code" href="namespacefpl_1_1_init_flags.html#a3aaa570e446e656cbc2c25d2a1a76db0aa6f3ee9288c3c80c0a838cc7ef7459e1">Audio</a></div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        };</div><div class="line"><a name="l01068"></a><span class="lineno"><a class="line" href="group___settings.html#ga8e20ac4b795db2079ebd0339e72d4110"> 1068</a></span>&#160;    };</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <span class="keyword">typedef</span> <a class="code" href="namespacefpl_1_1_init_flags.html#a3aaa570e446e656cbc2c25d2a1a76db0">InitFlags::InitFlagEnum</a> <a class="code" href="group___settings.html#ga8e20ac4b795db2079ebd0339e72d4110">InitFlag</a>;</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    <a class="code" href="group___settings.html#ga5a93d3ae02696764fc8c3707b7f38f31">FPL_ENUM_AS_FLAGS_OPERATORS</a>(InitFlag);</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;</div><div class="line"><a name="l01075"></a><span class="lineno"><a class="line" href="namespacefpl_1_1_video_driver_types.html"> 1075</a></span>&#160;    <span class="keyword">namespace </span>VideoDriverTypes {</div><div class="line"><a name="l01077"></a><span class="lineno"><a class="line" href="namespacefpl_1_1_video_driver_types.html#a258cb7cd4b12cc998472708f70d55f7f"> 1077</a></span>&#160;        <span class="keyword">enum</span> <a class="code" href="namespacefpl_1_1_video_driver_types.html#a258cb7cd4b12cc998472708f70d55f7f">VideoDriverTypeEnum</a> {</div><div class="line"><a name="l01079"></a><span class="lineno"><a class="line" href="namespacefpl_1_1_video_driver_types.html#a258cb7cd4b12cc998472708f70d55f7faaf761da715331266973c671ae1e243d0"> 1079</a></span>&#160;            <a class="code" href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6afc310a3cf2b78b9d8ac95038bacb25c7">None</a> = 0,</div><div class="line"><a name="l01081"></a><span class="lineno"><a class="line" href="namespacefpl_1_1_video_driver_types.html#a258cb7cd4b12cc998472708f70d55f7fac98f1c1841b2c26aaf2cc06c9ce1d5b5"> 1081</a></span>&#160;            <a class="code" href="namespacefpl_1_1_video_driver_types.html#a258cb7cd4b12cc998472708f70d55f7fac98f1c1841b2c26aaf2cc06c9ce1d5b5">OpenGL</a>,</div><div class="line"><a name="l01083"></a><span class="lineno"><a class="line" href="namespacefpl_1_1_video_driver_types.html#a258cb7cd4b12cc998472708f70d55f7facec18deb73c81ed6ac84319bfb4311db"> 1083</a></span>&#160;            <a class="code" href="namespacefpl_1_1_video_driver_types.html#a258cb7cd4b12cc998472708f70d55f7facec18deb73c81ed6ac84319bfb4311db">Software</a>,</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        };</div><div class="line"><a name="l01085"></a><span class="lineno"><a class="line" href="group___settings.html#gaf6f67ba416d795684d6b0c836e5a4009"> 1085</a></span>&#160;    };</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <span class="keyword">typedef</span> <a class="code" href="namespacefpl_1_1_video_driver_types.html#a258cb7cd4b12cc998472708f70d55f7f">VideoDriverTypes::VideoDriverTypeEnum</a> <a class="code" href="group___settings.html#gaf6f67ba416d795684d6b0c836e5a4009">VideoDriverType</a>;</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;</div><div class="line"><a name="l01090"></a><span class="lineno"><a class="line" href="namespacefpl_1_1_video_compability_profiles.html"> 1090</a></span>&#160;    <span class="keyword">namespace </span>VideoCompabilityProfiles {</div><div class="line"><a name="l01092"></a><span class="lineno"><a class="line" href="namespacefpl_1_1_video_compability_profiles.html#acfa373302044d5de2a2b41be42fdc5d2"> 1092</a></span>&#160;        <span class="keyword">enum</span> <a class="code" href="namespacefpl_1_1_video_compability_profiles.html#acfa373302044d5de2a2b41be42fdc5d2">VideoCompabilityProfileEnum</a> {</div><div class="line"><a name="l01094"></a><span class="lineno"><a class="line" href="namespacefpl_1_1_video_compability_profiles.html#acfa373302044d5de2a2b41be42fdc5d2acce2f8ec850a14f06f3b660f0493b596"> 1094</a></span>&#160;            <a class="code" href="namespacefpl_1_1_video_compability_profiles.html#acfa373302044d5de2a2b41be42fdc5d2acce2f8ec850a14f06f3b660f0493b596">Legacy</a>,</div><div class="line"><a name="l01096"></a><span class="lineno"><a class="line" href="namespacefpl_1_1_video_compability_profiles.html#acfa373302044d5de2a2b41be42fdc5d2a6515c2e1d200fa8e9d6ad300782625ca"> 1096</a></span>&#160;            <a class="code" href="namespacefpl_1_1_video_compability_profiles.html#acfa373302044d5de2a2b41be42fdc5d2a6515c2e1d200fa8e9d6ad300782625ca">Core</a>,</div><div class="line"><a name="l01098"></a><span class="lineno"><a class="line" href="namespacefpl_1_1_video_compability_profiles.html#acfa373302044d5de2a2b41be42fdc5d2a8919fc080c43755b398cb30e7c310d28"> 1098</a></span>&#160;            <a class="code" href="namespacefpl_1_1_video_compability_profiles.html#acfa373302044d5de2a2b41be42fdc5d2a8919fc080c43755b398cb30e7c310d28">Forward</a>,</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        };</div><div class="line"><a name="l01100"></a><span class="lineno"><a class="line" href="group___settings.html#ga09eed97cc88484e22dc03536d66b38b8"> 1100</a></span>&#160;    };</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="keyword">typedef</span> <a class="code" href="namespacefpl_1_1_video_compability_profiles.html#acfa373302044d5de2a2b41be42fdc5d2">VideoCompabilityProfiles::VideoCompabilityProfileEnum</a> <a class="code" href="group___settings.html#ga09eed97cc88484e22dc03536d66b38b8">VideoCompabilityProfile</a>;</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;</div><div class="line"><a name="l01105"></a><span class="lineno"><a class="line" href="structfpl_1_1_video_settings.html"> 1105</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structfpl_1_1_video_settings.html">VideoSettings</a> {</div><div class="line"><a name="l01107"></a><span class="lineno"><a class="line" href="structfpl_1_1_video_settings.html#a5d0998db137f081c4ae3ce3faa12de4a"> 1107</a></span>&#160;        VideoDriverType <a class="code" href="structfpl_1_1_video_settings.html#a5d0998db137f081c4ae3ce3faa12de4a">driverType</a>;</div><div class="line"><a name="l01109"></a><span class="lineno"><a class="line" href="structfpl_1_1_video_settings.html#ac4088c2f193c99b722963acba7c919cd"> 1109</a></span>&#160;        VideoCompabilityProfile <a class="code" href="structfpl_1_1_video_settings.html#ac4088c2f193c99b722963acba7c919cd">profile</a>;</div><div class="line"><a name="l01111"></a><span class="lineno"><a class="line" href="structfpl_1_1_video_settings.html#a978bfca33e1fd1f26afc502fb392f021"> 1111</a></span>&#160;        uint32_t <a class="code" href="structfpl_1_1_video_settings.html#a978bfca33e1fd1f26afc502fb392f021">majorVersion</a>;</div><div class="line"><a name="l01113"></a><span class="lineno"><a class="line" href="structfpl_1_1_video_settings.html#ac99e6a0bc71882b9209875f09e632e47"> 1113</a></span>&#160;        uint32_t <a class="code" href="structfpl_1_1_video_settings.html#ac99e6a0bc71882b9209875f09e632e47">minorVersion</a>;</div><div class="line"><a name="l01115"></a><span class="lineno"><a class="line" href="structfpl_1_1_video_settings.html#add2a0d1279c32e7ace63995617c24f03"> 1115</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="structfpl_1_1_video_settings.html#add2a0d1279c32e7ace63995617c24f03">isVSync</a>;</div><div class="line"><a name="l01117"></a><span class="lineno"><a class="line" href="structfpl_1_1_video_settings.html#a2c736124a9d77dbb65eeb2f5518fb781"> 1117</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="structfpl_1_1_video_settings.html#a2c736124a9d77dbb65eeb2f5518fb781">isAutoSize</a>;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    };</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;</div><div class="line"><a name="l01121"></a><span class="lineno"><a class="line" href="group___settings.html#ga0a2cce1f784787afdfe4d00f12fbfae0"> 1121</a></span>&#160;    <a class="code" href="final__platform__layer_8hpp.html#ad67e19afe5bfc76f56e85436eac8cf4d">fpl_inline</a> <a class="code" href="structfpl_1_1_video_settings.html">VideoSettings</a> <a class="code" href="group___settings.html#ga0a2cce1f784787afdfe4d00f12fbfae0">DefaultVideoSettings</a>() {</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;        <a class="code" href="structfpl_1_1_video_settings.html">VideoSettings</a> result = {};</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        result.<a class="code" href="structfpl_1_1_video_settings.html#ac4088c2f193c99b722963acba7c919cd">profile</a> = <a class="code" href="namespacefpl_1_1_video_compability_profiles.html#acfa373302044d5de2a2b41be42fdc5d2acce2f8ec850a14f06f3b660f0493b596">VideoCompabilityProfile::Legacy</a>;</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        result.<a class="code" href="structfpl_1_1_video_settings.html#a978bfca33e1fd1f26afc502fb392f021">majorVersion</a> = result.<a class="code" href="structfpl_1_1_video_settings.html#ac99e6a0bc71882b9209875f09e632e47">minorVersion</a> = 0;</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        result.<a class="code" href="structfpl_1_1_video_settings.html#add2a0d1279c32e7ace63995617c24f03">isVSync</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        result.<a class="code" href="structfpl_1_1_video_settings.html#a2c736124a9d77dbb65eeb2f5518fb781">isAutoSize</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        <span class="comment">// @NOTE(final): Auto detect video driver</span></div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;<span class="preprocessor">#   if defined(FPL_ENABLE_VIDEO_OPENGL)</span></div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;        result.<a class="code" href="structfpl_1_1_video_settings.html#a5d0998db137f081c4ae3ce3faa12de4a">driverType</a> = <a class="code" href="namespacefpl_1_1_video_driver_types.html#a258cb7cd4b12cc998472708f70d55f7fac98f1c1841b2c26aaf2cc06c9ce1d5b5">VideoDriverType::OpenGL</a>;</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;<span class="preprocessor">#   elif defined(FPL_ENABLE_VIDEO_SOFTWARE)</span></div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        result.<a class="code" href="structfpl_1_1_video_settings.html#a5d0998db137f081c4ae3ce3faa12de4a">driverType</a> = <a class="code" href="namespacefpl_1_1_video_driver_types.html#a258cb7cd4b12cc998472708f70d55f7facec18deb73c81ed6ac84319bfb4311db">VideoDriverType::Software</a>;</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;<span class="preprocessor">#   else</span></div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        result.<a class="code" href="structfpl_1_1_video_settings.html#a5d0998db137f081c4ae3ce3faa12de4a">driverType</a> = <a class="code" href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6afc310a3cf2b78b9d8ac95038bacb25c7">VideoDriverType::None</a>;</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;<span class="preprocessor">#   endif</span></div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    }</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;</div><div class="line"><a name="l01141"></a><span class="lineno"><a class="line" href="namespacefpl_1_1_audio_driver_types.html"> 1141</a></span>&#160;    <span class="keyword">namespace </span>AudioDriverTypes {</div><div class="line"><a name="l01143"></a><span class="lineno"><a class="line" href="namespacefpl_1_1_audio_driver_types.html#afb8583e0947d11e4ec9479717912b82e"> 1143</a></span>&#160;        <span class="keyword">enum</span> <a class="code" href="namespacefpl_1_1_audio_driver_types.html#afb8583e0947d11e4ec9479717912b82e">AudioDriverTypeEnum</a> {</div><div class="line"><a name="l01145"></a><span class="lineno"><a class="line" href="namespacefpl_1_1_audio_driver_types.html#afb8583e0947d11e4ec9479717912b82eae4cc4bc4a5d9dcc5ea9f18657b5015c5"> 1145</a></span>&#160;            <a class="code" href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6afc310a3cf2b78b9d8ac95038bacb25c7">None</a> = 0,</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;            <span class="comment">// Auto detection</span></div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;            Auto,</div><div class="line"><a name="l01149"></a><span class="lineno"><a class="line" href="namespacefpl_1_1_audio_driver_types.html#afb8583e0947d11e4ec9479717912b82ea4bfffe090b40bd9fe6ea5713c5a614da"> 1149</a></span>&#160;            <a class="code" href="namespacefpl_1_1_audio_driver_types.html#afb8583e0947d11e4ec9479717912b82ea4bfffe090b40bd9fe6ea5713c5a614da">DirectSound</a>,</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;        };</div><div class="line"><a name="l01151"></a><span class="lineno"><a class="line" href="group___settings.html#gaa68dd55928a75c92a89e6160df9fbdd8"> 1151</a></span>&#160;    };</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <span class="keyword">typedef</span> <a class="code" href="namespacefpl_1_1_audio_driver_types.html#afb8583e0947d11e4ec9479717912b82e">AudioDriverTypes::AudioDriverTypeEnum</a> <a class="code" href="group___settings.html#gaa68dd55928a75c92a89e6160df9fbdd8">AudioDriverType</a>;</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;</div><div class="line"><a name="l01156"></a><span class="lineno"><a class="line" href="namespacefpl_1_1_audio_format_types.html"> 1156</a></span>&#160;    <span class="keyword">namespace </span>AudioFormatTypes {</div><div class="line"><a name="l01158"></a><span class="lineno"><a class="line" href="namespacefpl_1_1_audio_format_types.html#a584b62b8408e98f7b44cdef4984ce8c8"> 1158</a></span>&#160;        <span class="keyword">enum</span> <a class="code" href="namespacefpl_1_1_audio_format_types.html#a584b62b8408e98f7b44cdef4984ce8c8">AudioFormatTypeEnum</a> {</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;            <span class="comment">// No audio format</span></div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;            <a class="code" href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6afc310a3cf2b78b9d8ac95038bacb25c7">None</a> = 0,</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;            <span class="comment">// Unsigned 8-bit integer PCM</span></div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;            U8,</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;            <span class="comment">// Signed 16-bit integer PCM</span></div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;            S16,</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;            <span class="comment">// Signed 24-bit integer PCM</span></div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;            S24,</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;            <span class="comment">// Signed 32-bit integer PCM</span></div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;            S32,</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;            <span class="comment">// 32-bit floating point PCM</span></div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;            F32,</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;        };</div><div class="line"><a name="l01172"></a><span class="lineno"><a class="line" href="group___settings.html#ga2a55560abd38b3f813e8559cae2d6ee4"> 1172</a></span>&#160;    };</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    <span class="keyword">typedef</span> <a class="code" href="namespacefpl_1_1_audio_format_types.html#a584b62b8408e98f7b44cdef4984ce8c8">AudioFormatTypes::AudioFormatTypeEnum</a> <a class="code" href="group___settings.html#ga2a55560abd38b3f813e8559cae2d6ee4">AudioFormatType</a>;</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;</div><div class="line"><a name="l01177"></a><span class="lineno"><a class="line" href="structfpl_1_1_audio_device_format.html"> 1177</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structfpl_1_1_audio_device_format.html">AudioDeviceFormat</a> {</div><div class="line"><a name="l01179"></a><span class="lineno"><a class="line" href="structfpl_1_1_audio_device_format.html#a1216ea77c930dc846b682bbaa3979f8f"> 1179</a></span>&#160;        AudioFormatType <a class="code" href="structfpl_1_1_audio_device_format.html#a1216ea77c930dc846b682bbaa3979f8f">type</a>;</div><div class="line"><a name="l01181"></a><span class="lineno"><a class="line" href="structfpl_1_1_audio_device_format.html#ac43f3e139b09c5c38d0b6a0863c0ac1f"> 1181</a></span>&#160;        uint32_t <a class="code" href="structfpl_1_1_audio_device_format.html#ac43f3e139b09c5c38d0b6a0863c0ac1f">sampleRate</a>;</div><div class="line"><a name="l01183"></a><span class="lineno"><a class="line" href="structfpl_1_1_audio_device_format.html#a6d9ffc868ca9b121f3c39f73e495d0eb"> 1183</a></span>&#160;        uint32_t <a class="code" href="structfpl_1_1_audio_device_format.html#a6d9ffc868ca9b121f3c39f73e495d0eb">channels</a>;</div><div class="line"><a name="l01185"></a><span class="lineno"><a class="line" href="structfpl_1_1_audio_device_format.html#ab3706796b4be381973ae595e3155cfdc"> 1185</a></span>&#160;        uint32_t <a class="code" href="structfpl_1_1_audio_device_format.html#ab3706796b4be381973ae595e3155cfdc">periods</a>;</div><div class="line"><a name="l01187"></a><span class="lineno"><a class="line" href="structfpl_1_1_audio_device_format.html#acaa09150895bec02cf08d2b3b9f6fb7e"> 1187</a></span>&#160;        uint32_t <a class="code" href="structfpl_1_1_audio_device_format.html#acaa09150895bec02cf08d2b3b9f6fb7e">bufferSizeInBytes</a>;</div><div class="line"><a name="l01189"></a><span class="lineno"><a class="line" href="structfpl_1_1_audio_device_format.html#a2a0f46f5c1d9d0bfa869bf3cfd71dbbd"> 1189</a></span>&#160;        uint32_t <a class="code" href="structfpl_1_1_audio_device_format.html#a2a0f46f5c1d9d0bfa869bf3cfd71dbbd">bufferSizeInFrames</a>;</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    };</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;</div><div class="line"><a name="l01193"></a><span class="lineno"><a class="line" href="group___settings.html#gaa2a5629c37b69482654db63bda6e28a0"> 1193</a></span>&#160;    <span class="keyword">typedef</span> uint32_t(<a class="code" href="group___settings.html#gaa2a5629c37b69482654db63bda6e28a0">AudioClientReadFunction</a>)(<span class="keyword">const</span> <a class="code" href="structfpl_1_1_audio_device_format.html">AudioDeviceFormat</a> &amp;deviceFormat, <span class="keyword">const</span> uint32_t frameCount, <span class="keywordtype">void</span> *outputSamples, <span class="keywordtype">void</span> *userData);</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;</div><div class="line"><a name="l01196"></a><span class="lineno"><a class="line" href="structfpl_1_1_audio_settings.html"> 1196</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structfpl_1_1_audio_settings.html">AudioSettings</a> {</div><div class="line"><a name="l01198"></a><span class="lineno"><a class="line" href="structfpl_1_1_audio_settings.html#a6eced4e689d091d5c64aa68215ac0541"> 1198</a></span>&#160;        <a class="code" href="structfpl_1_1_audio_device_format.html">AudioDeviceFormat</a> <a class="code" href="structfpl_1_1_audio_settings.html#a6eced4e689d091d5c64aa68215ac0541">desiredFormat</a>;</div><div class="line"><a name="l01200"></a><span class="lineno"><a class="line" href="structfpl_1_1_audio_settings.html#a3ade4cb176a441d5da0236cbf954a8fa"> 1200</a></span>&#160;        <a class="code" href="group___settings.html#gaa2a5629c37b69482654db63bda6e28a0">AudioClientReadFunction</a> *<a class="code" href="structfpl_1_1_audio_settings.html#a3ade4cb176a441d5da0236cbf954a8fa">clientReadCallback</a>;</div><div class="line"><a name="l01202"></a><span class="lineno"><a class="line" href="structfpl_1_1_audio_settings.html#a67df3146815aa36f2d0389da88090ad1"> 1202</a></span>&#160;        AudioDriverType <a class="code" href="structfpl_1_1_audio_settings.html#a67df3146815aa36f2d0389da88090ad1">driver</a>;</div><div class="line"><a name="l01204"></a><span class="lineno"><a class="line" href="structfpl_1_1_audio_settings.html#a4171e2de1150225a459177259728ec31"> 1204</a></span>&#160;        uint32_t <a class="code" href="structfpl_1_1_audio_settings.html#a4171e2de1150225a459177259728ec31">bufferSizeInMilliSeconds</a>;</div><div class="line"><a name="l01206"></a><span class="lineno"><a class="line" href="structfpl_1_1_audio_settings.html#ac1eeab3aa3571fbf8bc5f5ab2a7381b4"> 1206</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="structfpl_1_1_audio_settings.html#ac1eeab3aa3571fbf8bc5f5ab2a7381b4">preferExclusiveMode</a>;</div><div class="line"><a name="l01208"></a><span class="lineno"><a class="line" href="structfpl_1_1_audio_settings.html#afa7979c8ffe93ee2612a64ebeb688a5d"> 1208</a></span>&#160;        <span class="keywordtype">void</span> *<a class="code" href="structfpl_1_1_audio_settings.html#afa7979c8ffe93ee2612a64ebeb688a5d">userData</a>;</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    };</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;</div><div class="line"><a name="l01212"></a><span class="lineno"><a class="line" href="group___settings.html#ga433f5dc8e4c59843f149f14da279f7e1"> 1212</a></span>&#160;    <a class="code" href="final__platform__layer_8hpp.html#ad67e19afe5bfc76f56e85436eac8cf4d">fpl_inline</a> <a class="code" href="structfpl_1_1_audio_settings.html">AudioSettings</a> <a class="code" href="group___settings.html#ga433f5dc8e4c59843f149f14da279f7e1">DefaultAudioSettings</a>() {</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        <a class="code" href="structfpl_1_1_audio_settings.html">AudioSettings</a> result = {};</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;        result.<a class="code" href="structfpl_1_1_audio_settings.html#a4171e2de1150225a459177259728ec31">bufferSizeInMilliSeconds</a> = 25;</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;        result.<a class="code" href="structfpl_1_1_audio_settings.html#ac1eeab3aa3571fbf8bc5f5ab2a7381b4">preferExclusiveMode</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;        result.<a class="code" href="structfpl_1_1_audio_settings.html#a6eced4e689d091d5c64aa68215ac0541">desiredFormat</a>.<a class="code" href="structfpl_1_1_audio_device_format.html#a6d9ffc868ca9b121f3c39f73e495d0eb">channels</a> = 2;</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;        result.<a class="code" href="structfpl_1_1_audio_settings.html#a6eced4e689d091d5c64aa68215ac0541">desiredFormat</a>.<a class="code" href="structfpl_1_1_audio_device_format.html#ac43f3e139b09c5c38d0b6a0863c0ac1f">sampleRate</a> = 48000;</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;        result.<a class="code" href="structfpl_1_1_audio_settings.html#a6eced4e689d091d5c64aa68215ac0541">desiredFormat</a>.<a class="code" href="structfpl_1_1_audio_device_format.html#a1216ea77c930dc846b682bbaa3979f8f">type</a> = AudioFormatType::S16;</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;        result.<a class="code" href="structfpl_1_1_audio_settings.html#a67df3146815aa36f2d0389da88090ad1">driver</a> = <a class="code" href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6afc310a3cf2b78b9d8ac95038bacb25c7">AudioDriverType::None</a>;</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;<span class="preprocessor">#   if defined(FPL_PLATFORM_WIN32)</span></div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;<span class="preprocessor">#       if defined(FPL_ENABLE_AUDIO_DIRECTSOUND)</span></div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        result.<a class="code" href="structfpl_1_1_audio_settings.html#a67df3146815aa36f2d0389da88090ad1">driver</a> = <a class="code" href="namespacefpl_1_1_audio_driver_types.html#afb8583e0947d11e4ec9479717912b82ea4bfffe090b40bd9fe6ea5713c5a614da">AudioDriverType::DirectSound</a>;</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;<span class="preprocessor">#       endif</span></div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;<span class="preprocessor">#   endif</span></div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    }</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;</div><div class="line"><a name="l01230"></a><span class="lineno"><a class="line" href="structfpl_1_1_window_settings.html"> 1230</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structfpl_1_1_window_settings.html">WindowSettings</a> {</div><div class="line"><a name="l01232"></a><span class="lineno"><a class="line" href="structfpl_1_1_window_settings.html#aa1cbe4154b924f8a071c595e12f552b7"> 1232</a></span>&#160;        <span class="keywordtype">char</span> windowTitle[256];</div><div class="line"><a name="l01234"></a><span class="lineno"><a class="line" href="structfpl_1_1_window_settings.html#a31f86bfc3450f5e82388fffb8c433b37"> 1234</a></span>&#160;        uint32_t <a class="code" href="structfpl_1_1_window_settings.html#a31f86bfc3450f5e82388fffb8c433b37">windowWidth</a>;</div><div class="line"><a name="l01236"></a><span class="lineno"><a class="line" href="structfpl_1_1_window_settings.html#a88c6f32b1c14458bb428c51ed58a14a8"> 1236</a></span>&#160;        uint32_t <a class="code" href="structfpl_1_1_window_settings.html#a88c6f32b1c14458bb428c51ed58a14a8">windowHeight</a>;</div><div class="line"><a name="l01238"></a><span class="lineno"><a class="line" href="structfpl_1_1_window_settings.html#a6680b671207e7adae8b7852eeb64dbcb"> 1238</a></span>&#160;        uint32_t <a class="code" href="structfpl_1_1_window_settings.html#a6680b671207e7adae8b7852eeb64dbcb">fullscreenWidth</a>;</div><div class="line"><a name="l01240"></a><span class="lineno"><a class="line" href="structfpl_1_1_window_settings.html#ad9928752d6f132c935d77aca667e649e"> 1240</a></span>&#160;        uint32_t <a class="code" href="structfpl_1_1_window_settings.html#ad9928752d6f132c935d77aca667e649e">fullscreenHeight</a>;</div><div class="line"><a name="l01242"></a><span class="lineno"><a class="line" href="structfpl_1_1_window_settings.html#a049bf1bec0382c593918aded3d701ca5"> 1242</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="structfpl_1_1_window_settings.html#a049bf1bec0382c593918aded3d701ca5">isResizable</a>;</div><div class="line"><a name="l01244"></a><span class="lineno"><a class="line" href="structfpl_1_1_window_settings.html#a6dd4ff9644d0c66ec29987264ff99ea4"> 1244</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="structfpl_1_1_window_settings.html#a6dd4ff9644d0c66ec29987264ff99ea4">isFullscreen</a>;</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    };</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;</div><div class="line"><a name="l01248"></a><span class="lineno"><a class="line" href="group___settings.html#gad69524831de452acbfc4b5d7cf1faa8f"> 1248</a></span>&#160;    <a class="code" href="final__platform__layer_8hpp.html#ad67e19afe5bfc76f56e85436eac8cf4d">fpl_inline</a> <a class="code" href="structfpl_1_1_window_settings.html">WindowSettings</a> <a class="code" href="group___settings.html#gad69524831de452acbfc4b5d7cf1faa8f">DefaultWindowSettings</a>() {</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;        <a class="code" href="structfpl_1_1_window_settings.html">WindowSettings</a> result = {};</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;        result.<a class="code" href="structfpl_1_1_window_settings.html#aa1cbe4154b924f8a071c595e12f552b7">windowTitle</a>[0] = 0;</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;        result.<a class="code" href="structfpl_1_1_window_settings.html#a31f86bfc3450f5e82388fffb8c433b37">windowWidth</a> = 800;</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;        result.<a class="code" href="structfpl_1_1_window_settings.html#a88c6f32b1c14458bb428c51ed58a14a8">windowHeight</a> = 600;</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;        result.<a class="code" href="structfpl_1_1_window_settings.html#a6680b671207e7adae8b7852eeb64dbcb">fullscreenWidth</a> = 0;</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;        result.<a class="code" href="structfpl_1_1_window_settings.html#ad9928752d6f132c935d77aca667e649e">fullscreenHeight</a> = 0;</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;        result.<a class="code" href="structfpl_1_1_window_settings.html#a049bf1bec0382c593918aded3d701ca5">isResizable</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;        result.<a class="code" href="structfpl_1_1_window_settings.html#a6dd4ff9644d0c66ec29987264ff99ea4">isFullscreen</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;        <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    }</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;</div><div class="line"><a name="l01261"></a><span class="lineno"><a class="line" href="structfpl_1_1_settings.html"> 1261</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structfpl_1_1_settings.html">Settings</a> {</div><div class="line"><a name="l01263"></a><span class="lineno"><a class="line" href="structfpl_1_1_settings.html#aadb06288e16db965235bdb22ff8c0ba9"> 1263</a></span>&#160;        <a class="code" href="structfpl_1_1_window_settings.html">WindowSettings</a> <a class="code" href="structfpl_1_1_settings.html#aadb06288e16db965235bdb22ff8c0ba9">window</a>;</div><div class="line"><a name="l01265"></a><span class="lineno"><a class="line" href="structfpl_1_1_settings.html#a8b742bb057a9113af5b547fe610f00ac"> 1265</a></span>&#160;        <a class="code" href="structfpl_1_1_video_settings.html">VideoSettings</a> <a class="code" href="structfpl_1_1_settings.html#a8b742bb057a9113af5b547fe610f00ac">video</a>;</div><div class="line"><a name="l01267"></a><span class="lineno"><a class="line" href="structfpl_1_1_settings.html#a396c3076134d4c6650a9f8985d28717c"> 1267</a></span>&#160;        <a class="code" href="structfpl_1_1_audio_settings.html">AudioSettings</a> <a class="code" href="structfpl_1_1_settings.html#a396c3076134d4c6650a9f8985d28717c">audio</a>;</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    };</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;</div><div class="line"><a name="l01271"></a><span class="lineno"><a class="line" href="group___settings.html#ga61ea8dd870556f6a7c3b805050acce22"> 1271</a></span>&#160;    <a class="code" href="final__platform__layer_8hpp.html#ad67e19afe5bfc76f56e85436eac8cf4d">fpl_inline</a> <a class="code" href="structfpl_1_1_settings.html">Settings</a> <a class="code" href="group___settings.html#ga61ea8dd870556f6a7c3b805050acce22">DefaultSettings</a>() {</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;        <a class="code" href="structfpl_1_1_settings.html">Settings</a> result = {};</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;        result.<a class="code" href="structfpl_1_1_settings.html#aadb06288e16db965235bdb22ff8c0ba9">window</a> = <a class="code" href="group___settings.html#gad69524831de452acbfc4b5d7cf1faa8f">DefaultWindowSettings</a>();</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;        result.<a class="code" href="structfpl_1_1_settings.html#a8b742bb057a9113af5b547fe610f00ac">video</a> = <a class="code" href="group___settings.html#ga0a2cce1f784787afdfe4d00f12fbfae0">DefaultVideoSettings</a>();</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;        result.<a class="code" href="structfpl_1_1_settings.html#a396c3076134d4c6650a9f8985d28717c">audio</a> = <a class="code" href="group___settings.html#ga433f5dc8e4c59843f149f14da279f7e1">DefaultAudioSettings</a>();</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;        <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    }</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keyword">const</span> <a class="code" href="structfpl_1_1_settings.html">Settings</a> &amp;<a class="code" href="group___settings.html#ga6eecc72936058abdbebfad659b886980">GetCurrentSettings</a>();</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___initialization.html#ga03321db2296b045eee4fec9cd9aac3a2">InitPlatform</a>(<span class="keyword">const</span> InitFlag initFlags, <span class="keyword">const</span> <a class="code" href="structfpl_1_1_settings.html">Settings</a> &amp;initSettings = <a class="code" href="group___settings.html#ga61ea8dd870556f6a7c3b805050acce22">DefaultSettings</a>());</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___initialization.html#ga6687b3ab1ce1d54f30785baf70566ed5">ReleasePlatform</a>();</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="group___error_handling.html#ga21d84c13e805a5fc41be6602615bc099">GetPlatformLastError</a>();</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="group___error_handling.html#ga21d84c13e805a5fc41be6602615bc099">GetPlatformLastError</a>(<span class="keyword">const</span> <span class="keywordtype">size_t</span> index);</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">size_t</span> <a class="code" href="group___error_handling.html#gac3b46af437dae868f37f36e0d0837655">GetPlatformLastErrorCount</a>();</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    <span class="keyword">namespace </span>library {</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;</div><div class="line"><a name="l01321"></a><span class="lineno"><a class="line" href="structfpl_1_1library_1_1_dynamic_library_handle.html"> 1321</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structfpl_1_1library_1_1_dynamic_library_handle.html">DynamicLibraryHandle</a> {</div><div class="line"><a name="l01323"></a><span class="lineno"><a class="line" href="structfpl_1_1library_1_1_dynamic_library_handle.html#a738a384257e20524ca75ecc48397a35e"> 1323</a></span>&#160;            <span class="keywordtype">void</span> *<a class="code" href="structfpl_1_1library_1_1_dynamic_library_handle.html#a738a384257e20524ca75ecc48397a35e">internalHandle</a>;</div><div class="line"><a name="l01325"></a><span class="lineno"><a class="line" href="structfpl_1_1library_1_1_dynamic_library_handle.html#ac7c12c02a587d3e4969fdd1100faa4c5"> 1325</a></span>&#160;            <span class="keywordtype">bool</span> <a class="code" href="structfpl_1_1library_1_1_dynamic_library_handle.html#ac7c12c02a587d3e4969fdd1100faa4c5">isValid</a>;</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;        };</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <a class="code" href="structfpl_1_1library_1_1_dynamic_library_handle.html">DynamicLibraryHandle</a> <a class="code" href="group___dynamic_library.html#ga92e0b63d13ed16c4f9fb065b6962a4b3">DynamicLibraryLoad</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *libraryFilePath);</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> *<a class="code" href="group___dynamic_library.html#ga12045d7ac370414026e73bd5cbb2a1b1">GetDynamicLibraryProc</a>(<span class="keyword">const</span> <a class="code" href="structfpl_1_1library_1_1_dynamic_library_handle.html">DynamicLibraryHandle</a> &amp;handle, <span class="keyword">const</span> <span class="keywordtype">char</span> *name);</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___dynamic_library.html#ga1bcd31bbe30503b4021bc86327c1605f">DynamicLibraryUnload</a>(<a class="code" href="structfpl_1_1library_1_1_dynamic_library_handle.html">DynamicLibraryHandle</a> &amp;handle);</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    };</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;</div><div class="line"><a name="l01339"></a><span class="lineno"><a class="line" href="namespacefpl_1_1console.html"> 1339</a></span>&#160;    <span class="keyword">namespace </span>console {</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___console.html#ga5c6818646bf4500afb78745d63e00469">ConsoleOut</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *text);</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___console.html#gad6e322c2dc4df3e2424979bde28d97aa">ConsoleFormatOut</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *format, ...);</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___console.html#gaf9a2aff1071c86843688e16b8ee0431f">ConsoleError</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *text);</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___console.html#gab30929f059d4467a70dc0269c9fb380b">ConsoleFormatError</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *format, ...);</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    };</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;</div><div class="line"><a name="l01359"></a><span class="lineno"><a class="line" href="namespacefpl_1_1threading.html"> 1359</a></span>&#160;    <span class="keyword">namespace </span>threading {</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    </div><div class="line"><a name="l01367"></a><span class="lineno"><a class="line" href="namespacefpl_1_1threading_1_1_thread_states.html"> 1367</a></span>&#160;        <span class="keyword">namespace </span>ThreadStates {</div><div class="line"><a name="l01369"></a><span class="lineno"><a class="line" href="namespacefpl_1_1threading_1_1_thread_states.html#a8126df665987eab3a5d4d85806095082"> 1369</a></span>&#160;            <span class="keyword">enum</span> <a class="code" href="namespacefpl_1_1threading_1_1_thread_states.html#a8126df665987eab3a5d4d85806095082">ThreadStateEnum</a> {</div><div class="line"><a name="l01371"></a><span class="lineno"><a class="line" href="namespacefpl_1_1threading_1_1_thread_states.html#a8126df665987eab3a5d4d85806095082a08bcb5e39fc4e240908a1a10cc17ca34"> 1371</a></span>&#160;                <a class="code" href="namespacefpl_1_1threading_1_1_thread_states.html#a8126df665987eab3a5d4d85806095082a08bcb5e39fc4e240908a1a10cc17ca34">Stopped</a> = 0,</div><div class="line"><a name="l01373"></a><span class="lineno"><a class="line" href="namespacefpl_1_1threading_1_1_thread_states.html#a8126df665987eab3a5d4d85806095082a2bd4d661f638779fa553b7593a1bdc57"> 1373</a></span>&#160;                <a class="code" href="namespacefpl_1_1threading_1_1_thread_states.html#a8126df665987eab3a5d4d85806095082a2bd4d661f638779fa553b7593a1bdc57">Running</a>,</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;                <span class="comment">// Thread is suspended</span></div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;                Suspended,</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;            };</div><div class="line"><a name="l01377"></a><span class="lineno"><a class="line" href="group___threading.html#ga10f326dd1d67e4b98027847e4da73d51"> 1377</a></span>&#160;        };</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;        <span class="keyword">typedef</span> <a class="code" href="namespacefpl_1_1threading_1_1_thread_states.html#a8126df665987eab3a5d4d85806095082">ThreadStates::ThreadStateEnum</a> <a class="code" href="group___threading.html#ga10f326dd1d67e4b98027847e4da73d51">ThreadState</a>;</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;        <span class="keyword">struct </span><a class="code" href="structfpl_1_1threading_1_1_thread_context.html">ThreadContext</a>;</div><div class="line"><a name="l01383"></a><span class="lineno"><a class="line" href="group___threading.html#ga85f79de520df3b7e422e49ad280f4264"> 1383</a></span>&#160;        <span class="keyword">typedef</span> void (<a class="code" href="group___threading.html#ga85f79de520df3b7e422e49ad280f4264">run_thread_function</a>)(<span class="keyword">const</span> <a class="code" href="structfpl_1_1threading_1_1_thread_context.html">ThreadContext</a> &amp;context, <span class="keywordtype">void</span> *data);</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;</div><div class="line"><a name="l01386"></a><span class="lineno"><a class="line" href="structfpl_1_1threading_1_1_thread_context.html"> 1386</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structfpl_1_1threading_1_1_thread_context.html">ThreadContext</a> {</div><div class="line"><a name="l01388"></a><span class="lineno"><a class="line" href="structfpl_1_1threading_1_1_thread_context.html#af8cfcaa0345ee279f8979eec94a121c5"> 1388</a></span>&#160;            uint64_t <a class="code" href="structfpl_1_1threading_1_1_thread_context.html#af8cfcaa0345ee279f8979eec94a121c5">id</a>;</div><div class="line"><a name="l01390"></a><span class="lineno"><a class="line" href="structfpl_1_1threading_1_1_thread_context.html#a049c165d24aaac9c3c78dd2f58e7aeed"> 1390</a></span>&#160;            <a class="code" href="group___threading.html#ga85f79de520df3b7e422e49ad280f4264">run_thread_function</a> *<a class="code" href="structfpl_1_1threading_1_1_thread_context.html#a049c165d24aaac9c3c78dd2f58e7aeed">runFunc</a>;</div><div class="line"><a name="l01392"></a><span class="lineno"><a class="line" href="structfpl_1_1threading_1_1_thread_context.html#a45e220e49d9bbd9239f234b6ecd8bfd8"> 1392</a></span>&#160;            <span class="keywordtype">void</span> *<a class="code" href="structfpl_1_1threading_1_1_thread_context.html#a45e220e49d9bbd9239f234b6ecd8bfd8">data</a>;</div><div class="line"><a name="l01394"></a><span class="lineno"><a class="line" href="structfpl_1_1threading_1_1_thread_context.html#a1d22580a4aa61dc8b20b516f81eef84f"> 1394</a></span>&#160;            <span class="keywordtype">void</span> *<a class="code" href="structfpl_1_1threading_1_1_thread_context.html#a1d22580a4aa61dc8b20b516f81eef84f">internalHandle</a>;</div><div class="line"><a name="l01396"></a><span class="lineno"><a class="line" href="structfpl_1_1threading_1_1_thread_context.html#a37c92f45870583481685fdc629f83e75"> 1396</a></span>&#160;            <span class="keyword">volatile</span> ThreadState <a class="code" href="structfpl_1_1threading_1_1_thread_context.html#a37c92f45870583481685fdc629f83e75">currentState</a>;</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;        };</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;</div><div class="line"><a name="l01400"></a><span class="lineno"><a class="line" href="structfpl_1_1threading_1_1_thread_mutex.html"> 1400</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structfpl_1_1threading_1_1_thread_mutex.html">ThreadMutex</a> {</div><div class="line"><a name="l01402"></a><span class="lineno"><a class="line" href="structfpl_1_1threading_1_1_thread_mutex.html#a0a405a35c51923753076b8620ff6fe08"> 1402</a></span>&#160;            <span class="keywordtype">void</span> *<a class="code" href="structfpl_1_1threading_1_1_thread_mutex.html#a0a405a35c51923753076b8620ff6fe08">internalHandle</a>;</div><div class="line"><a name="l01404"></a><span class="lineno"><a class="line" href="structfpl_1_1threading_1_1_thread_mutex.html#ac9f37b25a248ca955dedfd07b13e3b3a"> 1404</a></span>&#160;            <span class="keywordtype">bool</span> <a class="code" href="structfpl_1_1threading_1_1_thread_mutex.html#ac9f37b25a248ca955dedfd07b13e3b3a">isValid</a>;</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;        };</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;</div><div class="line"><a name="l01408"></a><span class="lineno"><a class="line" href="structfpl_1_1threading_1_1_thread_signal.html"> 1408</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structfpl_1_1threading_1_1_thread_signal.html">ThreadSignal</a> {</div><div class="line"><a name="l01410"></a><span class="lineno"><a class="line" href="structfpl_1_1threading_1_1_thread_signal.html#adbf395c4e509672e4690bdecd6a1ce19"> 1410</a></span>&#160;            <span class="keywordtype">void</span> *<a class="code" href="structfpl_1_1threading_1_1_thread_signal.html#adbf395c4e509672e4690bdecd6a1ce19">internalHandle</a>;</div><div class="line"><a name="l01412"></a><span class="lineno"><a class="line" href="structfpl_1_1threading_1_1_thread_signal.html#ad1fdb9120b0cec2a0bf5c554640810be"> 1412</a></span>&#160;            <span class="keywordtype">bool</span> <a class="code" href="structfpl_1_1threading_1_1_thread_signal.html#ad1fdb9120b0cec2a0bf5c554640810be">isValid</a>;</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        };</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <a class="code" href="structfpl_1_1threading_1_1_thread_context.html">ThreadContext</a> *<a class="code" href="group___threading.html#ga57538de72b2f378b1213428e81851e08">ThreadCreate</a>(<a class="code" href="group___threading.html#ga85f79de520df3b7e422e49ad280f4264">run_thread_function</a> *runFunc, <span class="keywordtype">void</span> *data, <span class="keyword">const</span> <span class="keywordtype">bool</span> autoStart = <span class="keyword">true</span>);</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___threading.html#ga5549e8b3fb7ba18a8268bd8026c13c9b">ThreadSleep</a>(<span class="keyword">const</span> uint32_t milliseconds);</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___threading.html#ga13be443e258c267955a7f4fe6a9f4c7b">ThreadSuspend</a>(<a class="code" href="structfpl_1_1threading_1_1_thread_context.html">ThreadContext</a> *context);</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___threading.html#ga8132b503372987c2e5c63eaeba985adb">ThreadResume</a>(<a class="code" href="structfpl_1_1threading_1_1_thread_context.html">ThreadContext</a> *context);</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___threading.html#gab78be4e5aa5bc3f267c844d2d9e46ce7">ThreadDestroy</a>(<a class="code" href="structfpl_1_1threading_1_1_thread_context.html">ThreadContext</a> *context);</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___threading.html#gaa40f358ef89b947e0b380a27acf7dbdc">ThreadWaitForOne</a>(<a class="code" href="structfpl_1_1threading_1_1_thread_context.html">ThreadContext</a> *context, <span class="keyword">const</span> uint32_t maxMilliseconds = UINT32_MAX);</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___threading.html#ga9f307a0b49aa4aa46886010d9eb88e0f">ThreadWaitForAll</a>(<a class="code" href="structfpl_1_1threading_1_1_thread_context.html">ThreadContext</a> **contexts, <span class="keyword">const</span> uint32_t count, <span class="keyword">const</span> uint32_t maxMilliseconds = UINT32_MAX);</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___threading.html#gad974c8976ebcafbb4788a7713eddf34f">ThreadWaitForAny</a>(<a class="code" href="structfpl_1_1threading_1_1_thread_context.html">ThreadContext</a> **contexts, <span class="keyword">const</span> uint32_t count, <span class="keyword">const</span> uint32_t maxMilliseconds = UINT32_MAX);</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <a class="code" href="structfpl_1_1threading_1_1_thread_mutex.html">ThreadMutex</a> <a class="code" href="group___threading.html#gad8496dd7dfa65ccd1b7187abe22e4a48">MutexCreate</a>();</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___threading.html#ga9fda6954c3de6afbc9e09b4636001282">MutexDestroy</a>(<a class="code" href="structfpl_1_1threading_1_1_thread_mutex.html">ThreadMutex</a> &amp;mutex);</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___threading.html#ga0126a46029f274634d90437fe39564b7">MutexLock</a>(<a class="code" href="structfpl_1_1threading_1_1_thread_mutex.html">ThreadMutex</a> &amp;mutex, <span class="keyword">const</span> uint32_t maxMilliseconds = UINT32_MAX);</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___threading.html#gab2f18851290d803349ef71c1aa78b493">MutexUnlock</a>(<a class="code" href="structfpl_1_1threading_1_1_thread_mutex.html">ThreadMutex</a> &amp;mutex);</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <a class="code" href="structfpl_1_1threading_1_1_thread_signal.html">ThreadSignal</a> <a class="code" href="group___threading.html#gaee83c654cfd2d0aa41de1c03b9d3cd5c">SignalCreate</a>();</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___threading.html#ga878223b24ec17a7b4b8f6e6f945340f9">SignalDestroy</a>(<a class="code" href="structfpl_1_1threading_1_1_thread_signal.html">ThreadSignal</a> &amp;availableSignal);</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___threading.html#ga794026517242c2a47581bb2d2cb8c88c">SignalWaitForOne</a>(<a class="code" href="structfpl_1_1threading_1_1_thread_signal.html">ThreadSignal</a> &amp;availableSignal, <span class="keyword">const</span> uint32_t maxMilliseconds = UINT32_MAX);</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___threading.html#ga80c427b07b401cbdb33a0c2375ea2a7d">SignalWaitForAll</a>(<a class="code" href="structfpl_1_1threading_1_1_thread_signal.html">ThreadSignal</a> **availableSignal, <span class="keyword">const</span> uint32_t count, <span class="keyword">const</span> uint32_t maxMilliseconds = UINT32_MAX);</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___threading.html#gaa775ca62b233851623ab917a7bd028ff">SignalWaitForAny</a>(<a class="code" href="structfpl_1_1threading_1_1_thread_signal.html">ThreadSignal</a> **availableSignal, <span class="keyword">const</span> uint32_t count, <span class="keyword">const</span> uint32_t maxMilliseconds = UINT32_MAX);</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___threading.html#gadf5a26ce3c88ba521a6a291e2ee956f7">SignalWakeUp</a>(<a class="code" href="structfpl_1_1threading_1_1_thread_signal.html">ThreadSignal</a> &amp;availableSignal);</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___threading.html#ga60ae994f2b79e901efde8b9196019ed1">SignalReset</a>(<a class="code" href="structfpl_1_1threading_1_1_thread_signal.html">ThreadSignal</a> &amp;availableSignal);</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    };</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;</div><div class="line"><a name="l01460"></a><span class="lineno"><a class="line" href="namespacefpl_1_1memory.html"> 1460</a></span>&#160;    <span class="keyword">namespace </span>memory {</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___memory.html#ga829c0017ffc716ac9302468d3ac41df2">MemoryClear</a>(<span class="keywordtype">void</span> *mem, <span class="keyword">const</span> <span class="keywordtype">size_t</span> size);</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___memory.html#gadb98af4c9b6d561313a2ceeab8d44e06">MemoryCopy</a>(<span class="keywordtype">void</span> *sourceMem, <span class="keyword">const</span> <span class="keywordtype">size_t</span> sourceSize, <span class="keywordtype">void</span> *targetMem);</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> *<a class="code" href="group___memory.html#gaabe256ab34794ac0f3f1633674de97f5">MemoryAllocate</a>(<span class="keyword">const</span> <span class="keywordtype">size_t</span> size);</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___memory.html#ga62c8cc6c740a8089309c6e28ec03d83a">MemoryFree</a>(<span class="keywordtype">void</span> *ptr);</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> *<a class="code" href="group___memory.html#gaae59e8f8c515b0a58ece0a60588779dd">MemoryStackAllocate</a>(<span class="keyword">const</span> <span class="keywordtype">size_t</span> size);</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> *<a class="code" href="group___memory.html#gaf5ad819b0045c31a72d86c20d8f8dd34">MemoryAlignedAllocate</a>(<span class="keyword">const</span> <span class="keywordtype">size_t</span> size, <span class="keyword">const</span> <span class="keywordtype">size_t</span> alignment);</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___memory.html#gafff57ceb6d17787d0bc84d66fd23f433">MemoryAlignedFree</a>(<span class="keywordtype">void</span> *ptr);</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    };</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;</div><div class="line"><a name="l01486"></a><span class="lineno"><a class="line" href="namespacefpl_1_1timings.html"> 1486</a></span>&#160;    <span class="keyword">namespace </span>timings {</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">double</span> <a class="code" href="group___timings.html#ga7eb269311586671fb064ae58e4c0c765">GetHighResolutionTimeInSeconds</a>();</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    };</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;</div><div class="line"><a name="l01500"></a><span class="lineno"><a class="line" href="namespacefpl_1_1strings.html"> 1500</a></span>&#160;    <span class="keyword">namespace </span>strings {</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint32_t <a class="code" href="group___strings.html#ga388ca55dd073575074821c146a585e2d">GetAnsiStringLength</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *str);</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint32_t <a class="code" href="group___strings.html#ga2f5f224289b7bf9d19bb5684cd19fac1">GetWideStringLength</a>(<span class="keyword">const</span> <span class="keywordtype">wchar_t</span> *str);</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">char</span> *<a class="code" href="group___strings.html#ga13b6ef7d3fd687e16fa4db1a58a0cb60">CopyAnsiString</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *source, <span class="keyword">const</span> uint32_t sourceLen, <span class="keywordtype">char</span> *dest, <span class="keyword">const</span> uint32_t maxDestLen);</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">char</span> *<a class="code" href="group___strings.html#ga13b6ef7d3fd687e16fa4db1a58a0cb60">CopyAnsiString</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *source, <span class="keywordtype">char</span> *dest, <span class="keyword">const</span> uint32_t maxDestLen);</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">wchar_t</span> *<a class="code" href="group___strings.html#ga50be92a4b019e3e0e94ce7b8b5082421">CopyWideString</a>(<span class="keyword">const</span> <span class="keywordtype">wchar_t</span> *source, <span class="keyword">const</span> uint32_t sourceLen, <span class="keywordtype">wchar_t</span> *dest, <span class="keyword">const</span> uint32_t maxDestLen);</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">wchar_t</span> *<a class="code" href="group___strings.html#ga50be92a4b019e3e0e94ce7b8b5082421">CopyWideString</a>(<span class="keyword">const</span> <span class="keywordtype">wchar_t</span> *source, <span class="keywordtype">wchar_t</span> *dest, <span class="keyword">const</span> uint32_t maxDestLen);</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">char</span> *<a class="code" href="group___strings.html#ga5deb86f97d22b96c050f1dddbeb8b153">WideStringToAnsiString</a>(<span class="keyword">const</span> <span class="keywordtype">wchar_t</span> *wideSource, <span class="keyword">const</span> uint32_t maxWideSourceLen, <span class="keywordtype">char</span> *ansiDest, <span class="keyword">const</span> uint32_t maxAnsiDestLen);</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">char</span> *<a class="code" href="group___strings.html#gaa465c26a8a2d2514f723144ad8de8e42">WideStringToUTF8String</a>(<span class="keyword">const</span> <span class="keywordtype">wchar_t</span> *wideSource, <span class="keyword">const</span> uint32_t maxWideSourceLen, <span class="keywordtype">char</span> *utf8Dest, <span class="keyword">const</span> uint32_t maxUtf8DestLen);</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">wchar_t</span> *<a class="code" href="group___strings.html#gacf1b68cc61d41d0e2be20b198d013dc6">AnsiStringToWideString</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *ansiSource, <span class="keyword">const</span> uint32_t ansiSourceLen, <span class="keywordtype">wchar_t</span> *wideDest, <span class="keyword">const</span> uint32_t maxWideDestLen);</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">wchar_t</span> *<a class="code" href="group___strings.html#ga01c5c0fb7305308d62cfde2620598ece">UTF8StringToWideString</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *utf8Source, <span class="keyword">const</span> uint32_t utf8SourceLen, <span class="keywordtype">wchar_t</span> *wideDest, <span class="keyword">const</span> uint32_t maxWideDestLen);</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    };</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;</div><div class="line"><a name="l01532"></a><span class="lineno"><a class="line" href="namespacefpl_1_1files.html"> 1532</a></span>&#160;    <span class="keyword">namespace </span>files {</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;</div><div class="line"><a name="l01540"></a><span class="lineno"><a class="line" href="structfpl_1_1files_1_1_file_handle.html"> 1540</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structfpl_1_1files_1_1_file_handle.html">FileHandle</a> {</div><div class="line"><a name="l01542"></a><span class="lineno"><a class="line" href="structfpl_1_1files_1_1_file_handle.html#adc4e830cd01b7283dec31109c978d950"> 1542</a></span>&#160;            <span class="keywordtype">void</span> *<a class="code" href="structfpl_1_1files_1_1_file_handle.html#adc4e830cd01b7283dec31109c978d950">internalHandle</a>;</div><div class="line"><a name="l01544"></a><span class="lineno"><a class="line" href="structfpl_1_1files_1_1_file_handle.html#aaf9e97915a9adf8f803eceae29a7c870"> 1544</a></span>&#160;            <span class="keywordtype">bool</span> <a class="code" href="structfpl_1_1files_1_1_file_handle.html#aaf9e97915a9adf8f803eceae29a7c870">isValid</a>;</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;        };</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;</div><div class="line"><a name="l01548"></a><span class="lineno"><a class="line" href="namespacefpl_1_1files_1_1_file_position_modes.html"> 1548</a></span>&#160;        <span class="keyword">namespace </span>FilePositionModes {</div><div class="line"><a name="l01550"></a><span class="lineno"><a class="line" href="namespacefpl_1_1files_1_1_file_position_modes.html#a8cbd0d70c12d2d153dbbe61b36a55200"> 1550</a></span>&#160;            <span class="keyword">enum</span> <a class="code" href="namespacefpl_1_1files_1_1_file_position_modes.html#a8cbd0d70c12d2d153dbbe61b36a55200">FilePositionModeEnum</a> {</div><div class="line"><a name="l01552"></a><span class="lineno"><a class="line" href="namespacefpl_1_1files_1_1_file_position_modes.html#a8cbd0d70c12d2d153dbbe61b36a55200a2ab7f8008ce6482cf2fd3344aa05b434"> 1552</a></span>&#160;                <a class="code" href="namespacefpl_1_1files_1_1_file_position_modes.html#a8cbd0d70c12d2d153dbbe61b36a55200a2ab7f8008ce6482cf2fd3344aa05b434">Beginning</a> = 0,</div><div class="line"><a name="l01554"></a><span class="lineno"><a class="line" href="namespacefpl_1_1files_1_1_file_position_modes.html#a8cbd0d70c12d2d153dbbe61b36a55200a1fc239c87fbef73d8758ed7b7be69571"> 1554</a></span>&#160;                <a class="code" href="namespacefpl_1_1files_1_1_file_position_modes.html#a8cbd0d70c12d2d153dbbe61b36a55200a1fc239c87fbef73d8758ed7b7be69571">Current</a> = 1,</div><div class="line"><a name="l01556"></a><span class="lineno"><a class="line" href="namespacefpl_1_1files_1_1_file_position_modes.html#a8cbd0d70c12d2d153dbbe61b36a55200ac59d81b1369316d6906016cc8b767f4c"> 1556</a></span>&#160;                <a class="code" href="namespacefpl_1_1files_1_1_file_position_modes.html#a8cbd0d70c12d2d153dbbe61b36a55200ac59d81b1369316d6906016cc8b767f4c">End</a> = 2,</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;            };</div><div class="line"><a name="l01558"></a><span class="lineno"><a class="line" href="group___files.html#ga0c26d0c2d8c7757bad8803b72bd8b8e3"> 1558</a></span>&#160;        };</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;        <span class="keyword">typedef</span> <a class="code" href="namespacefpl_1_1files_1_1_file_position_modes.html#a8cbd0d70c12d2d153dbbe61b36a55200">FilePositionModes::FilePositionModeEnum</a> <a class="code" href="group___files.html#ga0c26d0c2d8c7757bad8803b72bd8b8e3">FilePositionMode</a>;</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;</div><div class="line"><a name="l01563"></a><span class="lineno"><a class="line" href="namespacefpl_1_1files_1_1_file_entry_types.html"> 1563</a></span>&#160;        <span class="keyword">namespace </span>FileEntryTypes {</div><div class="line"><a name="l01565"></a><span class="lineno"><a class="line" href="namespacefpl_1_1files_1_1_file_entry_types.html#ab340319655afa9567100787edb58aca5"> 1565</a></span>&#160;            <span class="keyword">enum</span> <a class="code" href="namespacefpl_1_1files_1_1_file_entry_types.html#ab340319655afa9567100787edb58aca5">FileEntryTypeEnum</a> {</div><div class="line"><a name="l01567"></a><span class="lineno"><a class="line" href="namespacefpl_1_1files_1_1_file_entry_types.html#ab340319655afa9567100787edb58aca5a7eb29991dc46e972737ae2584fc6a682"> 1567</a></span>&#160;                <a class="code" href="namespacefpl_1_1files_1_1_file_entry_types.html#ab340319655afa9567100787edb58aca5a7eb29991dc46e972737ae2584fc6a682">Unknown</a> = 0,</div><div class="line"><a name="l01569"></a><span class="lineno"><a class="line" href="namespacefpl_1_1files_1_1_file_entry_types.html#ab340319655afa9567100787edb58aca5a10cd8e0a94894ea1a36eea9fa94227cf"> 1569</a></span>&#160;                <a class="code" href="namespacefpl_1_1files_1_1_file_entry_types.html#ab340319655afa9567100787edb58aca5a10cd8e0a94894ea1a36eea9fa94227cf">File</a> = 1,</div><div class="line"><a name="l01571"></a><span class="lineno"><a class="line" href="namespacefpl_1_1files_1_1_file_entry_types.html#ab340319655afa9567100787edb58aca5ae455af0784c7e1940deb56e6e90db239"> 1571</a></span>&#160;                <a class="code" href="namespacefpl_1_1files_1_1_file_entry_types.html#ab340319655afa9567100787edb58aca5ae455af0784c7e1940deb56e6e90db239">Directory</a> = 2,</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;            };</div><div class="line"><a name="l01573"></a><span class="lineno"><a class="line" href="group___files.html#ga30affcb1b4a83e408ff6d4a8aa674c51"> 1573</a></span>&#160;        };</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;        <span class="keyword">typedef</span> <a class="code" href="namespacefpl_1_1files_1_1_file_entry_types.html#ab340319655afa9567100787edb58aca5">FileEntryTypes::FileEntryTypeEnum</a> <a class="code" href="group___files.html#ga30affcb1b4a83e408ff6d4a8aa674c51">FileEntryType</a>;</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;</div><div class="line"><a name="l01578"></a><span class="lineno"><a class="line" href="namespacefpl_1_1files_1_1_file_attribute_flags.html"> 1578</a></span>&#160;        <span class="keyword">namespace </span>FileAttributeFlags {</div><div class="line"><a name="l01580"></a><span class="lineno"><a class="line" href="namespacefpl_1_1files_1_1_file_attribute_flags.html#a35ecb1521633ae298b52680df677b660"> 1580</a></span>&#160;            <span class="keyword">enum</span> <a class="code" href="namespacefpl_1_1files_1_1_file_attribute_flags.html#a35ecb1521633ae298b52680df677b660">FileAttributeFlagEnum</a> {</div><div class="line"><a name="l01582"></a><span class="lineno"><a class="line" href="namespacefpl_1_1files_1_1_file_attribute_flags.html#a35ecb1521633ae298b52680df677b660ab482a9b47e6f2884fc2c4d8cfc8a2daf"> 1582</a></span>&#160;                <a class="code" href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6afc310a3cf2b78b9d8ac95038bacb25c7">None</a> = 0,</div><div class="line"><a name="l01584"></a><span class="lineno"><a class="line" href="namespacefpl_1_1files_1_1_file_attribute_flags.html#a35ecb1521633ae298b52680df677b660a02a2b5243b6ea68073442da3f47e6d26"> 1584</a></span>&#160;                <a class="code" href="namespacefpl_1_1files_1_1_file_attribute_flags.html#a35ecb1521633ae298b52680df677b660a02a2b5243b6ea68073442da3f47e6d26">Normal</a> = 1 &lt;&lt; 0,</div><div class="line"><a name="l01586"></a><span class="lineno"><a class="line" href="namespacefpl_1_1files_1_1_file_attribute_flags.html#a35ecb1521633ae298b52680df677b660a2c116bbe1c88fc7cb4aadd4dc93aeac3"> 1586</a></span>&#160;                <a class="code" href="namespacefpl_1_1files_1_1_file_attribute_flags.html#a35ecb1521633ae298b52680df677b660a2c116bbe1c88fc7cb4aadd4dc93aeac3">ReadOnly</a> = 1 &lt;&lt; 1,</div><div class="line"><a name="l01588"></a><span class="lineno"><a class="line" href="namespacefpl_1_1files_1_1_file_attribute_flags.html#a35ecb1521633ae298b52680df677b660a92cb4dc164446097f896d2a6d38acde3"> 1588</a></span>&#160;                <a class="code" href="namespacefpl_1_1files_1_1_file_attribute_flags.html#a35ecb1521633ae298b52680df677b660a92cb4dc164446097f896d2a6d38acde3">Hidden</a> = 1 &lt;&lt; 2,</div><div class="line"><a name="l01590"></a><span class="lineno"><a class="line" href="namespacefpl_1_1files_1_1_file_attribute_flags.html#a35ecb1521633ae298b52680df677b660a7e5a9556594478a6296b3a499c789c61"> 1590</a></span>&#160;                <a class="code" href="namespacefpl_1_1files_1_1_file_attribute_flags.html#a35ecb1521633ae298b52680df677b660a7e5a9556594478a6296b3a499c789c61">Archive</a> = 1 &lt;&lt; 3,</div><div class="line"><a name="l01592"></a><span class="lineno"><a class="line" href="namespacefpl_1_1files_1_1_file_attribute_flags.html#a35ecb1521633ae298b52680df677b660a04b4472ee71e0c6b755ddcf9f5c10a83"> 1592</a></span>&#160;                <a class="code" href="namespacefpl_1_1files_1_1_file_attribute_flags.html#a35ecb1521633ae298b52680df677b660a04b4472ee71e0c6b755ddcf9f5c10a83">System</a> = 1 &lt;&lt; 4,</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;            };</div><div class="line"><a name="l01594"></a><span class="lineno"><a class="line" href="group___files.html#ga0e5226dfd156cae006e89de5bc2e1e37"> 1594</a></span>&#160;        };</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;        <span class="keyword">typedef</span> <a class="code" href="namespacefpl_1_1files_1_1_file_attribute_flags.html#a35ecb1521633ae298b52680df677b660">FileAttributeFlags::FileAttributeFlagEnum</a> <a class="code" href="group___files.html#ga0e5226dfd156cae006e89de5bc2e1e37">FileAttributeFlag</a>;</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;        <a class="code" href="group___settings.html#ga5a93d3ae02696764fc8c3707b7f38f31">FPL_ENUM_AS_FLAGS_OPERATORS</a>(FileAttributeFlag);</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;</div><div class="line"><a name="l01601"></a><span class="lineno"><a class="line" href="group___files.html#ga37b8887a6a2c3cea5d8f0df234a0e90b"> 1601</a></span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aa3d38e49c90082e1638fe199347c35c5">fpl_constant</a> uint32_t <a class="code" href="group___files.html#ga37b8887a6a2c3cea5d8f0df234a0e90b">MAX_FILEENTRY_PATH_LENGTH</a> = 1024;</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;</div><div class="line"><a name="l01604"></a><span class="lineno"><a class="line" href="structfpl_1_1files_1_1_file_entry.html"> 1604</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structfpl_1_1files_1_1_file_entry.html">FileEntry</a> {</div><div class="line"><a name="l01606"></a><span class="lineno"><a class="line" href="structfpl_1_1files_1_1_file_entry.html#afa11bffe1b30ae51ebd18a67a0996dc5"> 1606</a></span>&#160;            FileEntryType <a class="code" href="structfpl_1_1files_1_1_file_entry.html#afa11bffe1b30ae51ebd18a67a0996dc5">type</a>;</div><div class="line"><a name="l01608"></a><span class="lineno"><a class="line" href="structfpl_1_1files_1_1_file_entry.html#a05335d9b8f326cc337bb9d274fc9d2a2"> 1608</a></span>&#160;            FileAttributeFlag <a class="code" href="structfpl_1_1files_1_1_file_entry.html#a05335d9b8f326cc337bb9d274fc9d2a2">attributes</a>;</div><div class="line"><a name="l01610"></a><span class="lineno"><a class="line" href="structfpl_1_1files_1_1_file_entry.html#a9d8deb2bfc9b9ead6cef76c70c66057f"> 1610</a></span>&#160;            <span class="keywordtype">char</span> path[<a class="code" href="group___files.html#ga37b8887a6a2c3cea5d8f0df234a0e90b">MAX_FILEENTRY_PATH_LENGTH</a>];</div><div class="line"><a name="l01612"></a><span class="lineno"><a class="line" href="structfpl_1_1files_1_1_file_entry.html#a976d5e74bcd8b60fb0728922cc863499"> 1612</a></span>&#160;            <span class="keywordtype">void</span> *<a class="code" href="structfpl_1_1files_1_1_file_entry.html#a976d5e74bcd8b60fb0728922cc863499">internalHandle</a>;</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;        };</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <a class="code" href="structfpl_1_1files_1_1_file_handle.html">FileHandle</a> <a class="code" href="group___files.html#ga24bff7e5072f14496b432d8832791eed">OpenBinaryFile</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filePath);</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <a class="code" href="structfpl_1_1files_1_1_file_handle.html">FileHandle</a> <a class="code" href="group___files.html#ga24bff7e5072f14496b432d8832791eed">OpenBinaryFile</a>(<span class="keyword">const</span> <span class="keywordtype">wchar_t</span> *filePath);</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <a class="code" href="structfpl_1_1files_1_1_file_handle.html">FileHandle</a> <a class="code" href="group___files.html#ga6dff9fb81386319d26f9221457734dc4">CreateBinaryFile</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filePath);</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <a class="code" href="structfpl_1_1files_1_1_file_handle.html">FileHandle</a> <a class="code" href="group___files.html#ga6dff9fb81386319d26f9221457734dc4">CreateBinaryFile</a>(<span class="keyword">const</span> <span class="keywordtype">wchar_t</span> *filePath);</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint32_t <a class="code" href="group___files.html#ga0884301043e2c2df8433055bccb3d83f">ReadFileBlock32</a>(<span class="keyword">const</span> <a class="code" href="structfpl_1_1files_1_1_file_handle.html">FileHandle</a> &amp;fileHandle, <span class="keyword">const</span> uint32_t sizeToRead, <span class="keywordtype">void</span> *targetBuffer, <span class="keyword">const</span> uint32_t maxTargetBufferSize);</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint32_t <a class="code" href="group___files.html#ga14d97136914889a756685ab47b7699c2">WriteFileBlock32</a>(<span class="keyword">const</span> <a class="code" href="structfpl_1_1files_1_1_file_handle.html">FileHandle</a> &amp;fileHandle, <span class="keywordtype">void</span> *sourceBuffer, <span class="keyword">const</span> uint32_t sourceSize);</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___files.html#gab5939727e72dd37ec7ad8bf2f0f9a077">SetFilePosition32</a>(<span class="keyword">const</span> <a class="code" href="structfpl_1_1files_1_1_file_handle.html">FileHandle</a> &amp;fileHandle, <span class="keyword">const</span> uint32_t position, <span class="keyword">const</span> FilePositionMode mode);</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint32_t <a class="code" href="group___files.html#ga991df8158e3abcd8b03930562bd118ba">GetFilePosition32</a>(<span class="keyword">const</span> <a class="code" href="structfpl_1_1files_1_1_file_handle.html">FileHandle</a> &amp;fileHandle);</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___files.html#gadf8a868ce8399951d94368b2a6efe9ad">CloseFile</a>(<a class="code" href="structfpl_1_1files_1_1_file_handle.html">FileHandle</a> &amp;fileHandle);</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;        <span class="comment">// @TODO(final): Add 64-bit file operations as well!</span></div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint32_t <a class="code" href="group___files.html#ga0d2785fac8c42fc55c3dbf02f93204af">GetFileSize32</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filePath);</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint32_t <a class="code" href="group___files.html#ga0d2785fac8c42fc55c3dbf02f93204af">GetFileSize32</a>(<span class="keyword">const</span> <a class="code" href="structfpl_1_1files_1_1_file_handle.html">FileHandle</a> &amp;fileHandle);</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___files.html#ga48b28a1bb885afecf015b348961d09ce">FileExists</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filePath);</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___files.html#gaa3e7bb92f93e300d549a2fbf5bec740d">FileCopy</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *sourceFilePath, <span class="keyword">const</span> <span class="keywordtype">char</span> *targetFilePath, <span class="keyword">const</span> <span class="keywordtype">bool</span> overwrite);</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___files.html#ga7e8d74c15138b08866e0182d4e3e53af">FileDelete</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filePath);</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___files.html#gad6815e384d0fcce318c752c2126fb4fe">CreateDirectories</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *path);</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___files.html#ga81077ac3e1713d50f12cc1767ca96326">DirectoryExists</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *path);</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___files.html#gacc26bd5324fee12541bd61ff384df9ed">RemoveEmptyDirectory</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *path);</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___files.html#ga5301d3a70c015b9f17a55d285537a7c6">ListFilesBegin</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *pathAndFilter, <a class="code" href="structfpl_1_1files_1_1_file_entry.html">FileEntry</a> *firstEntry);</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___files.html#ga12fbf9ae3b535bcd362d55588de4c0ce">ListFilesNext</a>(<a class="code" href="structfpl_1_1files_1_1_file_entry.html">FileEntry</a> *nextEntry);</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___files.html#ga1fe4036fdf8efdad20c3f297bc91955f">ListFilesEnd</a>(<a class="code" href="structfpl_1_1files_1_1_file_entry.html">FileEntry</a> *lastEntry);</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    };</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;</div><div class="line"><a name="l01664"></a><span class="lineno"><a class="line" href="namespacefpl_1_1paths.html"> 1664</a></span>&#160;    <span class="keyword">namespace </span>paths {</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">char</span> *<a class="code" href="group___paths.html#gabcbdbb5ec3ed0c49922bb3ebb5a85e0d">GetExecutableFilePath</a>(<span class="keywordtype">char</span> *destPath, <span class="keyword">const</span> uint32_t maxDestLen);</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">char</span> *<a class="code" href="group___paths.html#gaf8e72dff34e3ab55bed53daafc27a503">GetHomePath</a>(<span class="keywordtype">char</span> *destPath, <span class="keyword">const</span> uint32_t maxDestLen);</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">char</span> *<a class="code" href="group___paths.html#ga9350ed786eba22a1c85695d25dbd22c5">ExtractFilePath</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *sourcePath, <span class="keywordtype">char</span> *destPath, <span class="keyword">const</span> uint32_t maxDestLen);</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">char</span> *<a class="code" href="group___paths.html#ga85802af649a9637a3c57de4327c75313">ExtractFileExtension</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *sourcePath);</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">char</span> *<a class="code" href="group___paths.html#ga3b04dd2938642219a5a60630c2146e2b">ExtractFileName</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *sourcePath);</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">char</span> *<a class="code" href="group___paths.html#ga2f024c3d4f8297173ca50a666cb69627">ChangeFileExtension</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filePath, <span class="keyword">const</span> <span class="keywordtype">char</span> *newFileExtension, <span class="keywordtype">char</span> *destPath, <span class="keyword">const</span> uint32_t maxDestLen);</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">char</span> *<a class="code" href="group___paths.html#ga41591ef383ffb2e673c7d1746e5dcd05">CombinePath</a>(<span class="keywordtype">char</span> *destPath, <span class="keyword">const</span> uint32_t maxDestPathLen, <span class="keyword">const</span> uint32_t pathCount, ...);</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;    };</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;<span class="preprocessor">#if defined(FPL_ENABLE_WINDOW)</span></div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    <span class="keyword">namespace </span>window {</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;</div><div class="line"><a name="l01699"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_keys.html"> 1699</a></span>&#160;        <span class="keyword">namespace </span>Keys {</div><div class="line"><a name="l01701"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_keys.html#a2b24ab19a42e1be46413638f656803d6"> 1701</a></span>&#160;            <span class="keyword">enum</span> <a class="code" href="namespacefpl_1_1window_1_1_keys.html#a2b24ab19a42e1be46413638f656803d6">KeyEnum</a> {</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;                Key_None = 0,</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;                <span class="comment">// 0x07: Undefined</span></div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;                Key_Backspace = 0x08,</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;                Key_Tab = 0x09,</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;                <span class="comment">// 0x0A-0x0B: Reserved</span></div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;                Key_Clear = 0x0C,</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;                Key_Enter = 0x0D,</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;                <span class="comment">// 0x0E-0x0F: Undefined</span></div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;                Key_Shift = 0x10,</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;                Key_Control = 0x11,</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;                Key_Alt = 0x12,</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;                Key_Pause = 0x13,</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;                Key_CapsLock = 0x14,</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;                <span class="comment">// 0x15: IME-Keys</span></div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;                <span class="comment">// 0x16: Undefined</span></div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;                <span class="comment">// 0x17-0x19 IME-Keys</span></div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;                <span class="comment">// 0x1A: Undefined</span></div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;                Key_Escape = 0x1B,</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;                <span class="comment">// 0x1C - 0x1F: IME-Keys</span></div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;                Key_Space = 0x20,</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;                Key_PageUp = 0x21,</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;                Key_PageDown = 0x22,</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;                Key_End = 0x23,</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;                Key_Home = 0x24,</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;                Key_Left = 0x25,</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;                Key_Up = 0x26,</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;                Key_Right = 0x27,</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;                Key_Down = 0x28,</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;                Key_Select = 0x29,</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;                Key_Print = 0x2A,</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;                Key_Execute = 0x2B,</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;                Key_Snapshot = 0x2C,</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;                Key_Insert = 0x2D,</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;                Key_Delete = 0x2E,</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;                Key_Help = 0x2F,</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;                Key_0 = 0x30,</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;                Key_1 = 0x31,</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;                Key_2 = 0x32,</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;                Key_3 = 0x33,</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;                Key_4 = 0x34,</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;                Key_5 = 0x35,</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;                Key_6 = 0x36,</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;                Key_7 = 0x37,</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;                Key_8 = 0x38,</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;                Key_9 = 0x39,</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;                <span class="comment">// 0x3A-0x40: Undefined</span></div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;                Key_A = 0x41,</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;                Key_B = 0x42,</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;                Key_C = 0x43,</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;                Key_D = 0x44,</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;                Key_E = 0x45,</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;                Key_F = 0x46,</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;                Key_G = 0x47,</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;                Key_H = 0x48,</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;                Key_I = 0x49,</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;                Key_J = 0x4A,</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;                Key_K = 0x4B,</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;                Key_L = 0x4C,</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;                Key_M = 0x4D,</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;                Key_N = 0x4E,</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;                Key_O = 0x4F,</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;                Key_P = 0x50,</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;                Key_Q = 0x51,</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;                Key_R = 0x52,</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;                Key_S = 0x53,</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;                Key_T = 0x54,</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;                Key_U = 0x55,</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;                Key_V = 0x56,</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;                Key_W = 0x57,</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;                Key_X = 0x58,</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;                Key_Y = 0x59,</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;                Key_Z = 0x5A,</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;                Key_LeftWin = 0x5B,</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;                Key_RightWin = 0x5C,</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;                Key_Apps = 0x5D,</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;                <span class="comment">// 0x5E: Reserved</span></div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;                Key_Sleep = 0x5F,</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;                Key_NumPad0 = 0x60,</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;                Key_NumPad1 = 0x61,</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;                Key_NumPad2 = 0x62,</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;                Key_NumPad3 = 0x63,</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;                Key_NumPad4 = 0x64,</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;                Key_NumPad5 = 0x65,</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;                Key_NumPad6 = 0x66,</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;                Key_NumPad7 = 0x67,</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;                Key_NumPad8 = 0x68,</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;                Key_NumPad9 = 0x69,</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;                Key_Multiply = 0x6A,</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;                Key_Add = 0x6B,</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;                Key_Separator = 0x6C,</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;                Key_Substract = 0x6D,</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;                Key_Decimal = 0x6E,</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;                Key_Divide = 0x6F,</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;                Key_F1 = 0x70,</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;                Key_F2 = 0x71,</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;                Key_F3 = 0x72,</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;                Key_F4 = 0x73,</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;                Key_F5 = 0x74,</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;                Key_F6 = 0x75,</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;                Key_F7 = 0x76,</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;                Key_F8 = 0x77,</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;                Key_F9 = 0x78,</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;                Key_F10 = 0x79,</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;                Key_F11 = 0x7A,</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;                Key_F12 = 0x7B,</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;                Key_F13 = 0x7C,</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;                Key_F14 = 0x7D,</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;                Key_F15 = 0x7E,</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;                Key_F16 = 0x7F,</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;                Key_F17 = 0x80,</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;                Key_F18 = 0x81,</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;                Key_F19 = 0x82,</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;                Key_F20 = 0x83,</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;                Key_F21 = 0x84,</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;                Key_F22 = 0x85,</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;                Key_F23 = 0x86,</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;                Key_F24 = 0x87,</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;                <span class="comment">// 0x88-8F: Unassigned</span></div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;                Key_NumLock = 0x90,</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;                Key_Scroll = 0x91,</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;                <span class="comment">// 0x92-9x96: OEM specific</span></div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;                <span class="comment">// 0x97-0x9F: Unassigned</span></div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;                Key_LeftShift = 0xA0,</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;                Key_RightShift = 0xA1,</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;                Key_LeftControl = 0xA2,</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;                Key_RightControl = 0xA3,</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;                Key_LeftAlt = 0xA4,</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;                Key_RightAlt = 0xA5,</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;                <span class="comment">// 0xA6-0xFE: Dont care</span></div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;            };</div><div class="line"><a name="l01853"></a><span class="lineno"><a class="line" href="group___window_events.html#ga8f67e2edd110ab873de691c6873ca774"> 1853</a></span>&#160;        };</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;        <span class="keyword">typedef</span> <a class="code" href="namespacefpl_1_1window_1_1_keys.html#a2b24ab19a42e1be46413638f656803d6">Keys::KeyEnum</a> <a class="code" href="group___window_events.html#ga8f67e2edd110ab873de691c6873ca774">Key</a>;</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;</div><div class="line"><a name="l01858"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_window_event_types.html"> 1858</a></span>&#160;        <span class="keyword">namespace </span>WindowEventTypes {</div><div class="line"><a name="l01860"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_window_event_types.html#abe653c1f4e9a9e70d79b5df52aacb6c5"> 1860</a></span>&#160;            <span class="keyword">enum</span> <a class="code" href="namespacefpl_1_1window_1_1_window_event_types.html#abe653c1f4e9a9e70d79b5df52aacb6c5">WindowEventTypeEnum</a> {</div><div class="line"><a name="l01862"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_window_event_types.html#abe653c1f4e9a9e70d79b5df52aacb6c5a697948bad8a0fcc5ffa385461bfe2e4c"> 1862</a></span>&#160;                <a class="code" href="namespacefpl_1_1window_1_1_window_event_types.html#abe653c1f4e9a9e70d79b5df52aacb6c5a697948bad8a0fcc5ffa385461bfe2e4c">Resized</a> = 1,</div><div class="line"><a name="l01864"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_window_event_types.html#abe653c1f4e9a9e70d79b5df52aacb6c5a866464f3fbbe904285b6e60dcbcb6162"> 1864</a></span>&#160;                <a class="code" href="namespacefpl_1_1window_1_1_window_event_types.html#abe653c1f4e9a9e70d79b5df52aacb6c5a866464f3fbbe904285b6e60dcbcb6162">GotFocus</a> = 2,</div><div class="line"><a name="l01866"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_window_event_types.html#abe653c1f4e9a9e70d79b5df52aacb6c5aa64186511c76a94680b6d0dd4cdb9ec6"> 1866</a></span>&#160;                <a class="code" href="namespacefpl_1_1window_1_1_window_event_types.html#abe653c1f4e9a9e70d79b5df52aacb6c5aa64186511c76a94680b6d0dd4cdb9ec6">LostFocus</a> = 3,</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;            };</div><div class="line"><a name="l01868"></a><span class="lineno"><a class="line" href="group___window_events.html#ga436dfbfc1bfa11e16ff26f0ab6c8da9a"> 1868</a></span>&#160;        };</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;        <span class="keyword">typedef</span> <a class="code" href="namespacefpl_1_1window_1_1_window_event_types.html#abe653c1f4e9a9e70d79b5df52aacb6c5">WindowEventTypes::WindowEventTypeEnum</a> <a class="code" href="group___window_events.html#ga436dfbfc1bfa11e16ff26f0ab6c8da9a">WindowEventType</a>;</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;</div><div class="line"><a name="l01873"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_window_event.html"> 1873</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structfpl_1_1window_1_1_window_event.html">WindowEvent</a> {</div><div class="line"><a name="l01875"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_window_event.html#abb7deca08eaa49b67630ec0c949d1b98"> 1875</a></span>&#160;            WindowEventType <a class="code" href="structfpl_1_1window_1_1_window_event.html#abb7deca08eaa49b67630ec0c949d1b98">type</a>;</div><div class="line"><a name="l01877"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_window_event.html#afc9891648a45cc2c5a9a0eeb00d3921b"> 1877</a></span>&#160;            uint32_t <a class="code" href="structfpl_1_1window_1_1_window_event.html#afc9891648a45cc2c5a9a0eeb00d3921b">width</a>;</div><div class="line"><a name="l01879"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_window_event.html#ab5dfad611a3b242d0b144388f5c0d082"> 1879</a></span>&#160;            uint32_t <a class="code" href="structfpl_1_1window_1_1_window_event.html#ab5dfad611a3b242d0b144388f5c0d082">height</a>;</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;        };</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;</div><div class="line"><a name="l01883"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_keyboard_event_types.html"> 1883</a></span>&#160;        <span class="keyword">namespace </span>KeyboardEventTypes {</div><div class="line"><a name="l01885"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_keyboard_event_types.html#af2b159019bbc4f7c214b73c3dea46065"> 1885</a></span>&#160;            <span class="keyword">enum</span> <a class="code" href="namespacefpl_1_1window_1_1_keyboard_event_types.html#af2b159019bbc4f7c214b73c3dea46065">KeyboardEventTypeEnum</a> {</div><div class="line"><a name="l01887"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_keyboard_event_types.html#af2b159019bbc4f7c214b73c3dea46065a40cb6f5c46629af04e9466543dd9c8e9"> 1887</a></span>&#160;                <a class="code" href="namespacefpl_1_1window_1_1_keyboard_event_types.html#af2b159019bbc4f7c214b73c3dea46065a40cb6f5c46629af04e9466543dd9c8e9">KeyDown</a> = 1,</div><div class="line"><a name="l01889"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_keyboard_event_types.html#af2b159019bbc4f7c214b73c3dea46065a0d73e43135c53ca18e755b10bff1dd31"> 1889</a></span>&#160;                <a class="code" href="namespacefpl_1_1window_1_1_keyboard_event_types.html#af2b159019bbc4f7c214b73c3dea46065a0d73e43135c53ca18e755b10bff1dd31">KeyUp</a> = 2,</div><div class="line"><a name="l01891"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_keyboard_event_types.html#af2b159019bbc4f7c214b73c3dea46065a0381bf6d189dc4c1a25d3ce5a0c3ae5d"> 1891</a></span>&#160;                <a class="code" href="namespacefpl_1_1window_1_1_keyboard_event_types.html#af2b159019bbc4f7c214b73c3dea46065a0381bf6d189dc4c1a25d3ce5a0c3ae5d">Char</a> = 3,</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;            };</div><div class="line"><a name="l01893"></a><span class="lineno"><a class="line" href="group___window_events.html#ga3eb9047cdc6f6e7a5c96d2a75a5395e1"> 1893</a></span>&#160;        };</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;        <span class="keyword">typedef</span> <a class="code" href="namespacefpl_1_1window_1_1_keyboard_event_types.html#af2b159019bbc4f7c214b73c3dea46065">KeyboardEventTypes::KeyboardEventTypeEnum</a> <a class="code" href="group___window_events.html#ga3eb9047cdc6f6e7a5c96d2a75a5395e1">KeyboardEventType</a>;</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;</div><div class="line"><a name="l01898"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_keyboard_modifier_flags.html"> 1898</a></span>&#160;        <span class="keyword">namespace </span>KeyboardModifierFlags {</div><div class="line"><a name="l01900"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_keyboard_modifier_flags.html#a957a3d95f8261e7566585d65f203300d"> 1900</a></span>&#160;            <span class="keyword">enum</span> <a class="code" href="namespacefpl_1_1window_1_1_keyboard_modifier_flags.html#a957a3d95f8261e7566585d65f203300d">KeyboardModifierFlagEnum</a> {</div><div class="line"><a name="l01902"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_keyboard_modifier_flags.html#a957a3d95f8261e7566585d65f203300daae156169ae1ea7caa7ad603a472645bc"> 1902</a></span>&#160;                <a class="code" href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6afc310a3cf2b78b9d8ac95038bacb25c7">None</a> = 0,</div><div class="line"><a name="l01904"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_keyboard_modifier_flags.html#a957a3d95f8261e7566585d65f203300da765bb73e65a7cce7197d8c595c24f63d"> 1904</a></span>&#160;                <a class="code" href="namespacefpl_1_1window_1_1_keyboard_modifier_flags.html#a957a3d95f8261e7566585d65f203300da765bb73e65a7cce7197d8c595c24f63d">Alt</a> = 1 &lt;&lt; 0,</div><div class="line"><a name="l01906"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_keyboard_modifier_flags.html#a957a3d95f8261e7566585d65f203300da010c62082cc00f9ea71fc83b9470f9b0"> 1906</a></span>&#160;                <a class="code" href="namespacefpl_1_1window_1_1_keyboard_modifier_flags.html#a957a3d95f8261e7566585d65f203300da010c62082cc00f9ea71fc83b9470f9b0">Ctrl</a> = 1 &lt;&lt; 1,</div><div class="line"><a name="l01908"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_keyboard_modifier_flags.html#a957a3d95f8261e7566585d65f203300da80081e7c30d4047ee227dd2c226b7cef"> 1908</a></span>&#160;                <a class="code" href="namespacefpl_1_1window_1_1_keyboard_modifier_flags.html#a957a3d95f8261e7566585d65f203300da80081e7c30d4047ee227dd2c226b7cef">Shift</a> = 1 &lt;&lt; 2,</div><div class="line"><a name="l01910"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_keyboard_modifier_flags.html#a957a3d95f8261e7566585d65f203300da44f3ffe3ef7d60b54a3275b19969d297"> 1910</a></span>&#160;                <a class="code" href="namespacefpl_1_1window_1_1_keyboard_modifier_flags.html#a957a3d95f8261e7566585d65f203300da44f3ffe3ef7d60b54a3275b19969d297">Super</a> = 1 &lt;&lt; 3,</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;            };</div><div class="line"><a name="l01912"></a><span class="lineno"><a class="line" href="group___window_events.html#gacd548eac8922b72f3d2d57a2a21d4c24"> 1912</a></span>&#160;        };</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;        <span class="keyword">typedef</span> <a class="code" href="namespacefpl_1_1window_1_1_keyboard_modifier_flags.html#a957a3d95f8261e7566585d65f203300d">KeyboardModifierFlags::KeyboardModifierFlagEnum</a> <a class="code" href="group___window_events.html#gacd548eac8922b72f3d2d57a2a21d4c24">KeyboardModifierFlag</a>;</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;        <a class="code" href="group___settings.html#ga5a93d3ae02696764fc8c3707b7f38f31">FPL_ENUM_AS_FLAGS_OPERATORS</a>(KeyboardModifierFlag);</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;</div><div class="line"><a name="l01919"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_keyboard_event.html"> 1919</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structfpl_1_1window_1_1_keyboard_event.html">KeyboardEvent</a> {</div><div class="line"><a name="l01921"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_keyboard_event.html#affe49621057130737467d58fa1b20584"> 1921</a></span>&#160;            KeyboardEventType <a class="code" href="structfpl_1_1window_1_1_keyboard_event.html#affe49621057130737467d58fa1b20584">type</a>;</div><div class="line"><a name="l01923"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_keyboard_event.html#a814da8ae88851382d5bdcf27f96d2cc9"> 1923</a></span>&#160;            uint64_t <a class="code" href="structfpl_1_1window_1_1_keyboard_event.html#a814da8ae88851382d5bdcf27f96d2cc9">keyCode</a>;</div><div class="line"><a name="l01925"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_keyboard_event.html#ac2d511ffa600d151cf5c7f9a1882a51a"> 1925</a></span>&#160;            Key <a class="code" href="structfpl_1_1window_1_1_keyboard_event.html#ac2d511ffa600d151cf5c7f9a1882a51a">mappedKey</a>;</div><div class="line"><a name="l01927"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_keyboard_event.html#a776e0c3c6fdf991c605697e46a417abd"> 1927</a></span>&#160;            KeyboardModifierFlag <a class="code" href="structfpl_1_1window_1_1_keyboard_event.html#a776e0c3c6fdf991c605697e46a417abd">modifiers</a>;</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;        };</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;</div><div class="line"><a name="l01931"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_mouse_event_types.html"> 1931</a></span>&#160;        <span class="keyword">namespace </span>MouseEventTypes {</div><div class="line"><a name="l01933"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_mouse_event_types.html#abac384b9b1e9bdf36d032f1c9ffcaa14"> 1933</a></span>&#160;            <span class="keyword">enum</span> <a class="code" href="namespacefpl_1_1window_1_1_mouse_event_types.html#abac384b9b1e9bdf36d032f1c9ffcaa14">MouseEventTypeEnum</a> {</div><div class="line"><a name="l01935"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_mouse_event_types.html#abac384b9b1e9bdf36d032f1c9ffcaa14a6fd26cf62de67b3267881614e7439d2c"> 1935</a></span>&#160;                <a class="code" href="namespacefpl_1_1window_1_1_mouse_event_types.html#abac384b9b1e9bdf36d032f1c9ffcaa14a6fd26cf62de67b3267881614e7439d2c">Move</a> = 1,</div><div class="line"><a name="l01937"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_mouse_event_types.html#abac384b9b1e9bdf36d032f1c9ffcaa14a2df562dfe92c28636667d9ad45185112"> 1937</a></span>&#160;                <a class="code" href="namespacefpl_1_1window_1_1_mouse_event_types.html#abac384b9b1e9bdf36d032f1c9ffcaa14a2df562dfe92c28636667d9ad45185112">ButtonDown</a> = 2,</div><div class="line"><a name="l01939"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_mouse_event_types.html#abac384b9b1e9bdf36d032f1c9ffcaa14a5ea737a7499c5c730c54f7761bd47075"> 1939</a></span>&#160;                <a class="code" href="namespacefpl_1_1window_1_1_mouse_event_types.html#abac384b9b1e9bdf36d032f1c9ffcaa14a5ea737a7499c5c730c54f7761bd47075">ButtonUp</a> = 3,</div><div class="line"><a name="l01941"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_mouse_event_types.html#abac384b9b1e9bdf36d032f1c9ffcaa14a850f4423b60f418b9257cab7015c6d3a"> 1941</a></span>&#160;                <a class="code" href="namespacefpl_1_1window_1_1_mouse_event_types.html#abac384b9b1e9bdf36d032f1c9ffcaa14a850f4423b60f418b9257cab7015c6d3a">Wheel</a> = 4,</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;            };</div><div class="line"><a name="l01943"></a><span class="lineno"><a class="line" href="group___window_events.html#ga057ee4e0897365308d63f1e2ca32df59"> 1943</a></span>&#160;        };</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;        <span class="keyword">typedef</span> <a class="code" href="namespacefpl_1_1window_1_1_mouse_event_types.html#abac384b9b1e9bdf36d032f1c9ffcaa14">MouseEventTypes::MouseEventTypeEnum</a> <a class="code" href="group___window_events.html#ga057ee4e0897365308d63f1e2ca32df59">MouseEventType</a>;</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;</div><div class="line"><a name="l01948"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_mouse_button_types.html"> 1948</a></span>&#160;        <span class="keyword">namespace </span>MouseButtonTypes {</div><div class="line"><a name="l01950"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_mouse_button_types.html#a8421a50986b384eb037e31a522bc223b"> 1950</a></span>&#160;            <span class="keyword">enum</span> <a class="code" href="namespacefpl_1_1window_1_1_mouse_button_types.html#a8421a50986b384eb037e31a522bc223b">MouseButtonTypeEnum</a> {</div><div class="line"><a name="l01952"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_mouse_button_types.html#a8421a50986b384eb037e31a522bc223babea54d5942708d1666661bf708c94671"> 1952</a></span>&#160;                <a class="code" href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6afc310a3cf2b78b9d8ac95038bacb25c7">None</a> = -1,</div><div class="line"><a name="l01954"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_mouse_button_types.html#a8421a50986b384eb037e31a522bc223baaf3a59f7250896516d4eff21c8c3d697"> 1954</a></span>&#160;                <a class="code" href="namespacefpl_1_1window_1_1_mouse_button_types.html#a8421a50986b384eb037e31a522bc223baaf3a59f7250896516d4eff21c8c3d697">Left</a> = 0,</div><div class="line"><a name="l01956"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_mouse_button_types.html#a8421a50986b384eb037e31a522bc223ba21e18548a024a2d281a1ecb3a936d1f9"> 1956</a></span>&#160;                <a class="code" href="namespacefpl_1_1window_1_1_mouse_button_types.html#a8421a50986b384eb037e31a522bc223ba21e18548a024a2d281a1ecb3a936d1f9">Right</a> = 1,</div><div class="line"><a name="l01958"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_mouse_button_types.html#a8421a50986b384eb037e31a522bc223ba4a378f4f26388bd008fec836bf48b89c"> 1958</a></span>&#160;                <a class="code" href="namespacefpl_1_1window_1_1_mouse_button_types.html#a8421a50986b384eb037e31a522bc223ba4a378f4f26388bd008fec836bf48b89c">Middle</a> = 2,</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;            };</div><div class="line"><a name="l01960"></a><span class="lineno"><a class="line" href="group___window_events.html#ga9fafe3f58020ece768d732e1185683b8"> 1960</a></span>&#160;        };</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;        <span class="keyword">typedef</span> <a class="code" href="namespacefpl_1_1window_1_1_mouse_button_types.html#a8421a50986b384eb037e31a522bc223b">MouseButtonTypes::MouseButtonTypeEnum</a> <a class="code" href="group___window_events.html#ga9fafe3f58020ece768d732e1185683b8">MouseButtonType</a>;</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;</div><div class="line"><a name="l01965"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_mouse_event.html"> 1965</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structfpl_1_1window_1_1_mouse_event.html">MouseEvent</a> {</div><div class="line"><a name="l01967"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_mouse_event.html#a02fd8b5e3c93af2f4ee09413f3c572e8"> 1967</a></span>&#160;            MouseEventType <a class="code" href="structfpl_1_1window_1_1_mouse_event.html#a02fd8b5e3c93af2f4ee09413f3c572e8">type</a>;</div><div class="line"><a name="l01969"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_mouse_event.html#a1ea9badf6365cb020c77e735ca6e2298"> 1969</a></span>&#160;            MouseButtonType <a class="code" href="structfpl_1_1window_1_1_mouse_event.html#a1ea9badf6365cb020c77e735ca6e2298">mouseButton</a>;</div><div class="line"><a name="l01971"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_mouse_event.html#a136ee8b168ff61ddb332ad1120712871"> 1971</a></span>&#160;            int32_t <a class="code" href="structfpl_1_1window_1_1_mouse_event.html#a136ee8b168ff61ddb332ad1120712871">mouseX</a>;</div><div class="line"><a name="l01973"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_mouse_event.html#a5d5ee5899dda9956c45362ec2cf7e0da"> 1973</a></span>&#160;            int32_t <a class="code" href="structfpl_1_1window_1_1_mouse_event.html#a5d5ee5899dda9956c45362ec2cf7e0da">mouseY</a>;</div><div class="line"><a name="l01975"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_mouse_event.html#ae41d90b6630a3feecb2c2a72d9d64af5"> 1975</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structfpl_1_1window_1_1_mouse_event.html#ae41d90b6630a3feecb2c2a72d9d64af5">wheelDelta</a>;</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;        };</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;</div><div class="line"><a name="l01979"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_gamepad_event_types.html"> 1979</a></span>&#160;        <span class="keyword">namespace </span>GamepadEventTypes {</div><div class="line"><a name="l01981"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6"> 1981</a></span>&#160;            <span class="keyword">enum</span> <a class="code" href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6">GamepadEventTypeEnum</a> {</div><div class="line"><a name="l01983"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6afc310a3cf2b78b9d8ac95038bacb25c7"> 1983</a></span>&#160;                <a class="code" href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6afc310a3cf2b78b9d8ac95038bacb25c7">None</a> = 0,</div><div class="line"><a name="l01985"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6a5c83f6407d107c48523cc27b7710d862"> 1985</a></span>&#160;                <a class="code" href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6a5c83f6407d107c48523cc27b7710d862">Connected</a> = 1,</div><div class="line"><a name="l01987"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6ae26a201922d8e25dacf35fae69e37ba6"> 1987</a></span>&#160;                <a class="code" href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6ae26a201922d8e25dacf35fae69e37ba6">Disconnected</a> = 2,</div><div class="line"><a name="l01989"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6ae8a2632fcb4f5071a0f1cbda11d10da8"> 1989</a></span>&#160;                <a class="code" href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6ae8a2632fcb4f5071a0f1cbda11d10da8">StateChanged</a> = 3,</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;            };</div><div class="line"><a name="l01991"></a><span class="lineno"><a class="line" href="group___window_events.html#ga4fc94b5031d8e8806442cee7a47f4c4b"> 1991</a></span>&#160;        };</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;        <span class="keyword">typedef</span> <a class="code" href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6">GamepadEventTypes::GamepadEventTypeEnum</a> <a class="code" href="group___window_events.html#ga4fc94b5031d8e8806442cee7a47f4c4b">GamepadEventType</a>;</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;</div><div class="line"><a name="l01996"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_gamepad_button.html"> 1996</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structfpl_1_1window_1_1_gamepad_button.html">GamepadButton</a> {</div><div class="line"><a name="l01998"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_gamepad_button.html#af961498b90ccf7aebe0190badff0528e"> 1998</a></span>&#160;            <span class="keywordtype">bool</span> <a class="code" href="structfpl_1_1window_1_1_gamepad_button.html#af961498b90ccf7aebe0190badff0528e">isDown</a>;</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;        };</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;</div><div class="line"><a name="l02002"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_gamepad_state.html"> 2002</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structfpl_1_1window_1_1_gamepad_state.html">GamepadState</a> {</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;            <span class="keyword">union </span>{</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;                <span class="keyword">struct </span>{</div><div class="line"><a name="l02006"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_gamepad_state.html#a5b77ef1ed6a3c4397223e72500584c0e"> 2006</a></span>&#160;                    <a class="code" href="structfpl_1_1window_1_1_gamepad_button.html">GamepadButton</a> <a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#a5b77ef1ed6a3c4397223e72500584c0e">dpadUp</a>;</div><div class="line"><a name="l02008"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_gamepad_state.html#a51617a9012e78f69b1ff57cc1101cca6"> 2008</a></span>&#160;                    <a class="code" href="structfpl_1_1window_1_1_gamepad_button.html">GamepadButton</a> <a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#a51617a9012e78f69b1ff57cc1101cca6">dpadRight</a>;</div><div class="line"><a name="l02010"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_gamepad_state.html#a696ad4932c852991274b89a109d3f228"> 2010</a></span>&#160;                    <a class="code" href="structfpl_1_1window_1_1_gamepad_button.html">GamepadButton</a> <a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#a696ad4932c852991274b89a109d3f228">dpadDown</a>;</div><div class="line"><a name="l02012"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_gamepad_state.html#a0f225cc2dd8f7b0fc30beda6f4ac35f3"> 2012</a></span>&#160;                    <a class="code" href="structfpl_1_1window_1_1_gamepad_button.html">GamepadButton</a> <a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#a0f225cc2dd8f7b0fc30beda6f4ac35f3">dpadLeft</a>;</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;</div><div class="line"><a name="l02015"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_gamepad_state.html#a383edb9f835f881fd177d4b93f165a32"> 2015</a></span>&#160;                    <a class="code" href="structfpl_1_1window_1_1_gamepad_button.html">GamepadButton</a> <a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#a383edb9f835f881fd177d4b93f165a32">actionA</a>;</div><div class="line"><a name="l02017"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_gamepad_state.html#a70fea4da5b4992cdb7f12d7054e8e76d"> 2017</a></span>&#160;                    <a class="code" href="structfpl_1_1window_1_1_gamepad_button.html">GamepadButton</a> <a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#a70fea4da5b4992cdb7f12d7054e8e76d">actionB</a>;</div><div class="line"><a name="l02019"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_gamepad_state.html#a23bb49bdcecc0c18972b5742e544b72b"> 2019</a></span>&#160;                    <a class="code" href="structfpl_1_1window_1_1_gamepad_button.html">GamepadButton</a> <a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#a23bb49bdcecc0c18972b5742e544b72b">actionX</a>;</div><div class="line"><a name="l02021"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_gamepad_state.html#a6b97a638bcedc86823de45b5d4c88321"> 2021</a></span>&#160;                    <a class="code" href="structfpl_1_1window_1_1_gamepad_button.html">GamepadButton</a> <a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#a6b97a638bcedc86823de45b5d4c88321">actionY</a>;</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;</div><div class="line"><a name="l02024"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_gamepad_state.html#a195956749363bc5370942668de04823e"> 2024</a></span>&#160;                    <a class="code" href="structfpl_1_1window_1_1_gamepad_button.html">GamepadButton</a> <a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#a195956749363bc5370942668de04823e">start</a>;</div><div class="line"><a name="l02026"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_gamepad_state.html#a6cfb6d170ac485d3b0c95d4e172ed3e8"> 2026</a></span>&#160;                    <a class="code" href="structfpl_1_1window_1_1_gamepad_button.html">GamepadButton</a> <a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#a6cfb6d170ac485d3b0c95d4e172ed3e8">back</a>;</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;</div><div class="line"><a name="l02029"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_gamepad_state.html#abbb6e27da2be0ad906b989c988c9acbe"> 2029</a></span>&#160;                    <a class="code" href="structfpl_1_1window_1_1_gamepad_button.html">GamepadButton</a> <a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#abbb6e27da2be0ad906b989c988c9acbe">leftThumb</a>;</div><div class="line"><a name="l02031"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_gamepad_state.html#ab94fe8de4f80353fb8f661f83a439149"> 2031</a></span>&#160;                    <a class="code" href="structfpl_1_1window_1_1_gamepad_button.html">GamepadButton</a> <a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#ab94fe8de4f80353fb8f661f83a439149">rightThumb</a>;</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;</div><div class="line"><a name="l02034"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_gamepad_state.html#ab45005d26282db67df32f0376c238f95"> 2034</a></span>&#160;                    <a class="code" href="structfpl_1_1window_1_1_gamepad_button.html">GamepadButton</a> <a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#ab45005d26282db67df32f0376c238f95">leftShoulder</a>;</div><div class="line"><a name="l02036"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_gamepad_state.html#ab51c6ee5725df609171143b22fcde895"> 2036</a></span>&#160;                    <a class="code" href="structfpl_1_1window_1_1_gamepad_button.html">GamepadButton</a> <a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#ab51c6ee5725df609171143b22fcde895">rightShoulder</a>;</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;                };</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;</div><div class="line"><a name="l02040"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_gamepad_state.html#aaa17af2dddfe08b737e630526ee7a968"> 2040</a></span>&#160;                <a class="code" href="structfpl_1_1window_1_1_gamepad_button.html">GamepadButton</a> buttons[14];</div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;            };</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;</div><div class="line"><a name="l02044"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_gamepad_state.html#a343d2faffa69f5d8355e3db3f524eeab"> 2044</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#a343d2faffa69f5d8355e3db3f524eeab">leftStickX</a>;</div><div class="line"><a name="l02046"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_gamepad_state.html#ac795a6e053ed36a4e0617564b1398001"> 2046</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#ac795a6e053ed36a4e0617564b1398001">leftStickY</a>;</div><div class="line"><a name="l02048"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_gamepad_state.html#a662a6175d649f6ffc51d68484614e86a"> 2048</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#a662a6175d649f6ffc51d68484614e86a">rightStickX</a>;</div><div class="line"><a name="l02050"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_gamepad_state.html#a775cc3007043eb5776d2105427413588"> 2050</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#a775cc3007043eb5776d2105427413588">rightStickY</a>;</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;</div><div class="line"><a name="l02053"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_gamepad_state.html#ad2d8d52456658ee8d136a64fc40028e3"> 2053</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#ad2d8d52456658ee8d136a64fc40028e3">leftTrigger</a>;</div><div class="line"><a name="l02055"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_gamepad_state.html#a10084f7cce412d52f8b14d6fd00116c2"> 2055</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#a10084f7cce412d52f8b14d6fd00116c2">rightTrigger</a>;</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;        };</div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;</div><div class="line"><a name="l02059"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_gamepad_event.html"> 2059</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structfpl_1_1window_1_1_gamepad_event.html">GamepadEvent</a> {</div><div class="line"><a name="l02061"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_gamepad_event.html#ad3453bd5181634ae53ce34e005a427dd"> 2061</a></span>&#160;            GamepadEventType <a class="code" href="structfpl_1_1window_1_1_gamepad_event.html#ad3453bd5181634ae53ce34e005a427dd">type</a>;</div><div class="line"><a name="l02063"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_gamepad_event.html#a2099e9363b9ed33032c3477dc9bca554"> 2063</a></span>&#160;            uint32_t <a class="code" href="structfpl_1_1window_1_1_gamepad_event.html#a2099e9363b9ed33032c3477dc9bca554">deviceIndex</a>;</div><div class="line"><a name="l02065"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_gamepad_event.html#a9f0b1ac2350741a009afbf419b139efd"> 2065</a></span>&#160;            <a class="code" href="structfpl_1_1window_1_1_gamepad_state.html">GamepadState</a> <a class="code" href="structfpl_1_1window_1_1_gamepad_event.html#a9f0b1ac2350741a009afbf419b139efd">state</a>;</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;        };</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;</div><div class="line"><a name="l02069"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_event_types.html"> 2069</a></span>&#160;        <span class="keyword">namespace </span>EventTypes {</div><div class="line"><a name="l02071"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_event_types.html#ac1b654b98c2774f73b1b089f2886fc4f"> 2071</a></span>&#160;            <span class="keyword">enum</span> <a class="code" href="namespacefpl_1_1window_1_1_event_types.html#ac1b654b98c2774f73b1b089f2886fc4f">EventTypeEnum</a> {</div><div class="line"><a name="l02073"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_event_types.html#ac1b654b98c2774f73b1b089f2886fc4face10a215276c2c038697d49b40777141"> 2073</a></span>&#160;                <a class="code" href="namespacefpl_1_1window_1_1_event_types.html#ac1b654b98c2774f73b1b089f2886fc4face10a215276c2c038697d49b40777141">Window</a> = 1,</div><div class="line"><a name="l02075"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_event_types.html#ac1b654b98c2774f73b1b089f2886fc4fa95de089620c87e61cea894813fd0ce4f"> 2075</a></span>&#160;                <a class="code" href="namespacefpl_1_1window_1_1_event_types.html#ac1b654b98c2774f73b1b089f2886fc4fa95de089620c87e61cea894813fd0ce4f">Keyboard</a> = 2,</div><div class="line"><a name="l02077"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_event_types.html#ac1b654b98c2774f73b1b089f2886fc4fa62fb237bdef80b33d913c0d9f3f871bc"> 2077</a></span>&#160;                <a class="code" href="namespacefpl_1_1window_1_1_event_types.html#ac1b654b98c2774f73b1b089f2886fc4fa62fb237bdef80b33d913c0d9f3f871bc">Mouse</a> = 3,</div><div class="line"><a name="l02079"></a><span class="lineno"><a class="line" href="namespacefpl_1_1window_1_1_event_types.html#ac1b654b98c2774f73b1b089f2886fc4fa7895681e76ab4eec49c5904850fab6d0"> 2079</a></span>&#160;                <a class="code" href="namespacefpl_1_1window_1_1_event_types.html#ac1b654b98c2774f73b1b089f2886fc4fa7895681e76ab4eec49c5904850fab6d0">Gamepad</a> = 4,</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;            };</div><div class="line"><a name="l02081"></a><span class="lineno"><a class="line" href="group___window_events.html#ga6a040ec83ded512501f53cc2db13f82b"> 2081</a></span>&#160;        };</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;        <span class="keyword">typedef</span> <a class="code" href="namespacefpl_1_1window_1_1_event_types.html#ac1b654b98c2774f73b1b089f2886fc4f">EventTypes::EventTypeEnum</a> <a class="code" href="group___window_events.html#ga6a040ec83ded512501f53cc2db13f82b">EventType</a>;</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;</div><div class="line"><a name="l02086"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_event.html"> 2086</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structfpl_1_1window_1_1_event.html">Event</a> {</div><div class="line"><a name="l02088"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_event.html#ae69cd7351a23ee07a9c6c663d5c5aea7"> 2088</a></span>&#160;            EventType <a class="code" href="structfpl_1_1window_1_1_event.html#ae69cd7351a23ee07a9c6c663d5c5aea7">type</a>;</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;            <span class="keyword">union </span>{</div><div class="line"><a name="l02091"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_event.html#a43d5437c746ee44af2904cff2304bdae"> 2091</a></span>&#160;                <a class="code" href="structfpl_1_1window_1_1_window_event.html">WindowEvent</a> <a class="code" href="structfpl_1_1window_1_1_event.html#a43d5437c746ee44af2904cff2304bdae">window</a>;</div><div class="line"><a name="l02093"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_event.html#af9170219764a7483a8efee8902da44e6"> 2093</a></span>&#160;                <a class="code" href="structfpl_1_1window_1_1_keyboard_event.html">KeyboardEvent</a> <a class="code" href="structfpl_1_1window_1_1_event.html#af9170219764a7483a8efee8902da44e6">keyboard</a>;</div><div class="line"><a name="l02095"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_event.html#a64673c8ea91ac21ce618ed73fe413ba8"> 2095</a></span>&#160;                <a class="code" href="structfpl_1_1window_1_1_mouse_event.html">MouseEvent</a> <a class="code" href="structfpl_1_1window_1_1_event.html#a64673c8ea91ac21ce618ed73fe413ba8">mouse</a>;</div><div class="line"><a name="l02097"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_event.html#acd55903a68020728b161f3db3b8bff49"> 2097</a></span>&#160;                <a class="code" href="structfpl_1_1window_1_1_gamepad_event.html">GamepadEvent</a> <a class="code" href="structfpl_1_1window_1_1_event.html#acd55903a68020728b161f3db3b8bff49">gamepad</a>;</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;            };</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;        };</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___window_events.html#ga9801762935e9ba7bcb4c1189eb88fbf3">PollWindowEvent</a>(<a class="code" href="structfpl_1_1window_1_1_event.html">Event</a> &amp;ev);</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;</div><div class="line"><a name="l02113"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_window_size.html"> 2113</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structfpl_1_1window_1_1_window_size.html">WindowSize</a> {</div><div class="line"><a name="l02115"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_window_size.html#ab87c655d5b68f0e9966aefcd4c3d8bef"> 2115</a></span>&#160;            uint32_t <a class="code" href="structfpl_1_1window_1_1_window_size.html#ab87c655d5b68f0e9966aefcd4c3d8bef">width</a>;</div><div class="line"><a name="l02117"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_window_size.html#a5d126b1422ad5313a477b3baf0e6fe3a"> 2117</a></span>&#160;            uint32_t <a class="code" href="structfpl_1_1window_1_1_window_size.html#a5d126b1422ad5313a477b3baf0e6fe3a">height</a>;</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;        };</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;</div><div class="line"><a name="l02121"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_window_position.html"> 2121</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structfpl_1_1window_1_1_window_position.html">WindowPosition</a> {</div><div class="line"><a name="l02123"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_window_position.html#a3a8869384ea2676df0d54ae197574ca0"> 2123</a></span>&#160;            int32_t <a class="code" href="structfpl_1_1window_1_1_window_position.html#a3a8869384ea2676df0d54ae197574ca0">left</a>;</div><div class="line"><a name="l02125"></a><span class="lineno"><a class="line" href="structfpl_1_1window_1_1_window_position.html#a59fb9f01813cb864ffc44a090f05d4a5"> 2125</a></span>&#160;            int32_t <a class="code" href="structfpl_1_1window_1_1_window_position.html#a59fb9f01813cb864ffc44a090f05d4a5">top</a>;</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;        };</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___window_base.html#gae603a20eb995b5887ff055e95b48363b">IsWindowRunning</a>();</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___window_base.html#ga3b59bf79f2c70c92b61c12741e75ae0a">WindowUpdate</a>();</div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___window_base.html#gaad836fba746600304f58f1d07d12ab72">WindowFlip</a>();</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___window_base.html#gad62349fccf4177acf7e48102d3fab185">SetWindowCursorEnabled</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> value);</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <a class="code" href="structfpl_1_1window_1_1_window_size.html">WindowSize</a> <a class="code" href="group___window_base.html#ga373b828e140954c44c3415f98f9e7e63">GetWindowArea</a>();</div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___window_base.html#ga3437f86381ee1bbe01fdf9f6007fe8b6">SetWindowArea</a>(<span class="keyword">const</span> uint32_t width, <span class="keyword">const</span> uint32_t height);</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___window_base.html#gaa0a0eb6408cf9201e93dd317e59eec3c">IsWindowResizable</a>();</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___window_base.html#gae0b3a2e777c7c9fce74c0828455f3de1">SetWindowResizeable</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> value);</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___window_base.html#gad44e694b9233bea8dfd3aeb70de3744c">SetWindowFullscreen</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> value, <span class="keyword">const</span> uint32_t fullscreenWidth = 0, <span class="keyword">const</span> uint32_t fullscreenHeight = 0, <span class="keyword">const</span> uint32_t refreshRate = 0);</div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___window_base.html#gaa9b22d92b69ab7740cafb932270df663">IsWindowFullscreen</a>();</div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <a class="code" href="structfpl_1_1window_1_1_window_position.html">WindowPosition</a> <a class="code" href="group___window_base.html#ga802a660426beab88fcf3835aa0491a8b">GetWindowPosition</a>();</div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___window_base.html#ga1c3c320dc9e29fa1aa5f86f0fd434e79">SetWindowPosition</a>(<span class="keyword">const</span> int32_t left, <span class="keyword">const</span> int32_t top);</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___window_base.html#ga83958a36db0031b265f3b10470b4dade">SetWindowTitle</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *title);</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">char</span> *<a class="code" href="group___window_clipboard.html#ga9ad3697817a0dfdbc2527e4087413c8d">GetClipboardAnsiText</a>(<span class="keywordtype">char</span> *dest, <span class="keyword">const</span> uint32_t maxDestLen);</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">wchar_t</span> *<a class="code" href="group___window_clipboard.html#ga0101008cbd7d81f06a31d76fa0c81840">GetClipboardWideText</a>(<span class="keywordtype">wchar_t</span> *dest, <span class="keyword">const</span> uint32_t maxDestLen);</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___window_clipboard.html#ga195d6d724a7ad034189368770bf1466b">SetClipboardText</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *ansiSource);</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___window_clipboard.html#ga195d6d724a7ad034189368770bf1466b">SetClipboardText</a>(<span class="keyword">const</span> <span class="keywordtype">wchar_t</span> *wideSource);</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;</div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;    };</div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;<span class="preprocessor">#endif // FPL_ENABLE_WINDOW</span></div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;</div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;<span class="preprocessor">#if defined(FPL_ENABLE_VIDEO)</span></div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;    <span class="keyword">namespace </span>video {</div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;</div><div class="line"><a name="l02186"></a><span class="lineno"><a class="line" href="structfpl_1_1video_1_1_video_back_buffer.html"> 2186</a></span>&#160;        <span class="keyword">struct </span><a class="code" href="structfpl_1_1video_1_1_video_back_buffer.html">VideoBackBuffer</a> {</div><div class="line"><a name="l02188"></a><span class="lineno"><a class="line" href="structfpl_1_1video_1_1_video_back_buffer.html#af423b416ba0131dd3483f7f25a3d6496"> 2188</a></span>&#160;            uint32_t *<a class="code" href="structfpl_1_1video_1_1_video_back_buffer.html#af423b416ba0131dd3483f7f25a3d6496">pixels</a>;</div><div class="line"><a name="l02190"></a><span class="lineno"><a class="line" href="structfpl_1_1video_1_1_video_back_buffer.html#a2d9169c4ff567a707b5d951824e1db7f"> 2190</a></span>&#160;            uint32_t <a class="code" href="structfpl_1_1video_1_1_video_back_buffer.html#a2d9169c4ff567a707b5d951824e1db7f">width</a>;</div><div class="line"><a name="l02192"></a><span class="lineno"><a class="line" href="structfpl_1_1video_1_1_video_back_buffer.html#a69cbcb70ac19416095ee4c292c9ef781"> 2192</a></span>&#160;            uint32_t <a class="code" href="structfpl_1_1video_1_1_video_back_buffer.html#a69cbcb70ac19416095ee4c292c9ef781">height</a>;</div><div class="line"><a name="l02194"></a><span class="lineno"><a class="line" href="structfpl_1_1video_1_1_video_back_buffer.html#ad7a677841458395ab93db56d3ae57945"> 2194</a></span>&#160;            <span class="keywordtype">size_t</span> <a class="code" href="structfpl_1_1video_1_1_video_back_buffer.html#ad7a677841458395ab93db56d3ae57945">stride</a>;</div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;        };</div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;</div><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <a class="code" href="structfpl_1_1video_1_1_video_back_buffer.html">VideoBackBuffer</a> *<a class="code" href="group___video.html#ga66afa77e909dab32517268006e8da8da">GetVideoBackBuffer</a>();</div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___video.html#gaa607597cd1e9dab0e6ffeaa7cbbd395c">ResizeVideoBackBuffer</a>(<span class="keyword">const</span> uint32_t width, <span class="keyword">const</span> uint32_t height);</div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;</div><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;    };</div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;<span class="preprocessor">#endif // FPL_ENABLE_VIDEO</span></div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;</div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;<span class="preprocessor">#if defined(FPL_ENABLE_AUDIO)</span></div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;    <span class="keyword">namespace </span>audio {</div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;</div><div class="line"><a name="l02216"></a><span class="lineno"><a class="line" href="namespacefpl_1_1audio_1_1_audio_results.html"> 2216</a></span>&#160;        <span class="keyword">namespace </span>AudioResults {</div><div class="line"><a name="l02218"></a><span class="lineno"><a class="line" href="namespacefpl_1_1audio_1_1_audio_results.html#aa2612a356f6a8c7001e6e91eb1fd09b0"> 2218</a></span>&#160;            <span class="keyword">enum</span> <a class="code" href="namespacefpl_1_1audio_1_1_audio_results.html#aa2612a356f6a8c7001e6e91eb1fd09b0">AudioResultEnum</a> {</div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;                Success = 0,</div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;                DeviceNotInitialized,</div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;                DeviceAlreadyStopped,</div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;                DeviceAlreadyStarted,</div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;                DeviceBusy,</div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;                Failed,</div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;            };</div><div class="line"><a name="l02226"></a><span class="lineno"><a class="line" href="group___audio.html#ga61e32a782608559d79f8350335d60ce2"> 2226</a></span>&#160;        };</div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;        <span class="keyword">typedef</span> <a class="code" href="namespacefpl_1_1audio_1_1_audio_results.html#aa2612a356f6a8c7001e6e91eb1fd09b0">AudioResults::AudioResultEnum</a> <a class="code" href="group___audio.html#ga61e32a782608559d79f8350335d60ce2">AudioResult</a>;</div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;</div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> AudioResult <a class="code" href="group___audio.html#gad879b8c42a68250a581a7d5347e3b3e0">PlayAudio</a>();</div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> AudioResult <a class="code" href="group___audio.html#ga7c7306211763682dc822438ca375933d">StopAudio</a>();</div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keyword">const</span> <a class="code" href="structfpl_1_1_audio_device_format.html">AudioDeviceFormat</a> &amp;<a class="code" href="group___audio.html#ga0b9d3595b9898f3d47e2a87e6d497c76">GetAudioHardwareFormat</a>();</div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___audio.html#gab74286317a34e70379c2bdcd4756c02e">SetAudioClientReadCallback</a>(<a class="code" href="group___settings.html#gaa2a5629c37b69482654db63bda6e28a0">AudioClientReadFunction</a> *newCallback, <span class="keywordtype">void</span> *userData);</div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;</div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;    };</div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;};</div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;</div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;<span class="comment">// Platform specific defines/includes and forward declarations</span></div><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;<span class="preprocessor">#if defined(FPL_PLATFORM_WIN32)</span></div><div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;<span class="comment">// @NOTE(final): Required for access &quot;main&quot; from the actual win32 entry point</span></div><div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;<a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **args);</div><div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;<span class="preprocessor">#endif // FPL_PLATFORM_WIN32</span></div><div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;</div><div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;<span class="comment">// Expand all namespaces if the callers wants this</span></div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;<span class="preprocessor">#if defined(FPL_ENABLE_AUTO_NAMESPACE)</span></div><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacefpl.html">fpl</a>;</div><div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;<span class="preprocessor">#   if defined(FPL_ENABLE_WINDOW)</span></div><div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacefpl_1_1window.html">fpl::window</a>;</div><div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacefpl_1_1video.html">fpl::video</a>;</div><div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;<span class="preprocessor">#   endif</span></div><div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;<span class="preprocessor">#   if defined(FPL_ENABLE_AUDIO)</span></div><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacefpl_1_1audio.html">fpl::audio</a>;</div><div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;<span class="preprocessor">#   endif</span></div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacefpl_1_1atomics.html">fpl::atomics</a>;</div><div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacefpl_1_1hardware.html">fpl::hardware</a>;</div><div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacefpl_1_1memory.html">fpl::memory</a>;</div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacefpl_1_1timings.html">fpl::timings</a>;</div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacefpl_1_1paths.html">fpl::paths</a>;</div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacefpl_1_1files.html">fpl::files</a>;</div><div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacefpl_1_1library.html">fpl::library</a>;</div><div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacefpl_1_1strings.html">fpl::strings</a>;</div><div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacefpl_1_1console.html">fpl::console</a>;</div><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacefpl_1_1threading.html">fpl::threading</a>;</div><div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;<span class="preprocessor">#endif // FPL_ENABLE_AUTO_NAMESPACE</span></div><div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;</div><div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;<span class="preprocessor">#endif // FPL_INCLUDE_HPP</span></div><div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;</div><div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;<span class="comment">// ****************************************************************************</span></div><div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;<span class="comment">// Implementation</span></div><div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;<span class="comment">// ****************************************************************************</span></div><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;<span class="preprocessor">#if defined(FPL_IMPLEMENTATION) &amp;&amp; !defined(FPL_IMPLEMENTED)</span></div><div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;<span class="preprocessor">#define FPL_IMPLEMENTED</span></div><div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;</div><div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;<span class="comment">// ****************************************************************************</span></div><div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;<span class="comment">// Common Functions (Non-Platform specific)</span></div><div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;<span class="comment">// ****************************************************************************</span></div><div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;</div><div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;<span class="comment">// Standard includes</span></div><div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;<span class="preprocessor">#include &lt;stdarg.h&gt;</span> <span class="comment">// va_start, va_end, va_list, va_arg</span></div><div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;<span class="preprocessor">#include &lt;stdio.h&gt;</span> <span class="comment">// fprintf, vfprintf, vsprintf</span></div><div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;</div><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;<span class="comment">// Macros</span></div><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;<span class="preprocessor">#define FPL_CLEARMEM(T, memory, size, shift, mask) \</span></div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;<span class="preprocessor">    do { \</span></div><div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;<span class="preprocessor">        size_t clearedBytes = 0; \</span></div><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;<span class="preprocessor">        if (sizeof(T) &gt; sizeof(uint8_t)) { \</span></div><div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;<span class="preprocessor">            T *dataBlock = static_cast&lt;T *&gt;(memory); \</span></div><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;<span class="preprocessor">            T *dataBlockEnd = static_cast&lt;T *&gt;(memory) + (size &gt;&gt; shift); \</span></div><div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;<span class="preprocessor">            while (dataBlock != dataBlockEnd) { \</span></div><div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;<span class="preprocessor">                *dataBlock++ = 0; \</span></div><div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;<span class="preprocessor">                clearedBytes += sizeof(T); \</span></div><div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;<span class="preprocessor">            } \</span></div><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;<span class="preprocessor">        } \</span></div><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;<span class="preprocessor">        uint8_t *data8 = (uint8_t *)memory + clearedBytes; \</span></div><div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;<span class="preprocessor">        uint8_t *data8End = (uint8_t *)memory + size; \</span></div><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;<span class="preprocessor">        while (data8 != data8End) { \</span></div><div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;<span class="preprocessor">            *data8++ = 0; \</span></div><div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;<span class="preprocessor">        } \</span></div><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;<span class="preprocessor">    } while (0);</span></div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;</div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;<span class="preprocessor">#define FPL_COPYMEM(T, source, sourceSize, dest, shift, mask) \</span></div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;<span class="preprocessor">    do { \</span></div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;<span class="preprocessor">        size_t copiedBytes = 0; \</span></div><div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;<span class="preprocessor">        if (sizeof(T) &gt; sizeof(uint8_t)) { \</span></div><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;<span class="preprocessor">            T *sourceDataBlock = static_cast&lt;T *&gt;(source); \</span></div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;<span class="preprocessor">            T *sourceDataBlockEnd = static_cast&lt;T *&gt;(source) + (sourceSize &gt;&gt; shift); \</span></div><div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;<span class="preprocessor">            T *destDataBlock = static_cast&lt;T *&gt;(dest); \</span></div><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;<span class="preprocessor">            while (sourceDataBlock != sourceDataBlockEnd) { \</span></div><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;<span class="preprocessor">                *destDataBlock++ = *sourceDataBlock++; \</span></div><div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;<span class="preprocessor">                copiedBytes += sizeof(T); \</span></div><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;<span class="preprocessor">            } \</span></div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;<span class="preprocessor">        } \</span></div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;<span class="preprocessor">        uint8_t *sourceData8 = (uint8_t *)source + copiedBytes; \</span></div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;<span class="preprocessor">        uint8_t *sourceData8End = (uint8_t *)source + sourceSize; \</span></div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;<span class="preprocessor">        uint8_t *destData8 = (uint8_t *)dest + copiedBytes; \</span></div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;<span class="preprocessor">        while (sourceData8 != sourceData8End) { \</span></div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;<span class="preprocessor">            *destData8++ = *sourceData8++; \</span></div><div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;<span class="preprocessor">        } \</span></div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;<span class="preprocessor">    } while (0);</span></div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;</div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacefpl.html">fpl</a> {</div><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;    <span class="keyword">namespace </span>platform {</div><div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;        <span class="comment">// Platform constants</span></div><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;<span class="preprocessor">#   if defined(FPL_PLATFORM_WIN32)</span></div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aa3d38e49c90082e1638fe199347c35c5">fpl_constant</a> <span class="keywordtype">char</span> PATH_SEPARATOR = <span class="charliteral">&#39;\\&#39;</span>;</div><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aa3d38e49c90082e1638fe199347c35c5">fpl_constant</a> <span class="keywordtype">char</span> FILE_EXT_SEPARATOR = <span class="charliteral">&#39;.&#39;</span>;</div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;<span class="preprocessor">#   else</span></div><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aa3d38e49c90082e1638fe199347c35c5">fpl_constant</a> <span class="keywordtype">char</span> PATH_SEPARATOR = <span class="charliteral">&#39;/&#39;</span>;</div><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aa3d38e49c90082e1638fe199347c35c5">fpl_constant</a> <span class="keywordtype">char</span> FILE_EXT_SEPARATOR = <span class="charliteral">&#39;.&#39;</span>;</div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;<span class="preprocessor">#   endif</span></div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;    } <span class="comment">// platform</span></div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;</div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;    <span class="keyword">namespace </span>common {</div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;        <span class="comment">// Internal types and functions</span></div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aa3d38e49c90082e1638fe199347c35c5">fpl_constant</a> uint32_t MAX_LAST_ERROR_STRING_LENGTH = 1024;</div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;<span class="preprocessor">#   if defined(FPL_ENABLE_MULTIPLE_ERRORSTATES)</span></div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aa3d38e49c90082e1638fe199347c35c5">fpl_constant</a> <span class="keywordtype">size_t</span> MAX_ERRORSTATE_COUNT = 1024;</div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;<span class="preprocessor">#   else</span></div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aa3d38e49c90082e1638fe199347c35c5">fpl_constant</a> <span class="keywordtype">size_t</span> MAX_ERRORSTATE_COUNT = 1;</div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;<span class="preprocessor">#   endif</span></div><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;</div><div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;        <span class="keyword">struct </span>ErrorState {</div><div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;            <span class="keywordtype">char</span> errors[MAX_ERRORSTATE_COUNT][MAX_LAST_ERROR_STRING_LENGTH];</div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;            <span class="keywordtype">size_t</span> count;</div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;        };</div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;</div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a15247947df186e1a456e037388e619a7">fpl_globalvar</a> ErrorState *global__LastErrorState = <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>;</div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;</div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;<span class="preprocessor">#   if defined(FPL_ENABLE_MULTIPLE_ERRORSTATES)</span></div><div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a2cde79ef58944162158c81a4d5b754dd">fpl_internal_inline</a> <span class="keywordtype">void</span> PushError_Formatted(<span class="keyword">const</span> <span class="keywordtype">char</span> *format, va_list &amp;argList) {</div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;            ErrorState *state = global__LastErrorState;</div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;            <span class="keywordflow">if</span> (state != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;                <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(format != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;                <span class="keywordtype">char</span> buffer[MAX_LAST_ERROR_STRING_LENGTH];</div><div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;                vsnprintf(buffer, <a class="code" href="final__platform__layer_8hpp.html#a1b604d8132880ef082abb67661670eb8">FPL_ARRAYCOUNT</a>(buffer), format, argList);</div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;                uint32_t messageLen = <a class="code" href="group___strings.html#ga388ca55dd073575074821c146a585e2d">strings::GetAnsiStringLength</a>(buffer);</div><div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;                <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(state-&gt;count &lt; MAX_ERRORSTATE_COUNT);</div><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;                <span class="keywordtype">size_t</span> errorIndex = state-&gt;count++;</div><div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;                <a class="code" href="group___strings.html#ga4540f0bb0f47aeba1a0900f9f107c188">strings::CopyAnsiString</a>(buffer, messageLen, state-&gt;errors[errorIndex], MAX_LAST_ERROR_STRING_LENGTH);</div><div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;<span class="preprocessor">#       if defined(FPL_ENABLE_ERROR_IN_CONSOLE)</span></div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;                <a class="code" href="group___console.html#gaf9a2aff1071c86843688e16b8ee0431f">console::ConsoleError</a>(buffer);</div><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;<span class="preprocessor">#       endif</span></div><div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;            }</div><div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;        }</div><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;<span class="preprocessor">#   else</span></div><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a2cde79ef58944162158c81a4d5b754dd">fpl_internal_inline</a> <span class="keywordtype">void</span> PushError_Formatted(<span class="keyword">const</span> <span class="keywordtype">char</span> *format, va_list &amp;argList) {</div><div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;            ErrorState *state = global__LastErrorState;</div><div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;            <span class="keywordflow">if</span> (state != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;                <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(format != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;                <span class="keywordtype">char</span> buffer[MAX_LAST_ERROR_STRING_LENGTH];</div><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;                vsnprintf(buffer, <a class="code" href="final__platform__layer_8hpp.html#a1b604d8132880ef082abb67661670eb8">FPL_ARRAYCOUNT</a>(buffer), format, argList);</div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;                uint32_t messageLen = <a class="code" href="group___strings.html#ga388ca55dd073575074821c146a585e2d">strings::GetAnsiStringLength</a>(buffer);</div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;                <a class="code" href="group___strings.html#ga4540f0bb0f47aeba1a0900f9f107c188">strings::CopyAnsiString</a>(buffer, messageLen, state-&gt;errors[0], MAX_LAST_ERROR_STRING_LENGTH);</div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;<span class="preprocessor">#       if defined(FPL_ENABLE_ERROR_IN_CONSOLE)</span></div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;                <a class="code" href="group___console.html#gaf9a2aff1071c86843688e16b8ee0431f">console::ConsoleError</a>(buffer);</div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;<span class="preprocessor">#       endif</span></div><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;            }</div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;        }</div><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;<span class="preprocessor">#   endif // FPL_ENABLE_MULTIPLE_ERRORSTATES</span></div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;</div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a2cde79ef58944162158c81a4d5b754dd">fpl_internal_inline</a> <span class="keywordtype">void</span> PushError(<span class="keyword">const</span> <span class="keywordtype">char</span> *format, ...) {</div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;            va_list valist;</div><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;            va_start(valist, format);</div><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;            PushError_Formatted(format, valist);</div><div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;            va_end(valist);</div><div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;        }</div><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;</div><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;        <span class="comment">// Maximum number of threads you can have in your process</span></div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aa3d38e49c90082e1638fe199347c35c5">fpl_constant</a> uint32_t MAX_THREAD_COUNT = 64;</div><div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;</div><div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;        <span class="comment">// Maximum number of signals you can wait for</span></div><div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aa3d38e49c90082e1638fe199347c35c5">fpl_constant</a> uint32_t MAX_SIGNAL_COUNT = 256;</div><div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;</div><div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;        <span class="keyword">struct </span><a class="code" href="namespacefpl_1_1threading_1_1_thread_states.html#a8126df665987eab3a5d4d85806095082">ThreadState</a> {</div><div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;            <a class="code" href="structfpl_1_1threading_1_1_thread_context.html">threading::ThreadContext</a> mainThread;</div><div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;            <a class="code" href="structfpl_1_1threading_1_1_thread_context.html">threading::ThreadContext</a> threads[MAX_THREAD_COUNT];</div><div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;        };</div><div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;</div><div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a15247947df186e1a456e037388e619a7">fpl_globalvar</a> <a class="code" href="namespacefpl_1_1threading_1_1_thread_states.html#a8126df665987eab3a5d4d85806095082">ThreadState</a> global__ThreadState = {};</div><div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;</div><div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a2cde79ef58944162158c81a4d5b754dd">fpl_internal_inline</a> <a class="code" href="structfpl_1_1threading_1_1_thread_context.html">threading::ThreadContext</a> *GetThreadContext() {</div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;            <a class="code" href="structfpl_1_1threading_1_1_thread_context.html">threading::ThreadContext</a> *result = <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>;</div><div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;            <span class="keywordflow">for</span> (uint32_t index = 0; index &lt; MAX_THREAD_COUNT; ++index) {</div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;                <a class="code" href="structfpl_1_1threading_1_1_thread_context.html">threading::ThreadContext</a> *thread = global__ThreadState.threads + index;</div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;                uint32_t state = <a class="code" href="group___atomics.html#ga2460e7047ec012a5859992fbf05aa29f">atomics::AtomicLoadU32</a>((<span class="keyword">volatile</span> uint32_t *)&amp;thread-&gt;<a class="code" href="structfpl_1_1threading_1_1_thread_context.html#a37c92f45870583481685fdc629f83e75">currentState</a>);</div><div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;                <span class="keywordflow">if</span> (state == (uint32_t)<a class="code" href="namespacefpl_1_1threading_1_1_thread_states.html#a8126df665987eab3a5d4d85806095082a08bcb5e39fc4e240908a1a10cc17ca34">threading::ThreadState::Stopped</a>) {</div><div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;                    result = thread;</div><div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;                }</div><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;            }</div><div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;        }</div><div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;</div><div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;    } <span class="comment">// common</span></div><div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;</div><div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;    <span class="comment">// Common Audio</span></div><div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;<span class="preprocessor">#if defined(FPL_ENABLE_AUDIO)</span></div><div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;    <span class="keyword">namespace </span>audio {</div><div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;        <span class="keyword">struct </span>CommonAudioState {</div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;            <a class="code" href="structfpl_1_1_audio_device_format.html">AudioDeviceFormat</a> internalFormat;</div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;            <a class="code" href="group___settings.html#gaa2a5629c37b69482654db63bda6e28a0">AudioClientReadFunction</a> *clientReadCallback;</div><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;            <span class="keywordtype">void</span> *clientUserData;</div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;        };</div><div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;</div><div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a2cde79ef58944162158c81a4d5b754dd">fpl_internal_inline</a> uint32_t GetAudioSampleSizeInBytes(<span class="keyword">const</span> <a class="code" href="namespacefpl_1_1_audio_format_types.html#a584b62b8408e98f7b44cdef4984ce8c8">AudioFormatType</a> format) {</div><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;            <span class="keywordflow">switch</span> (format) {</div><div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;                <span class="keywordflow">case</span> AudioFormatType::U8:</div><div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;                    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;                <span class="keywordflow">case</span> AudioFormatType::S16:</div><div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;                    <span class="keywordflow">return</span> 2;</div><div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;                <span class="keywordflow">case</span> AudioFormatType::S24:</div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;                    <span class="keywordflow">return</span> 3;</div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;                <span class="keywordflow">case</span> AudioFormatType::S32:</div><div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;                <span class="keywordflow">case</span> AudioFormatType::F32:</div><div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;                    <span class="keywordflow">return</span> 4;</div><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;                <span class="keywordflow">default</span>:</div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;                    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;            }</div><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;        }</div><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;</div><div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aa3d38e49c90082e1638fe199347c35c5">fpl_constant</a> <span class="keywordtype">char</span> *AUDIO_FORMAT_TYPE_STRINGS[] = {</div><div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;            <span class="stringliteral">&quot;None&quot;</span>,</div><div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;            <span class="stringliteral">&quot;U8&quot;</span>,</div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;            <span class="stringliteral">&quot;S16&quot;</span>,</div><div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;            <span class="stringliteral">&quot;S24&quot;</span>,</div><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;            <span class="stringliteral">&quot;S32&quot;</span>,</div><div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;            <span class="stringliteral">&quot;F32&quot;</span>,</div><div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;        };</div><div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a2cde79ef58944162158c81a4d5b754dd">fpl_internal_inline</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *GetAudioFormatString(<a class="code" href="namespacefpl_1_1_audio_format_types.html#a584b62b8408e98f7b44cdef4984ce8c8">AudioFormatType</a> format) {</div><div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;            uint32_t index = (uint32_t)format;</div><div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(index &lt; <a class="code" href="final__platform__layer_8hpp.html#a1b604d8132880ef082abb67661670eb8">FPL_ARRAYCOUNT</a>(AUDIO_FORMAT_TYPE_STRINGS));</div><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *result = AUDIO_FORMAT_TYPE_STRINGS[index];</div><div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;        }</div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;</div><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aa3d38e49c90082e1638fe199347c35c5">fpl_constant</a> <span class="keywordtype">char</span> *AUDIO_DRIVER_TYPE_STRINGS[] = {</div><div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;            <span class="stringliteral">&quot;None&quot;</span>,</div><div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;            <span class="stringliteral">&quot;Auto&quot;</span>,</div><div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;            <span class="stringliteral">&quot;DirectSound&quot;</span>,</div><div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;        };</div><div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a2cde79ef58944162158c81a4d5b754dd">fpl_internal_inline</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *GetAudioDriverString(<a class="code" href="namespacefpl_1_1_audio_driver_types.html#afb8583e0947d11e4ec9479717912b82e">AudioDriverType</a> driver) {</div><div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;            uint32_t index = (uint32_t)driver;</div><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(index &lt; <a class="code" href="final__platform__layer_8hpp.html#a1b604d8132880ef082abb67661670eb8">FPL_ARRAYCOUNT</a>(AUDIO_DRIVER_TYPE_STRINGS));</div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">char</span> *result = AUDIO_DRIVER_TYPE_STRINGS[index];</div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;        }</div><div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;</div><div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a2cde79ef58944162158c81a4d5b754dd">fpl_internal_inline</a> uint32_t GetAudioBufferSizeInFrames(uint32_t sampleRate, uint32_t bufferSizeInMilliSeconds) {</div><div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;            uint32_t result = (sampleRate / 1000) * bufferSizeInMilliSeconds;</div><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;        }</div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;</div><div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a2cde79ef58944162158c81a4d5b754dd">fpl_internal_inline</a> uint32_t ReadAudioFramesFromClient(<span class="keyword">const</span> CommonAudioState &amp;commonAudio, uint32_t frameCount, <span class="keywordtype">void</span> *pSamples) {</div><div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;            uint32_t outputSamplesWritten = 0;</div><div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;            <span class="keywordflow">if</span> (commonAudio.clientReadCallback != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;                outputSamplesWritten = commonAudio.clientReadCallback(commonAudio.internalFormat, frameCount, pSamples, commonAudio.clientUserData);</div><div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;            }</div><div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;            <span class="keywordflow">return</span> outputSamplesWritten;</div><div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;        }</div><div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;</div><div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;        <span class="comment">// Forward declarations</span></div><div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> <span class="keywordtype">void</span> ReleaseAudio();</div><div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> <a class="code" href="namespacefpl_1_1audio_1_1_audio_results.html#aa2612a356f6a8c7001e6e91eb1fd09b0">AudioResult</a> InitAudio(<span class="keyword">const</span> <a class="code" href="structfpl_1_1_audio_settings.html">AudioSettings</a> &amp;audioSettings);</div><div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;    } <span class="comment">// audio</span></div><div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;<span class="preprocessor">#endif // FPL_ENABLE_AUDIO</span></div><div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;</div><div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;    <span class="comment">// Common Strings</span></div><div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;    <span class="keyword">namespace </span>strings {</div><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint32_t <a class="code" href="group___strings.html#ga388ca55dd073575074821c146a585e2d">GetAnsiStringLength</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *str) {</div><div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;            uint32_t result = 0;</div><div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;            <span class="keywordflow">if</span> (str != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;                <span class="keywordflow">while</span> (*str++) {</div><div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;                    result++;</div><div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;                }</div><div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;            }</div><div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;        }</div><div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;</div><div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint32_t <a class="code" href="group___strings.html#ga2f5f224289b7bf9d19bb5684cd19fac1">GetWideStringLength</a>(<span class="keyword">const</span> <span class="keywordtype">wchar_t</span> *str) {</div><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;            uint32_t result = 0;</div><div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;            <span class="keywordflow">if</span> (str != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;                <span class="keywordflow">while</span> (*str++) {</div><div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;                    result++;</div><div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;                }</div><div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;            }</div><div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;        }</div><div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;</div><div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">char</span> *<a class="code" href="group___strings.html#ga13b6ef7d3fd687e16fa4db1a58a0cb60">CopyAnsiString</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *source, <span class="keyword">const</span> uint32_t sourceLen, <span class="keywordtype">char</span> *dest, <span class="keyword">const</span> uint32_t maxDestLen) {</div><div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(source &amp;&amp; dest);</div><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>((sourceLen + 1) &lt;= maxDestLen);</div><div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;            <span class="keywordtype">char</span> *result = dest;</div><div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;            uint32_t index = 0;</div><div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;            <span class="keywordflow">while</span> (index++ &lt; sourceLen) {</div><div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;                *dest++ = *source++;</div><div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;            }</div><div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;            *dest = 0;</div><div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;        }</div><div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;</div><div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">char</span> *<a class="code" href="group___strings.html#ga13b6ef7d3fd687e16fa4db1a58a0cb60">CopyAnsiString</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *source, <span class="keywordtype">char</span> *dest, <span class="keyword">const</span> uint32_t maxDestLen) {</div><div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(source);</div><div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;            uint32_t sourceLen = <a class="code" href="group___strings.html#ga388ca55dd073575074821c146a585e2d">GetAnsiStringLength</a>(source);</div><div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;            <span class="keywordtype">char</span> *result = <a class="code" href="group___strings.html#ga13b6ef7d3fd687e16fa4db1a58a0cb60">CopyAnsiString</a>(source, sourceLen, dest, maxDestLen);</div><div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;        }</div><div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;</div><div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">wchar_t</span> *<a class="code" href="group___strings.html#ga50be92a4b019e3e0e94ce7b8b5082421">CopyWideString</a>(<span class="keyword">const</span> <span class="keywordtype">wchar_t</span> *source, <span class="keyword">const</span> uint32_t sourceLen, <span class="keywordtype">wchar_t</span> *dest, <span class="keyword">const</span> uint32_t maxDestLen) {</div><div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(source &amp;&amp; dest);</div><div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>((sourceLen + 1) &lt;= maxDestLen);</div><div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;            <span class="keywordtype">wchar_t</span> *result = dest;</div><div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;            uint32_t index = 0;</div><div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;            <span class="keywordflow">while</span> (index++ &lt; sourceLen) {</div><div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;                *dest++ = *source++;</div><div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;            }</div><div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;            *dest = 0;</div><div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;        }</div><div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;</div><div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">wchar_t</span> *<a class="code" href="group___strings.html#ga50be92a4b019e3e0e94ce7b8b5082421">CopyWideString</a>(<span class="keyword">const</span> <span class="keywordtype">wchar_t</span> *source, <span class="keywordtype">wchar_t</span> *dest, <span class="keyword">const</span> uint32_t maxDestLen) {</div><div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(source);</div><div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;            uint32_t sourceLen = <a class="code" href="group___strings.html#ga2f5f224289b7bf9d19bb5684cd19fac1">GetWideStringLength</a>(source);</div><div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;            <span class="keywordtype">wchar_t</span> *result = <a class="code" href="group___strings.html#ga50be92a4b019e3e0e94ce7b8b5082421">CopyWideString</a>(source, sourceLen, dest, maxDestLen);</div><div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;        }</div><div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;    } <span class="comment">// strings</span></div><div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;</div><div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;    <span class="comment">// Common Memory</span></div><div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;    <span class="keyword">namespace </span>memory {</div><div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> *<a class="code" href="group___memory.html#gaf5ad819b0045c31a72d86c20d8f8dd34">MemoryAlignedAllocate</a>(<span class="keyword">const</span> <span class="keywordtype">size_t</span> size, <span class="keyword">const</span> <span class="keywordtype">size_t</span> alignment) {</div><div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(size &gt; 0);</div><div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(alignment &gt; 0);</div><div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(!(alignment &amp; (alignment - 1)));</div><div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;</div><div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;            <span class="comment">// Allocate empty memory to hold a size of a pointer + the actual size + alignment padding </span></div><div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;            <span class="keywordtype">size_t</span> newSize = <span class="keyword">sizeof</span>(<span class="keywordtype">void</span> *) + size + (alignment &lt;&lt; 1);</div><div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;            <span class="keywordtype">void</span> *basePtr = <a class="code" href="group___memory.html#gaabe256ab34794ac0f3f1633674de97f5">fpl::memory::MemoryAllocate</a>(newSize);</div><div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;</div><div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;            <span class="comment">// The resulting address starts after the stored base pointer</span></div><div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;            <span class="keywordtype">void</span> *alignedPtr = (<span class="keywordtype">void</span> *)((uint8_t *)basePtr + <span class="keyword">sizeof</span>(<span class="keywordtype">void</span> *));</div><div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;</div><div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;            <span class="comment">// Move the resulting address to a aligned one when not aligned</span></div><div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;            uintptr_t mask = alignment - 1;</div><div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;            <span class="keywordflow">if</span> ((alignment &gt; 1) &amp;&amp; (((uintptr_t)alignedPtr &amp; mask) != 0)) {</div><div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;                uintptr_t offset = ((uintptr_t)alignment - ((uintptr_t)alignedPtr &amp; mask));</div><div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;                alignedPtr = (uint8_t *)alignedPtr + offset;</div><div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;            }</div><div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;</div><div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;            <span class="comment">// Write the base pointer before the alignment pointer</span></div><div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;            *(<span class="keywordtype">void</span> **)((<span class="keywordtype">void</span> *)((uint8_t *)alignedPtr - <span class="keyword">sizeof</span>(<span class="keywordtype">void</span> *))) = basePtr;</div><div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;</div><div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;            <span class="comment">// Ensure alignment</span></div><div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(<a class="code" href="final__platform__layer_8hpp.html#a4602cad9ac19ca87310064e010a583cd">FPL_IS_ALIGNED</a>(alignedPtr, alignment));</div><div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;</div><div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;            <span class="keywordflow">return</span>(alignedPtr);</div><div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;        }</div><div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;</div><div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___memory.html#gafff57ceb6d17787d0bc84d66fd23f433">MemoryAlignedFree</a>(<span class="keywordtype">void</span> *ptr) {</div><div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(ptr != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;</div><div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;            <span class="comment">// Free the base pointer which is stored to the left from the given pointer</span></div><div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;            <span class="keywordtype">void</span> *basePtr = *(<span class="keywordtype">void</span> **)((<span class="keywordtype">void</span> *)((uint8_t *)ptr - <span class="keyword">sizeof</span>(<span class="keywordtype">void</span> *)));</div><div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;            <a class="code" href="group___memory.html#ga62c8cc6c740a8089309c6e28ec03d83a">MemoryFree</a>(basePtr);</div><div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;        }</div><div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;</div><div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aa3d38e49c90082e1638fe199347c35c5">fpl_constant</a> <span class="keywordtype">size_t</span> MEM_SHIFT_64 = 3;</div><div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aa3d38e49c90082e1638fe199347c35c5">fpl_constant</a> <span class="keywordtype">size_t</span> MEM_MASK_64 = 0x00000007;</div><div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aa3d38e49c90082e1638fe199347c35c5">fpl_constant</a> <span class="keywordtype">size_t</span> MEM_SHIFT_32 = 2;</div><div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aa3d38e49c90082e1638fe199347c35c5">fpl_constant</a> <span class="keywordtype">size_t</span> MEM_MASK_32 = 0x00000003;</div><div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aa3d38e49c90082e1638fe199347c35c5">fpl_constant</a> <span class="keywordtype">size_t</span> MEM_SHIFT_16 = 1;</div><div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aa3d38e49c90082e1638fe199347c35c5">fpl_constant</a> <span class="keywordtype">size_t</span> MEM_MASK_16 = 0x00000001;</div><div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;</div><div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___memory.html#ga829c0017ffc716ac9302468d3ac41df2">MemoryClear</a>(<span class="keywordtype">void</span> *mem, <span class="keyword">const</span> <span class="keywordtype">size_t</span> size) {</div><div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;            <span class="keywordflow">if</span> (size % 8 == 0) {</div><div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;                FPL_CLEARMEM(uint64_t, mem, size, MEM_SHIFT_64, MEM_MASK_64);</div><div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (size % 4 == 0) {</div><div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;                FPL_CLEARMEM(uint32_t, mem, size, MEM_SHIFT_32, MEM_MASK_32);</div><div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (size % 2 == 0) {</div><div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;                FPL_CLEARMEM(uint16_t, mem, size, MEM_SHIFT_16, MEM_MASK_16);</div><div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;                FPL_CLEARMEM(uint8_t, mem, size, 0, 0);</div><div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;            }</div><div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;        }</div><div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;</div><div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___memory.html#gadb98af4c9b6d561313a2ceeab8d44e06">MemoryCopy</a>(<span class="keywordtype">void</span> *sourceMem, <span class="keyword">const</span> <span class="keywordtype">size_t</span> sourceSize, <span class="keywordtype">void</span> *targetMem) {</div><div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;            <span class="keywordflow">if</span> (sourceSize % 8 == 0) {</div><div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;                FPL_COPYMEM(uint64_t, sourceMem, sourceSize, targetMem, MEM_SHIFT_64, MEM_MASK_64);</div><div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sourceSize % 4 == 0) {</div><div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;                FPL_COPYMEM(uint32_t, sourceMem, sourceSize, targetMem, MEM_SHIFT_32, MEM_MASK_32);</div><div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sourceSize % 2 == 0) {</div><div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;                FPL_COPYMEM(uint16_t, sourceMem, sourceSize, targetMem, MEM_SHIFT_32, MEM_MASK_32);</div><div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;                FPL_COPYMEM(uint8_t, sourceMem, sourceSize, targetMem, 0, 0);</div><div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;            }</div><div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;        }</div><div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;    } <span class="comment">// memory</span></div><div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;</div><div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;    <span class="comment">// Common Atomics</span></div><div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;    <span class="keyword">namespace </span>atomics {</div><div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> *<a class="code" href="group___atomics.html#ga0fb15fee8df0c3577f16f00401e1872f">AtomicExchangePtr</a>(<span class="keyword">volatile</span> <span class="keywordtype">void</span> **target, <span class="keyword">const</span> <span class="keywordtype">void</span> *value) {</div><div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(target != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;<span class="preprocessor">#       if defined(FPL_ARCH_X64)</span></div><div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;            <span class="keywordtype">void</span> *result = (<span class="keywordtype">void</span> *)<a class="code" href="group___atomics.html#ga99cbc21105a6d9c3f91c8d14a8ec68dc">AtomicExchangeU64</a>((<span class="keyword">volatile</span> uint64_t *)target, (uint64_t)value);</div><div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;<span class="preprocessor">#       elif defined(FPL_ARCH_X86)</span></div><div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;            <span class="keywordtype">void</span> *result = (<span class="keywordtype">void</span> *)<a class="code" href="group___atomics.html#ga55587b1d4c3e9faf96161811a708bee1">AtomicExchangeU32</a>((<span class="keyword">volatile</span> uint32_t *)target, (uint32_t)value);</div><div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;<span class="preprocessor">#       else</span></div><div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;<span class="preprocessor">#           error &quot;Unsupported architecture/platform!&quot;</span></div><div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;<span class="preprocessor">#       endif</span></div><div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;        }</div><div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;</div><div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> *<a class="code" href="group___atomics.html#ga584a3d96901d74ce519d239342a559a9">AtomicCompareAndExchangePtr</a>(<span class="keyword">volatile</span> <span class="keywordtype">void</span> **dest, <span class="keyword">const</span> <span class="keywordtype">void</span> *comparand, <span class="keyword">const</span> <span class="keywordtype">void</span> *exchange) {</div><div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(dest != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;<span class="preprocessor">#       if defined(FPL_ARCH_X64)</span></div><div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;            <span class="keywordtype">void</span> *result = (<span class="keywordtype">void</span> *)<a class="code" href="group___atomics.html#gac6e8ef4b3f4c8cb95586af436a05c0b5">AtomicCompareAndExchangeU64</a>((<span class="keyword">volatile</span> uint64_t *)dest, (uint64_t)comparand, (uint64_t)exchange);</div><div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;<span class="preprocessor">#       elif defined(FPL_ARCH_X86)</span></div><div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;            <span class="keywordtype">void</span> *result = (<span class="keywordtype">void</span> *)<a class="code" href="group___atomics.html#ga7e1a4ac48629ab93ad035c6bd6612d84">AtomicCompareAndExchangeU32</a>((<span class="keyword">volatile</span> uint32_t *)dest, (uint32_t)comparand, (uint32_t)exchange);</div><div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;<span class="preprocessor">#       else</span></div><div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;<span class="preprocessor">#           error &quot;Unsupported architecture/platform!&quot;</span></div><div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;<span class="preprocessor">#       endif</span></div><div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;        }</div><div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;</div><div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___atomics.html#ga9053017d18706dd32468809bdf115103">IsAtomicCompareAndExchangePtr</a>(<span class="keyword">volatile</span> <span class="keywordtype">void</span> **dest, <span class="keyword">const</span> <span class="keywordtype">void</span> *comparand, <span class="keyword">const</span> <span class="keywordtype">void</span> *exchange) {</div><div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(dest != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;<span class="preprocessor">#       if defined(FPL_ARCH_X64)</span></div><div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;            <span class="keywordtype">bool</span> result = <a class="code" href="group___atomics.html#gafcc9f50de85f288d137ef28f199b8a43">IsAtomicCompareAndExchangeU64</a>((<span class="keyword">volatile</span> uint64_t *)dest, (uint64_t)comparand, (uint64_t)exchange);</div><div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;<span class="preprocessor">#       elif defined(FPL_ARCH_X86)</span></div><div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;            <span class="keywordtype">bool</span> result = <a class="code" href="group___atomics.html#gaa489434b89fc006c043d41e8a3ac19b0">IsAtomicCompareAndExchangeU32</a>((<span class="keyword">volatile</span> uint32_t *)dest, (uint32_t)comparand, (uint32_t)exchange);</div><div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;<span class="preprocessor">#       else</span></div><div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;<span class="preprocessor">#           error &quot;Unsupported architecture/platform!&quot;</span></div><div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;        }</div><div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;</div><div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> *<a class="code" href="group___atomics.html#ga68ded9789fab976263e6cce2e124c4d2">AtomicLoadPtr</a>(<span class="keyword">volatile</span> <span class="keywordtype">void</span> **source) {</div><div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;<span class="preprocessor">#       if defined(FPL_ARCH_X64)</span></div><div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;            <span class="keywordtype">void</span> *result = (<span class="keywordtype">void</span> *)<a class="code" href="group___atomics.html#ga2576254de8d52495002128f0abd0a45e">AtomicLoadU64</a>((<span class="keyword">volatile</span> uint64_t *)source);</div><div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;<span class="preprocessor">#       elif defined(FPL_ARCH_X86)</span></div><div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;            <span class="keywordtype">void</span> *result = (<span class="keywordtype">void</span> *)<a class="code" href="group___atomics.html#ga2460e7047ec012a5859992fbf05aa29f">AtomicLoadU32</a>((<span class="keyword">volatile</span> uint32_t *)source);</div><div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;<span class="preprocessor">#       else</span></div><div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;<span class="preprocessor">#           error &quot;Unsupported architecture/platform!&quot;</span></div><div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;<span class="preprocessor">#       endif</span></div><div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;        }</div><div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;</div><div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___atomics.html#ga87f4bafdd34360d4eeaef253771ee9c4">AtomicStorePtr</a>(<span class="keyword">volatile</span> <span class="keywordtype">void</span> **dest, <span class="keyword">const</span> <span class="keywordtype">void</span> *value) {</div><div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;<span class="preprocessor">#       if defined(FPL_ARCH_X64)</span></div><div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;            <a class="code" href="group___atomics.html#gaa9c7bf288268d469be98e19a163ed636">AtomicStoreU64</a>((<span class="keyword">volatile</span> uint64_t *)dest, (uint64_t)value);</div><div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;<span class="preprocessor">#       elif defined(FPL_ARCH_X86)</span></div><div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;            <a class="code" href="group___atomics.html#ga01905a5db859475f4b394ed469af0c5a">AtomicStoreU32</a>((<span class="keyword">volatile</span> uint32_t *)dest, (uint32_t)value);</div><div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;<span class="preprocessor">#       else</span></div><div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;<span class="preprocessor">#           error &quot;Unsupported architecture/platform!&quot;</span></div><div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;<span class="preprocessor">#       endif</span></div><div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;        }</div><div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;    } <span class="comment">// atomics</span></div><div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;</div><div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;    <span class="comment">// Common Paths</span></div><div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;    <span class="keyword">namespace </span>paths {</div><div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">char</span> *<a class="code" href="group___paths.html#ga9350ed786eba22a1c85695d25dbd22c5">ExtractFilePath</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *sourcePath, <span class="keywordtype">char</span> *destPath, <span class="keyword">const</span> uint32_t maxDestLen) {</div><div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;            uint32_t sourceLen = <a class="code" href="group___strings.html#ga388ca55dd073575074821c146a585e2d">strings::GetAnsiStringLength</a>(sourcePath);</div><div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(destPath != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(maxDestLen &gt;= (sourceLen + 1));</div><div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;</div><div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;            <span class="keywordtype">char</span> *result = <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>;</div><div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;            <span class="keywordflow">if</span> (sourcePath) {</div><div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;                <span class="keywordtype">int</span> copyLen = 0;</div><div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;                <span class="keywordtype">char</span> *chPtr = (<span class="keywordtype">char</span> *)sourcePath;</div><div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;                <span class="keywordflow">while</span> (*chPtr) {</div><div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;                    <span class="keywordflow">if</span> (*chPtr == platform::PATH_SEPARATOR) {</div><div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;                        copyLen = (int)(chPtr - sourcePath);</div><div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;                    }</div><div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;                    ++chPtr;</div><div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;                }</div><div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;                <span class="keywordflow">if</span> (copyLen) {</div><div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;                    result = <a class="code" href="group___strings.html#ga4540f0bb0f47aeba1a0900f9f107c188">strings::CopyAnsiString</a>(sourcePath, copyLen, destPath, maxDestLen);</div><div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;                }</div><div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;            }</div><div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;        }</div><div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;</div><div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">char</span> *<a class="code" href="group___paths.html#ga85802af649a9637a3c57de4327c75313">ExtractFileExtension</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *sourcePath) {</div><div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;            <span class="keywordtype">char</span> *result = (<span class="keywordtype">char</span> *)<a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>;</div><div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;            <span class="keywordflow">if</span> (sourcePath != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;                <span class="keywordtype">char</span> *filename = <a class="code" href="group___paths.html#ga3b04dd2938642219a5a60630c2146e2b">ExtractFileName</a>(sourcePath);</div><div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;                <span class="keywordflow">if</span> (filename) {</div><div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;                    <span class="keywordtype">char</span> *chPtr = filename;</div><div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;                    <span class="keywordtype">char</span> *firstSeparatorPtr = (<span class="keywordtype">char</span> *)<a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>;</div><div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;                    <span class="keywordflow">while</span> (*chPtr) {</div><div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;                        <span class="keywordflow">if</span> (*chPtr == platform::FILE_EXT_SEPARATOR) {</div><div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;                            firstSeparatorPtr = chPtr;</div><div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;                            <span class="keywordflow">break</span>;</div><div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;                        }</div><div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;                        ++chPtr;</div><div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;                    }</div><div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;                    <span class="keywordflow">if</span> (firstSeparatorPtr != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;                        result = firstSeparatorPtr;</div><div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;                    }</div><div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;                }</div><div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;            }</div><div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;        }</div><div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;</div><div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">char</span> *<a class="code" href="group___paths.html#ga3b04dd2938642219a5a60630c2146e2b">ExtractFileName</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *sourcePath) {</div><div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;            <span class="keywordtype">char</span> *result = (<span class="keywordtype">char</span> *)<a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>;</div><div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;            <span class="keywordflow">if</span> (sourcePath) {</div><div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;                result = (<span class="keywordtype">char</span> *)sourcePath;</div><div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;                <span class="keywordtype">char</span> *chPtr = (<span class="keywordtype">char</span> *)sourcePath;</div><div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;                <span class="keywordtype">char</span> *lastPtr = (<span class="keywordtype">char</span> *)<a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>;</div><div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;                <span class="keywordflow">while</span> (*chPtr) {</div><div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;                    <span class="keywordflow">if</span> (*chPtr == platform::PATH_SEPARATOR) {</div><div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;                        lastPtr = chPtr;</div><div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;                    }</div><div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;                    ++chPtr;</div><div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;                }</div><div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;                <span class="keywordflow">if</span> (lastPtr != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;                    result = lastPtr + 1;</div><div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;                }</div><div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;            }</div><div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;        }</div><div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;</div><div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">char</span> *<a class="code" href="group___paths.html#ga2f024c3d4f8297173ca50a666cb69627">ChangeFileExtension</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filePath, <span class="keyword">const</span> <span class="keywordtype">char</span> *newFileExtension, <span class="keywordtype">char</span> *destPath, <span class="keyword">const</span> uint32_t maxDestLen) {</div><div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;            uint32_t pathLen = <a class="code" href="group___strings.html#ga388ca55dd073575074821c146a585e2d">strings::GetAnsiStringLength</a>(filePath);</div><div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;            uint32_t extLen = <a class="code" href="group___strings.html#ga388ca55dd073575074821c146a585e2d">strings::GetAnsiStringLength</a>(newFileExtension);</div><div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;</div><div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;            <span class="comment">// @NOTE: Put one additional character for the extension which may not contain a dot</span></div><div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;            uint32_t sourceLen = pathLen + (extLen + 1);</div><div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(destPath != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(maxDestLen &gt;= (sourceLen + 1));</div><div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;</div><div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;            <span class="keywordtype">char</span> *result = (<span class="keywordtype">char</span> *)<a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>;</div><div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;            <span class="keywordflow">if</span> (filePath != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;                <span class="comment">// Find last path</span></div><div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;                <span class="keywordtype">char</span> *chPtr = (<span class="keywordtype">char</span> *)filePath;</div><div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;                <span class="keywordtype">char</span> *lastPathSeparatorPtr = (<span class="keywordtype">char</span> *)<a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>;</div><div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;                <span class="keywordflow">while</span> (*chPtr) {</div><div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;                    <span class="keywordflow">if</span> (*chPtr == platform::PATH_SEPARATOR) {</div><div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;                        lastPathSeparatorPtr = chPtr;</div><div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;                    }</div><div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;                    ++chPtr;</div><div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;                }</div><div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;</div><div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;                <span class="comment">// Find last ext separator</span></div><div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;                <span class="keywordflow">if</span> (lastPathSeparatorPtr != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;                    chPtr = lastPathSeparatorPtr + 1;</div><div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;                    chPtr = (<span class="keywordtype">char</span> *)filePath;</div><div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;                }</div><div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;                <span class="keywordtype">char</span> *lastExtSeparatorPtr = (<span class="keywordtype">char</span> *)<a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>;</div><div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;                <span class="keywordflow">while</span> (*chPtr) {</div><div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;                    <span class="keywordflow">if</span> (*chPtr == platform::FILE_EXT_SEPARATOR) {</div><div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;                        lastExtSeparatorPtr = chPtr;</div><div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;                    }</div><div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;                    ++chPtr;</div><div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;                }</div><div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;</div><div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;                uint32_t copyLen;</div><div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;                <span class="keywordflow">if</span> (lastExtSeparatorPtr != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;                    copyLen = (uint32_t)((uintptr_t)lastExtSeparatorPtr - (uintptr_t)filePath);</div><div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;                    copyLen = pathLen;</div><div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;                }</div><div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;</div><div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;                <span class="comment">// Copy parts</span></div><div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;                <a class="code" href="group___strings.html#ga4540f0bb0f47aeba1a0900f9f107c188">strings::CopyAnsiString</a>(filePath, copyLen, destPath, maxDestLen);</div><div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;                <span class="keywordtype">char</span> *destExtPtr = destPath + copyLen;</div><div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;                <a class="code" href="group___strings.html#ga4540f0bb0f47aeba1a0900f9f107c188">strings::CopyAnsiString</a>(newFileExtension, extLen, destExtPtr, maxDestLen - copyLen);</div><div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;                result = destPath;</div><div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;            }</div><div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;        }</div><div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;</div><div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">char</span> *<a class="code" href="group___paths.html#ga41591ef383ffb2e673c7d1746e5dcd05">CombinePath</a>(<span class="keywordtype">char</span> *destPath, <span class="keyword">const</span> uint32_t maxDestPathLen, <span class="keyword">const</span> uint32_t pathCount, ...) {</div><div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;            uint32_t curDestPosition = 0;</div><div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;            <span class="keywordtype">char</span> *currentDestPtr = destPath;</div><div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;            va_list vargs;</div><div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;            va_start(vargs, pathCount);</div><div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;            <span class="keywordflow">for</span> (uint32_t pathIndex = 0; pathIndex &lt; pathCount; ++pathIndex) {</div><div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;                <span class="keywordtype">char</span> *path = va_arg(vargs, <span class="keywordtype">char</span> *);</div><div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;                uint32_t pathLen = <a class="code" href="group___strings.html#ga388ca55dd073575074821c146a585e2d">strings::GetAnsiStringLength</a>(path);</div><div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;                <span class="keywordtype">bool</span> requireSeparator = pathIndex &lt; (pathCount - 1);</div><div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;                uint32_t requiredPathLen = requireSeparator ? pathLen + 1 : pathLen;</div><div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;                <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(curDestPosition + requiredPathLen &lt;= maxDestPathLen);</div><div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;                <a class="code" href="group___strings.html#ga4540f0bb0f47aeba1a0900f9f107c188">strings::CopyAnsiString</a>(path, pathLen, currentDestPtr, maxDestPathLen - curDestPosition);</div><div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;                currentDestPtr += pathLen;</div><div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;                <span class="keywordflow">if</span> (requireSeparator) {</div><div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;                    *currentDestPtr++ = platform::PATH_SEPARATOR;</div><div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;                }</div><div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;                curDestPosition += requiredPathLen;</div><div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;            }</div><div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;            *currentDestPtr = 0;</div><div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;            va_end(vargs);</div><div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;            <span class="keywordflow">return</span> destPath;</div><div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;        }</div><div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;</div><div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;    } <span class="comment">// paths</span></div><div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;</div><div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;} <span class="comment">// fpl</span></div><div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;</div><div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;<span class="comment">// ****************************************************************************</span></div><div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;<span class="comment">// WIN32 Platform</span></div><div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;<span class="comment">// ****************************************************************************</span></div><div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;<span class="preprocessor">#if defined(FPL_PLATFORM_WIN32)</span></div><div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;<span class="comment">// @NOTE(final): Unfortunatly we have to include windows header here, because we want the user have access to the opengl header.</span></div><div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;<span class="comment">// @NOTE(final): windef.h defines min/max macros defined in lowerspace, this will break for example std::min/max so we have to tell the header we dont want this!</span></div><div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;<span class="preprocessor">#   if !defined(NOMINMAX)</span></div><div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;<span class="preprocessor">#       define NOMINMAX</span></div><div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;<span class="preprocessor">#   endif</span></div><div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;<span class="comment">// @NOTE(final): For now we dont want any network, com or gdi stuff at all, maybe later how knows.</span></div><div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;<span class="preprocessor">#   if !defined(WIN32_LEAN_AND_MEAN)</span></div><div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;<span class="preprocessor">#       define WIN32_LEAN_AND_MEAN 1</span></div><div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;<span class="preprocessor">#   endif</span></div><div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;<span class="preprocessor">#   include &lt;windows.h&gt;</span>     <span class="comment">// Win32 api</span></div><div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;<span class="preprocessor">#   include &lt;windowsx.h&gt;</span>    <span class="comment">// Macros for window messages</span></div><div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;<span class="preprocessor">#   include &lt;shlobj.h&gt;</span>      <span class="comment">// SHGetFolderPath</span></div><div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;<span class="preprocessor">#   include &lt;intrin.h&gt;</span>      <span class="comment">// Interlock*</span></div><div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;</div><div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;<span class="preprocessor">#   include &lt;xinput.h&gt;</span>      <span class="comment">// XInputGetState</span></div><div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;</div><div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;<span class="preprocessor">#   if defined(FPL_ARCH_X86)</span></div><div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;<span class="preprocessor">#       define FPL_MEMORY_BARRIER() \</span></div><div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;<span class="preprocessor">            LONG barrier; \</span></div><div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;<span class="preprocessor">            _InterlockedOr(&amp;barrier, 0);</span></div><div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;<span class="preprocessor">#   elif defined(FPL_ARCH_X64)</span></div><div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;        <span class="comment">// @NOTE(final): No need for hardware memory fence on X64 because the hardware guarantees memory order always.</span></div><div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;<span class="preprocessor">#       define FPL_MEMORY_BARRIER()</span></div><div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;<span class="preprocessor">#   endif</span></div><div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;</div><div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;    <span class="comment">// @NOTE(final): Little macro to not write 5 lines of code all the time</span></div><div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;<span class="preprocessor">#   define FPL_WIN32_GET_FUNCTION_ADDRESS(libHandle, libName, target, type, name) \</span></div><div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;<span class="preprocessor">    target = (type *)GetProcAddress(libHandle, name); \</span></div><div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;<span class="preprocessor">    if (target == fpl_null) { \</span></div><div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;<span class="preprocessor">        fpl::common::PushError(&quot;[Win32] Failed getting &#39;%s&#39; from library &#39;%s&#39;!&quot;, name, libName); \</span></div><div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;<span class="preprocessor">        return false; \</span></div><div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;<span class="preprocessor">    }</span></div><div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;</div><div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacefpl.html">fpl</a> {</div><div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;    <span class="keyword">namespace </span>platform {</div><div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;        <span class="comment">// XInputGetState</span></div><div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;<span class="preprocessor">#       define FPL_XINPUT_GET_STATE(name) DWORD WINAPI name(DWORD dwUserIndex, XINPUT_STATE *pState)</span></div><div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;        <span class="keyword">typedef</span> FPL_XINPUT_GET_STATE(win32_func_XInputGetState);</div><div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;        FPL_XINPUT_GET_STATE(Win32XInputGetStateStub) {</div><div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;            <span class="keywordflow">return</span>(ERROR_DEVICE_NOT_CONNECTED);</div><div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;        }</div><div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;</div><div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;        <span class="keyword">struct </span>Win32InputFunctions {</div><div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;            <span class="keyword">struct </span>{</div><div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;                HMODULE xinputLibrary;</div><div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;                win32_func_XInputGetState *xInputSetState = Win32XInputGetStateStub;</div><div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;            } xinput;</div><div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;        };</div><div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a15247947df186e1a456e037388e619a7">fpl_globalvar</a> Win32InputFunctions global__Win32__Input__Functions = {};</div><div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;</div><div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;        <span class="comment">// WGL and Extensions</span></div><div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;<span class="preprocessor">#       define FPL_GL_CONTEXT_FLAG_FORWARD_COMPATIBLE_BIT 0x0001</span></div><div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;<span class="preprocessor">#       define FPL_GL_CONTEXT_FLAG_DEBUG_BIT 0x00000002</span></div><div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;<span class="preprocessor">#       define FPL_GL_CONTEXT_FLAG_ROBUST_ACCESS_BIT 0x00000004</span></div><div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;<span class="preprocessor">#       define FPL_GL_CONTEXT_FLAG_NO_ERROR_BIT 0x00000008</span></div><div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;<span class="preprocessor">#       define FPL_GL_CONTEXT_CORE_PROFILE_BIT 0x00000001</span></div><div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;<span class="preprocessor">#       define FPL_GL_CONTEXT_COMPATIBILITY_PROFILE_BIT 0x00000002</span></div><div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;</div><div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;<span class="preprocessor">#       define FPL_WGL_CONTEXT_DEBUG_BIT_ARB 0x0001</span></div><div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;<span class="preprocessor">#       define FPL_WGL_CONTEXT_FORWARD_COMPATIBLE_BIT_ARB 0x0002</span></div><div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;<span class="preprocessor">#       define FPL_WGL_CONTEXT_CORE_PROFILE_BIT_ARB 0x00000001</span></div><div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;<span class="preprocessor">#       define FPL_WGL_CONTEXT_COMPATIBILITY_PROFILE_BIT_ARB 0x00000002</span></div><div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;<span class="preprocessor">#       define FPL_WGL_CONTEXT_PROFILE_MASK_ARB 0x9126</span></div><div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;<span class="preprocessor">#       define FPL_WGL_CONTEXT_MAJOR_VERSION_ARB 0x2091</span></div><div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;<span class="preprocessor">#       define FPL_WGL_CONTEXT_MINOR_VERSION_ARB 0x2092</span></div><div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;<span class="preprocessor">#       define FPL_WGL_CONTEXT_LAYER_PLANE_ARB 0x2093</span></div><div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;<span class="preprocessor">#       define FPL_WGL_CONTEXT_FLAGS_ARB 0x2094</span></div><div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;</div><div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;<span class="preprocessor">#       define FPL_WGL_DRAW_TO_WINDOW_ARB 0x2001</span></div><div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;<span class="preprocessor">#       define FPL_WGL_ACCELERATION_ARB 0x2003</span></div><div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;<span class="preprocessor">#       define FPL_WGL_SWAP_METHOD_ARB 0x2007</span></div><div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;<span class="preprocessor">#       define FPL_WGL_SUPPORT_OPENGL_ARB 0x2010</span></div><div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;<span class="preprocessor">#       define FPL_WGL_DOUBLE_BUFFER_ARB 0x2011</span></div><div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;<span class="preprocessor">#       define FPL_WGL_PIXEL_TYPE_ARB 0x2013</span></div><div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;<span class="preprocessor">#       define FPL_WGL_COLOR_BITS_ARB 0x2014</span></div><div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;<span class="preprocessor">#       define FPL_WGL_DEPTH_BITS_ARB 0x2022</span></div><div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;<span class="preprocessor">#       define FPL_WGL_STENCIL_BITS_ARB 0x2023</span></div><div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;<span class="preprocessor">#       define FPL_WGL_FULL_ACCELERATION_ARB 0x2027</span></div><div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;<span class="preprocessor">#       define FPL_WGL_SWAP_EXCHANGE_ARB 0x2028</span></div><div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;<span class="preprocessor">#       define FPL_WGL_TYPE_RGBA_ARB 0x202B</span></div><div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;</div><div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;<span class="preprocessor">#       define FPL_FUNC_WGL_MAKE_CURRENT(name) BOOL WINAPI name(HDC deviceContext, HGLRC renderingContext)</span></div><div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_WGL_MAKE_CURRENT(win32_func_wglMakeCurrent);</div><div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;<span class="preprocessor">#       define FPL_FUNC_WGL_GET_PROC_ADDRESS(name) PROC WINAPI name(LPCSTR procedure)</span></div><div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_WGL_GET_PROC_ADDRESS(win32_func_wglGetProcAddress);</div><div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;<span class="preprocessor">#       define FPL_FUNC_WGL_DELETE_CONTEXT(name) BOOL WINAPI name(HGLRC renderingContext)</span></div><div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_WGL_DELETE_CONTEXT(win32_func_wglDeleteContext);</div><div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;<span class="preprocessor">#       define FPL_FUNC_WGL_CREATE_CONTEXT(name) HGLRC WINAPI name(HDC deviceContext)</span></div><div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_WGL_CREATE_CONTEXT(win32_func_wglCreateContext);</div><div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;</div><div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;<span class="preprocessor">#       define FPL_FUNC_WGL_CHOOSE_PIXEL_FORMAT_ARB(name) BOOL WINAPI name(HDC hdc, const int *piAttribIList, const FLOAT *pfAttribFList, UINT nMaxFormats, int *piFormats, UINT *nNumFormats)</span></div><div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_WGL_CHOOSE_PIXEL_FORMAT_ARB(win32_func_wglChoosePixelFormatARB);</div><div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;<span class="preprocessor">#       define FPL_FUNC_WGL_CREATE_CONTEXT_ATTRIBS_ARB(name) HGLRC WINAPI name(HDC hDC, HGLRC hShareContext, const int *attribList)</span></div><div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_WGL_CREATE_CONTEXT_ATTRIBS_ARB(win32_func_wglCreateContextAttribsARB);</div><div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;<span class="preprocessor">#       define FPL_FUNC_WGL_SWAP_INTERVAL_EXT(name) BOOL WINAPI name(int interval)</span></div><div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_WGL_SWAP_INTERVAL_EXT(win32_func_wglSwapIntervalEXT);</div><div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;</div><div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;        <span class="keyword">struct </span>Win32OpenGLFunctions {</div><div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;            HMODULE openglLibrary;</div><div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;            win32_func_wglMakeCurrent *wglMakeCurrent;</div><div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;            win32_func_wglGetProcAddress *wglGetProcAddress;</div><div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;            win32_func_wglDeleteContext *wglDeleteContext;</div><div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;            win32_func_wglCreateContext *wglCreateContext;</div><div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;            win32_func_wglChoosePixelFormatARB *wglChoosePixelFormatArb;</div><div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;            win32_func_wglCreateContextAttribsARB *wglCreateContextAttribsArb;</div><div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;            win32_func_wglSwapIntervalEXT *wglSwapIntervalExt;</div><div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;        };</div><div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a15247947df186e1a456e037388e619a7">fpl_globalvar</a> Win32OpenGLFunctions global__Win32__OpenGL_Functions = {};</div><div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;</div><div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;        <span class="comment">// WINAPI functions</span></div><div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;</div><div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;        <span class="comment">// GDI32</span></div><div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;<span class="preprocessor">#       define FPL_FUNC_CHOOSE_PIXEL_FORMAT(name) int WINAPI name(HDC hdc, CONST PIXELFORMATDESCRIPTOR *ppfd)</span></div><div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_CHOOSE_PIXEL_FORMAT(win32_func_ChoosePixelFormat);</div><div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;<span class="preprocessor">#       define FPL_FUNC_SET_PIXEL_FORMAT(name) BOOL WINAPI name(HDC hdc, int format, CONST PIXELFORMATDESCRIPTOR *ppfd)</span></div><div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_SET_PIXEL_FORMAT(win32_func_SetPixelFormat);</div><div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;<span class="preprocessor">#       define FPL_FUNC_DESCRIPE_PIXEL_FORMAT(name) int WINAPI name(HDC hdc, int iPixelFormat, UINT nBytes, LPPIXELFORMATDESCRIPTOR ppfd)</span></div><div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_DESCRIPE_PIXEL_FORMAT(win32_func_DescribePixelFormat);</div><div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;<span class="preprocessor">#       define FPL_FUNC_GET_DEVICE_CAPS(name) int WINAPI name(HDC hdc, int index)</span></div><div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_GET_DEVICE_CAPS(win32_func_GetDeviceCaps);</div><div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;<span class="preprocessor">#       define FPL_FUNC_STRETCH_DIBITS(name) int WINAPI name(HDC hdc, int xDest, int yDest, int DestWidth, int DestHeight, int xSrc, int ySrc, int SrcWidth, int SrcHeight, CONST VOID *lpBits, CONST BITMAPINFO *lpbmi, UINT iUsage, DWORD rop)</span></div><div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_STRETCH_DIBITS(win32_func_StretchDIBits);</div><div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;<span class="preprocessor">#       define FPL_FUNC_DELETE_OBJECT(name) BOOL WINAPI name( _In_ HGDIOBJ ho)</span></div><div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_DELETE_OBJECT(win32_func_DeleteObject);</div><div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;<span class="preprocessor">#       define FPL_FUNC_SWAP_BUFFERS(name) BOOL WINAPI name(HDC)</span></div><div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_SWAP_BUFFERS(win32_func_SwapBuffers);</div><div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;</div><div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;        <span class="comment">// ShellAPI</span></div><div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;<span class="preprocessor">#       define FPL_FUNC_COMMAND_LINE_TO_ARGV_W(name) LPWSTR* WINAPI name(LPCWSTR lpCmdLine, int *pNumArgs)</span></div><div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_COMMAND_LINE_TO_ARGV_W(win32_func_CommandLineToArgvW);</div><div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;<span class="preprocessor">#       define FPL_FUNC_SH_GET_FOLDER_PATH_A(name) HRESULT WINAPI name(HWND hwnd, int csidl, HANDLE hToken, DWORD dwFlags, LPSTR pszPath)</span></div><div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_SH_GET_FOLDER_PATH_A(win32_func_SHGetFolderPathA);</div><div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;<span class="preprocessor">#       define FPL_FUNC_SH_GET_FOLDER_PATH_W(name) HRESULT WINAPI name(HWND hwnd, int csidl, HANDLE hToken, DWORD dwFlags, LPWSTR pszPath)</span></div><div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_SH_GET_FOLDER_PATH_W(win32_func_SHGetFolderPathW);</div><div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;</div><div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;        <span class="comment">// User32</span></div><div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;<span class="preprocessor">#       define FPL_FUNC_REGISTER_CLASS_EX_A(name) ATOM WINAPI name(CONST WNDCLASSEXA *)</span></div><div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_REGISTER_CLASS_EX_A(win32_func_RegisterClassExA);</div><div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;<span class="preprocessor">#       define FPL_FUNC_REGISTER_CLASS_EX_W(name) ATOM WINAPI name(CONST WNDCLASSEXW *)</span></div><div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_REGISTER_CLASS_EX_W(win32_func_RegisterClassExW);</div><div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;<span class="preprocessor">#       define FPL_FUNC_UNREGISTER_CLASS_EX_A(name) BOOL WINAPI name(LPCSTR lpClassName, HINSTANCE hInstance)</span></div><div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_UNREGISTER_CLASS_EX_A(win32_func_UnregisterClassA);</div><div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;<span class="preprocessor">#       define FPL_FUNC_UNREGISTER_CLASS_EX_W(name) BOOL WINAPI name(LPCWSTR lpClassName, HINSTANCE hInstance)</span></div><div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_UNREGISTER_CLASS_EX_W(win32_func_UnregisterClassW);</div><div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;<span class="preprocessor">#       define FPL_FUNC_SHOW_WINDOW(name) BOOL WINAPI name(HWND hWnd, int nCmdShow)</span></div><div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_SHOW_WINDOW(win32_func_ShowWindow);</div><div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;<span class="preprocessor">#       define FPL_FUNC_DESTROY_WINDOW(name) BOOL WINAPI name(HWND hWnd)</span></div><div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_DESTROY_WINDOW(win32_func_DestroyWindow);</div><div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;<span class="preprocessor">#       define FPL_FUNC_UPDATE_WINDOW(name) BOOL WINAPI name(HWND hWnd)</span></div><div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_UPDATE_WINDOW(win32_func_UpdateWindow);</div><div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;<span class="preprocessor">#       define FPL_FUNC_TRANSLATE_MESSAGE(name) BOOL WINAPI name(CONST MSG *lpMsg)</span></div><div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_TRANSLATE_MESSAGE(win32_func_TranslateMessage);</div><div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;<span class="preprocessor">#       define FPL_FUNC_DISPATCH_MESSAGE_A(name) LRESULT WINAPI name(CONST MSG *lpMsg)</span></div><div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_DISPATCH_MESSAGE_A(win32_func_DispatchMessageA);</div><div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;<span class="preprocessor">#       define FPL_FUNC_DISPATCH_MESSAGE_W(name) LRESULT WINAPI name(CONST MSG *lpMsg)</span></div><div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_DISPATCH_MESSAGE_W(win32_func_DispatchMessageW);</div><div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;<span class="preprocessor">#       define FPL_FUNC_PEEK_MESSAGE_A(name) BOOL WINAPI name(LPMSG lpMsg, HWND hWnd, UINT wMsgFilterMin, UINT wMsgFilterMax, UINT wRemoveMsg)</span></div><div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_PEEK_MESSAGE_A(win32_func_PeekMessageA);</div><div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;<span class="preprocessor">#       define FPL_FUNC_PEEK_MESSAGE_W(name) BOOL WINAPI name(LPMSG lpMsg, HWND hWnd, UINT wMsgFilterMin, UINT wMsgFilterMax, UINT wRemoveMsg)</span></div><div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_PEEK_MESSAGE_W(win32_func_PeekMessageW);</div><div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;<span class="preprocessor">#       define FPL_FUNC_DEF_WINDOW_PROC_A(name) LRESULT WINAPI name(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam)</span></div><div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_DEF_WINDOW_PROC_A(win32_func_DefWindowProcA);</div><div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;<span class="preprocessor">#       define FPL_FUNC_DEF_WINDOW_PROC_W(name) LRESULT WINAPI name(HWND hWnd, UINT Msg, WPARAM wParam, LPARAM lParam)</span></div><div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_DEF_WINDOW_PROC_W(win32_func_DefWindowProcW);</div><div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;<span class="preprocessor">#       define FPL_FUNC_CREATE_WINDOW_EX_W(name) HWND WINAPI name(DWORD dwExStyle, LPCWSTR lpClassName, LPCWSTR lpWindowName, DWORD dwStyle, int X, int Y, int nWidth, int nHeight, HWND hWndParent, HMENU hMenu, HINSTANCE hInstance, LPVOID lpParam)</span></div><div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_CREATE_WINDOW_EX_W(win32_func_CreateWindowExW);</div><div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;<span class="preprocessor">#       define FPL_FUNC_CREATE_WINDOW_EX_A(name) HWND WINAPI name(DWORD dwExStyle, LPCSTR lpClassName, PCSTR lpWindowName, DWORD dwStyle, int X, int Y, int nWidth, int nHeight, HWND hWndParent, HMENU hMenu, HINSTANCE hInstance, LPVOID lpParam)</span></div><div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_CREATE_WINDOW_EX_A(win32_func_CreateWindowExA);</div><div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;<span class="preprocessor">#       define FPL_FUNC_SET_WINDOW_POS(name) BOOL WINAPI name(HWND hWnd, HWND hWndInsertAfter, int X, int Y, int cx, int cy, UINT uFlags)</span></div><div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_SET_WINDOW_POS(win32_func_SetWindowPos);</div><div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;<span class="preprocessor">#       define FPL_FUNC_GET_WINDOW_PLACEMENT(name) BOOL WINAPI name(HWND hWnd, WINDOWPLACEMENT *lpwndpl)</span></div><div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_GET_WINDOW_PLACEMENT(win32_func_GetWindowPlacement);</div><div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;<span class="preprocessor">#       define FPL_FUNC_SET_WINDOW_PLACEMENT(name) BOOL WINAPI name(HWND hWnd, CONST WINDOWPLACEMENT *lpwndpl)</span></div><div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_SET_WINDOW_PLACEMENT(win32_func_SetWindowPlacement);</div><div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;<span class="preprocessor">#       define FPL_FUNC_GET_CLIENT_RECT(name) BOOL WINAPI name(HWND hWnd, LPRECT lpRect)</span></div><div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_GET_CLIENT_RECT(win32_func_GetClientRect);</div><div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;<span class="preprocessor">#       define FPL_FUNC_GET_WINDOW_RECT(name) BOOL WINAPI name(HWND hWnd, LPRECT lpRect)</span></div><div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_GET_WINDOW_RECT(win32_func_GetWindowRect);</div><div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;<span class="preprocessor">#       define FPL_FUNC_ADJUST_WINDOW_RECT(name) BOOL WINAPI name(LPRECT lpRect, DWORD dwStyle, BOOL bMenu)</span></div><div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_ADJUST_WINDOW_RECT(win32_func_AdjustWindowRect);</div><div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;<span class="preprocessor">#       define FPL_FUNC_GET_ASYNC_KEY_STATE(name) SHORT WINAPI name(int vKey)</span></div><div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_GET_ASYNC_KEY_STATE(win32_func_GetAsyncKeyState);</div><div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;<span class="preprocessor">#       define FPL_FUNC_MAP_VIRTUAL_KEY_A(name) UINT WINAPI name(UINT uCode, UINT uMapType)</span></div><div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_MAP_VIRTUAL_KEY_A(win32_func_MapVirtualKeyA);</div><div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;<span class="preprocessor">#       define FPL_FUNC_MAP_VIRTUAL_KEY_W(name) UINT WINAPI name(UINT uCode, UINT uMapType)</span></div><div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_MAP_VIRTUAL_KEY_W(win32_func_MapVirtualKeyW);</div><div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;<span class="preprocessor">#       define FPL_FUNC_SET_CURSOR(name) HCURSOR WINAPI name(HCURSOR hCursor)</span></div><div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_SET_CURSOR(win32_func_SetCursor);</div><div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;<span class="preprocessor">#       define FPL_FUNC_GET_CURSOR(name) HCURSOR WINAPI name(VOID)</span></div><div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_GET_CURSOR(win32_func_GetCursor);</div><div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;<span class="preprocessor">#       define FPL_FUNC_LOAD_CURSOR_A(name) HCURSOR WINAPI name(HINSTANCE hInstance, LPCSTR lpCursorName)</span></div><div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_LOAD_CURSOR_A(win32_func_LoadCursorA);</div><div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;<span class="preprocessor">#       define FPL_FUNC_LOAD_CURSOR_W(name) HCURSOR WINAPI name(HINSTANCE hInstance, LPCWSTR lpCursorName)</span></div><div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_LOAD_CURSOR_W(win32_func_LoadCursorW);</div><div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;<span class="preprocessor">#       define FPL_FUNC_LOAD_ICON_A(name) HICON WINAPI name(HINSTANCE hInstance, LPCSTR lpIconName)</span></div><div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_LOAD_ICON_A(win32_func_LoadIconA);</div><div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;<span class="preprocessor">#       define FPL_FUNC_LOAD_ICON_W(name) HICON WINAPI name(HINSTANCE hInstance, LPCWSTR lpIconName)</span></div><div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_LOAD_ICON_W(win32_func_LoadIconW);</div><div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;<span class="preprocessor">#       define FPL_FUNC_SET_WINDOW_TEXT_A(name) BOOL WINAPI name(HWND hWnd, LPCSTR lpString)</span></div><div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_SET_WINDOW_TEXT_A(win32_func_SetWindowTextA);</div><div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;<span class="preprocessor">#       define FPL_FUNC_SET_WINDOW_TEXT_W(name) BOOL WINAPI name(HWND hWnd, LPCWSTR lpString)</span></div><div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_SET_WINDOW_TEXT_W(win32_func_SetWindowTextW);</div><div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;<span class="preprocessor">#       define FPL_FUNC_SET_WINDOW_LONG_A(name) LONG WINAPI name(HWND hWnd, int nIndex, LONG dwNewLong)</span></div><div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_SET_WINDOW_LONG_A(win32_func_SetWindowLongA);</div><div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;<span class="preprocessor">#       define FPL_FUNC_SET_WINDOW_LONG_W(name) LONG WINAPI name(HWND hWnd, int nIndex, LONG dwNewLong)</span></div><div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_SET_WINDOW_LONG_W(win32_func_SetWindowLongW);</div><div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;<span class="preprocessor">#       define FPL_FUNC_GET_WINDOW_LONG_A(name) LONG WINAPI name(HWND hWnd, int nIndex)</span></div><div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_GET_WINDOW_LONG_A(win32_func_GetWindowLongA);</div><div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;<span class="preprocessor">#       define FPL_FUNC_GET_WINDOW_LONG_W(name) LONG WINAPI name(HWND hWnd, int nIndex)</span></div><div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_GET_WINDOW_LONG_W(win32_func_GetWindowLongW);</div><div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;</div><div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;<span class="preprocessor">#   if defined(FPL_ARCH_X64)</span></div><div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;<span class="preprocessor">#       define FPL_FUNC_SET_WINDOW_LONG_PTR_A(name) LONG_PTR WINAPI name(HWND hWnd, int nIndex, LONG_PTR dwNewLong)</span></div><div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_SET_WINDOW_LONG_PTR_A(win32_func_SetWindowLongPtrA);</div><div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;<span class="preprocessor">#       define FPL_FUNC_SET_WINDOW_LONG_PTR_W(name) LONG_PTR WINAPI name(HWND hWnd, int nIndex, LONG_PTR dwNewLong)</span></div><div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_SET_WINDOW_LONG_PTR_W(win32_func_SetWindowLongPtrW);</div><div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;<span class="preprocessor">#       define FPL_FUNC_GET_WINDOW_LONG_PTR_A(name) LONG_PTR WINAPI name(HWND hWnd, int nIndex)</span></div><div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_GET_WINDOW_LONG_PTR_A(win32_func_GetWindowLongPtrA);</div><div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;<span class="preprocessor">#       define FPL_FUNC_GET_WINDOW_LONG_PTR_W(name) LONG_PTR WINAPI name(HWND hWnd, int nIndex)</span></div><div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_GET_WINDOW_LONG_PTR_W(win32_func_GetWindowLongPtrW);</div><div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;<span class="preprocessor">#   endif</span></div><div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;</div><div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;<span class="preprocessor">#       define FPL_FUNC_RELEASE_DC(name) int WINAPI name(HWND hWnd, HDC hDC)</span></div><div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_RELEASE_DC(win32_func_ReleaseDC);</div><div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;<span class="preprocessor">#       define FPL_FUNC_GET_DC(name) HDC WINAPI name(HWND hWnd)</span></div><div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_GET_DC(win32_func_GetDC);</div><div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;<span class="preprocessor">#       define FPL_FUNC_CHANGE_DISPLAY_SETTINGS_A(name) LONG WINAPI name(DEVMODEA* lpDevMode, DWORD dwFlags)</span></div><div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_CHANGE_DISPLAY_SETTINGS_A(win32_func_ChangeDisplaySettingsA);</div><div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;<span class="preprocessor">#       define FPL_FUNC_CHANGE_DISPLAY_SETTINGS_W(name) LONG WINAPI name(DEVMODEW* lpDevMode, DWORD dwFlags)</span></div><div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_CHANGE_DISPLAY_SETTINGS_W(win32_func_ChangeDisplaySettingsW);</div><div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;<span class="preprocessor">#       define FPL_FUNC_ENUM_DISPLAY_SETTINGS_A(name) BOOL WINAPI name(LPCSTR lpszDeviceName, DWORD iModeNum, DEVMODEA* lpDevMode)</span></div><div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_ENUM_DISPLAY_SETTINGS_A(win32_func_EnumDisplaySettingsA);</div><div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;<span class="preprocessor">#       define FPL_FUNC_ENUM_DISPLAY_SETTINGS_W(name) BOOL WINAPI name(LPCWSTR lpszDeviceName, DWORD iModeNum, DEVMODEW* lpDevMode)</span></div><div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_ENUM_DISPLAY_SETTINGS_W(win32_func_EnumDisplaySettingsW);</div><div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;</div><div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;<span class="preprocessor">#       define FPL_FUNC_OPEN_CLIPBOARD(name) BOOL WINAPI name(HWND hWndNewOwner)</span></div><div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_OPEN_CLIPBOARD(win32_func_OpenClipboard);</div><div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;<span class="preprocessor">#       define FPL_FUNC_CLOSE_CLIPBOARD(name) BOOL WINAPI name(VOID)</span></div><div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_CLOSE_CLIPBOARD(win32_func_CloseClipboard);</div><div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;<span class="preprocessor">#       define FPL_FUNC_EMPTY_CLIPBOARD(name) BOOL WINAPI name(VOID)</span></div><div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_EMPTY_CLIPBOARD(win32_func_EmptyClipboard);</div><div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;<span class="preprocessor">#       define FPL_FUNC_IS_CLIPBOARD_FORMAT_AVAILABLE(name) BOOL WINAPI name(UINT format)</span></div><div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_IS_CLIPBOARD_FORMAT_AVAILABLE(win32_func_IsClipboardFormatAvailable);</div><div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;<span class="preprocessor">#       define FPL_FUNC_SET_CLIPBOARD_DATA(name) HANDLE WINAPI name(UINT uFormat, HANDLE hMem)</span></div><div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_SET_CLIPBOARD_DATA(win32_func_SetClipboardData);</div><div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;<span class="preprocessor">#       define FPL_FUNC_GET_CLIPBOARD_DATA(name) HANDLE WINAPI name(UINT uFormat)</span></div><div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_GET_CLIPBOARD_DATA(win32_func_GetClipboardData);</div><div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;</div><div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;<span class="preprocessor">#       define FPL_FUNC_GET_DESKTOP_WINDOW(name) HWND WINAPI name(VOID)</span></div><div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_GET_DESKTOP_WINDOW(win32_func_GetDesktopWindow);</div><div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;<span class="preprocessor">#       define FPL_FUNC_GET_FOREGROUND_WINDOW(name) HWND WINAPI name(VOID)</span></div><div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_GET_FOREGROUND_WINDOW(win32_func_GetForegroundWindow);</div><div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;</div><div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;<span class="comment">// OLE32</span></div><div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;<span class="preprocessor">#       define FPL_FUNC_WIN32_CO_INITIALIZE_EX(name) HRESULT WINAPI name(LPVOID pvReserved, DWORD  dwCoInit)</span></div><div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_WIN32_CO_INITIALIZE_EX(win32_func_CoInitializeEx);</div><div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;<span class="preprocessor">#       define FPL_FUNC_WIN32_CO_UNINITIALIZE(name) void WINAPI name(void)</span></div><div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_WIN32_CO_UNINITIALIZE(win32_func_CoUninitialize);</div><div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;<span class="preprocessor">#       define FPL_FUNC_WIN32_CO_CREATE_INSTANCE(name) HRESULT WINAPI name(REFCLSID rclsid, LPUNKNOWN pUnkOuter, DWORD dwClsContext, REFIID riid, LPVOID *ppv)</span></div><div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_WIN32_CO_CREATE_INSTANCE(win32_func_CoCreateInstance);</div><div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;<span class="preprocessor">#       define FPL_FUNC_WIN32_CO_TASK_MEM_FREE(name) void WINAPI name(LPVOID pv)</span></div><div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_WIN32_CO_TASK_MEM_FREE(win32_func_CoTaskMemFree);</div><div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;<span class="preprocessor">#       define FPL_FUNC_WIN32_PROP_VARIANT_CLEAR(name) HRESULT WINAPI name(PROPVARIANT *pvar)</span></div><div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_WIN32_PROP_VARIANT_CLEAR(win32_func_PropVariantClear);</div><div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;</div><div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;        <span class="keyword">struct </span>Win32APIFunctions {</div><div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;            <span class="keyword">struct </span>{</div><div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;                HMODULE gdiLibrary;</div><div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;                win32_func_ChoosePixelFormat *choosePixelFormat;</div><div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;                win32_func_SetPixelFormat *setPixelFormat;</div><div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;                win32_func_DescribePixelFormat *describePixelFormat;</div><div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;                win32_func_GetDeviceCaps *getDeviceCaps;</div><div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;                win32_func_StretchDIBits *stretchDIBits;</div><div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;                win32_func_DeleteObject *deleteObject;</div><div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;                win32_func_SwapBuffers *swapBuffers;</div><div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;            } gdi;</div><div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;</div><div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;            <span class="keyword">struct </span>{</div><div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;                HMODULE shellLibrary;</div><div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;                win32_func_CommandLineToArgvW *commandLineToArgvW;</div><div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;                win32_func_SHGetFolderPathA *shGetFolderPathA;</div><div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;                win32_func_SHGetFolderPathW *shGetFolderPathW;</div><div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;            } shell;</div><div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;</div><div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;            <span class="keyword">struct </span>{</div><div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;                HMODULE userLibrary;</div><div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;                win32_func_RegisterClassExA *registerClassExA;</div><div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;                win32_func_RegisterClassExW *registerClassExW;</div><div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;                win32_func_UnregisterClassA *unregisterClassA;</div><div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;                win32_func_UnregisterClassW *unregisterClassW;</div><div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;                win32_func_ShowWindow *showWindow;</div><div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;                win32_func_DestroyWindow *destroyWindow;</div><div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;                win32_func_UpdateWindow *updateWindow;</div><div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;                win32_func_TranslateMessage *translateMessage;</div><div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;                win32_func_DispatchMessageA *dispatchMessageA;</div><div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;                win32_func_DispatchMessageW *dispatchMessageW;</div><div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;                win32_func_PeekMessageA *peekMessageA;</div><div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;                win32_func_PeekMessageW *peekMessageW;</div><div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;                win32_func_DefWindowProcA *defWindowProcA;</div><div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;                win32_func_DefWindowProcW *defWindowProcW;</div><div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;                win32_func_CreateWindowExA *createWindowExA;</div><div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;                win32_func_CreateWindowExW *createWindowExW;</div><div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;                win32_func_SetWindowPos *setWindowPos;</div><div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;                win32_func_GetWindowPlacement *getWindowPlacement;</div><div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;                win32_func_SetWindowPlacement *setWindowPlacement;</div><div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;                win32_func_GetClientRect *getClientRect;</div><div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;                win32_func_GetWindowRect *getWindowRect;</div><div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;                win32_func_AdjustWindowRect *adjustWindowRect;</div><div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;                win32_func_GetAsyncKeyState *getAsyncKeyState;</div><div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;                win32_func_MapVirtualKeyA *mapVirtualKeyA;</div><div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;                win32_func_MapVirtualKeyW *mapVirtualKeyW;</div><div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;                win32_func_SetCursor *setCursor;</div><div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;                win32_func_GetCursor *getCursor;</div><div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;                win32_func_LoadCursorA *loadCursorA;</div><div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;                win32_func_LoadCursorW *loadCursorW;</div><div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;                win32_func_LoadIconA *loadIconA;</div><div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;                win32_func_LoadIconW *loadIconW;</div><div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;                win32_func_SetWindowTextA *setWindowTextA;</div><div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;                win32_func_SetWindowTextW *setWindowTextW;</div><div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;                win32_func_SetWindowLongA *setWindowLongA;</div><div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;                win32_func_SetWindowLongW *setWindowLongW;</div><div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;                win32_func_GetWindowLongA *getWindowLongA;</div><div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;                win32_func_GetWindowLongW *getWindowLongW;</div><div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;<span class="preprocessor">#           if defined(FPL_ARCH_X64)</span></div><div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;                win32_func_SetWindowLongPtrA *setWindowLongPtrA;</div><div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;                win32_func_SetWindowLongPtrW *setWindowLongPtrW;</div><div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;                win32_func_GetWindowLongPtrA *getWindowLongPtrA;</div><div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;                win32_func_GetWindowLongPtrW *getWindowLongPtrW;</div><div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;<span class="preprocessor">#           endif</span></div><div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;                win32_func_ReleaseDC *releaseDC;</div><div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;                win32_func_GetDC *getDC;</div><div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;                win32_func_ChangeDisplaySettingsA *changeDisplaySettingsA;</div><div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;                win32_func_ChangeDisplaySettingsW *changeDisplaySettingsW;</div><div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;                win32_func_EnumDisplaySettingsA *enumDisplaySettingsA;</div><div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;                win32_func_EnumDisplaySettingsW *enumDisplaySettingsW;</div><div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;</div><div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;                win32_func_OpenClipboard *openClipboard;</div><div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;                win32_func_CloseClipboard *closeClipboard;</div><div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;                win32_func_EmptyClipboard *emptyClipboard;</div><div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;                win32_func_IsClipboardFormatAvailable *isClipboardFormatAvailable;</div><div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;                win32_func_SetClipboardData *setClipboardData;</div><div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;                win32_func_GetClipboardData *getClipboardData;</div><div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;</div><div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;                win32_func_GetDesktopWindow *getDesktopWindow;</div><div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;                win32_func_GetForegroundWindow *getForegroundWindow;</div><div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;            } user;</div><div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;</div><div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;            <span class="keyword">struct </span>{</div><div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;                HMODULE oleLibrary;</div><div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;                win32_func_CoInitializeEx *coInitializeEx;</div><div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;                win32_func_CoUninitialize *coUninitialize;</div><div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;                win32_func_CoCreateInstance *coCreateInstance;</div><div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;                win32_func_CoTaskMemFree *coTaskMemFree;</div><div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;                win32_func_PropVariantClear *propVariantClear;</div><div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;            } ole;</div><div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;        };</div><div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a15247947df186e1a456e037388e619a7">fpl_globalvar</a> Win32APIFunctions global__Win32__API__Functions = {};</div><div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;</div><div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;        <span class="comment">// Unicode dependent function calls and types</span></div><div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;<span class="preprocessor">#   if !defined(UNICODE)</span></div><div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;<span class="preprocessor">#       define FPL_WIN32_CLASSNAME &quot;FPLWindowClassA&quot;</span></div><div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;<span class="preprocessor">#       define FPL_WIN32_UNNAMED_WINDOW &quot;Unnamed FPL Ansi Window&quot;</span></div><div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;        <span class="keyword">typedef</span> <span class="keywordtype">char</span> win32_char;</div><div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;<span class="preprocessor">#       define win32_copyString strings::CopyAnsiString</span></div><div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;<span class="preprocessor">#       define win32_getStringLength strings::GetAnsiStringLength</span></div><div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;<span class="preprocessor">#       define win32_ansiToString strings::CopyAnsiString</span></div><div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;<span class="preprocessor">#       define win32_wndclassex WNDCLASSEXA</span></div><div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;<span class="preprocessor">#       if defined(FPL_ARCH_X64)</span></div><div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;<span class="preprocessor">#           define win32_setWindowLongPtr global__Win32__API__Functions.user.setWindowLongPtrA</span></div><div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;<span class="preprocessor">#       else</span></div><div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;<span class="preprocessor">#           define win32_setWindowLongPtr global__Win32__API__Functions.user.setWindowLongA</span></div><div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;<span class="preprocessor">#       endif</span></div><div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;<span class="preprocessor">#       define win32_setWindowLong global__Win32__API__Functions.user.setWindowLongA</span></div><div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;<span class="preprocessor">#       define win32_getWindowLong global__Win32__API__Functions.user.getWindowLongA</span></div><div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;<span class="preprocessor">#       define win32_peekMessage global__Win32__API__Functions.user.peekMessageA</span></div><div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;<span class="preprocessor">#       define win32_dispatchMessage global__Win32__API__Functions.user.dispatchMessageA</span></div><div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;<span class="preprocessor">#       define win32_defWindowProc global__Win32__API__Functions.user.defWindowProcA</span></div><div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;<span class="preprocessor">#       define win32_registerClassEx global__Win32__API__Functions.user.registerClassExA</span></div><div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;<span class="preprocessor">#       define win32_unregisterClass global__Win32__API__Functions.user.unregisterClassA</span></div><div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;<span class="preprocessor">#       define win32_createWindowEx global__Win32__API__Functions.user.createWindowExA</span></div><div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;<span class="preprocessor">#       define win32_loadIcon global__Win32__API__Functions.user.loadIconA</span></div><div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;<span class="preprocessor">#       define win32_loadCursor global__Win32__API__Functions.user.loadCursorA</span></div><div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;<span class="preprocessor">#   else</span></div><div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;<span class="preprocessor">#       define FPL_WIN32_CLASSNAME L&quot;FPLWindowClassW&quot;</span></div><div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;<span class="preprocessor">#       define FPL_WIN32_UNNAMED_WINDOW L&quot;Unnamed FPL Unicode Window&quot;</span></div><div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;        <span class="keyword">typedef</span> <span class="keywordtype">wchar_t</span> win32_char;</div><div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;<span class="preprocessor">#       define win32_copyString strings::CopyWideString</span></div><div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;<span class="preprocessor">#       define win32_getStringLength strings::GetWideStringLength</span></div><div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;<span class="preprocessor">#       define win32_ansiToString strings::AnsiStringToWideString</span></div><div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;<span class="preprocessor">#       define win32_wndclassex WNDCLASSEXW</span></div><div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;<span class="preprocessor">#       if defined(FPL_ARCH_X64)</span></div><div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;<span class="preprocessor">#           define win32_setWindowLongPtr global__Win32__API__Functions.user.setWindowLongPtrW</span></div><div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;<span class="preprocessor">#       else</span></div><div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;<span class="preprocessor">#           define win32_setWindowLongPtr global__Win32__API__Functions.user.setWindowLongW</span></div><div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;<span class="preprocessor">#       endif</span></div><div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;<span class="preprocessor">#       define win32_setWindowLong global__Win32__API__Functions.user.setWindowLongW</span></div><div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;<span class="preprocessor">#       define win32_getWindowLong global__Win32__API__Functions.user.getWindowLongW</span></div><div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;<span class="preprocessor">#       define win32_peekMessage global__Win32__API__Functions.user.peekMessageW</span></div><div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;<span class="preprocessor">#       define win32_dispatchMessage global__Win32__API__Functions.user.dispatchMessageW</span></div><div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;<span class="preprocessor">#       define win32_defWindowProc global__Win32__API__Functions.user.defWindowProcW</span></div><div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;<span class="preprocessor">#       define win32_registerClassEx global__Win32__API__Functions.user.registerClassExW</span></div><div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;<span class="preprocessor">#       define win32_unregisterClass global__Win32__API__Functions.user.unregisterClassW</span></div><div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;<span class="preprocessor">#       define win32_createWindowEx global__Win32__API__Functions.user.createWindowExW</span></div><div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;<span class="preprocessor">#       define win32_loadIcon global__Win32__API__Functions.user.loadIconW</span></div><div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;<span class="preprocessor">#       define win32_loadCursor global__Win32__API__Functions.user.loadCursorW</span></div><div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;<span class="preprocessor">#   endif // UNICODE</span></div><div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;</div><div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;<span class="preprocessor">#   if defined(FPL_ENABLE_WINDOW)</span></div><div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;        <span class="keyword">struct </span>Win32WindowState {</div><div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;            win32_char windowClass[256];</div><div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;            HWND windowHandle;</div><div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;            HDC deviceContext;</div><div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;            HCURSOR defaultCursor;</div><div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;            WINDOWPLACEMENT lastWindowPlacement;</div><div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;            uint32_t lastWindowWidth;</div><div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;            uint32_t lastWindowHeight;</div><div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;            <span class="keywordtype">bool</span> isRunning;</div><div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;            <span class="keywordtype">bool</span> isCursorActive;</div><div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;        };</div><div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;        <span class="keyword">struct </span>Win32XInputState {</div><div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;            <span class="keywordtype">bool</span> isConnected[XUSER_MAX_COUNT];</div><div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;        };</div><div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;<span class="preprocessor">#   else</span></div><div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;        <span class="keyword">typedef</span> <span class="keywordtype">void</span> *Win32WindowState;</div><div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;        <span class="keyword">typedef</span> <span class="keywordtype">void</span> *Win32XInputState;</div><div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;<span class="preprocessor">#   endif // FPL_ENABLE_WINDOW</span></div><div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;</div><div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;        <span class="keyword">struct </span>Win32VideoState {</div><div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;            <a class="code" href="namespacefpl_1_1_video_driver_types.html#a258cb7cd4b12cc998472708f70d55f7f">VideoDriverType</a> activeVideoDriver;</div><div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;            <span class="keyword">union </span>{</div><div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;<span class="preprocessor">#       if defined(FPL_ENABLE_VIDEO_OPENGL)</span></div><div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;                <span class="keyword">struct </span>{</div><div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;                    HGLRC renderingContext;</div><div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;                } opengl;</div><div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;<span class="preprocessor">#       endif</span></div><div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;</div><div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;<span class="preprocessor">#       if defined(FPL_ENABLE_VIDEO_SOFTWARE)</span></div><div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;                <span class="keyword">struct </span>{</div><div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;                    <a class="code" href="structfpl_1_1video_1_1_video_back_buffer.html">video::VideoBackBuffer</a> context;</div><div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;                    BITMAPINFO bitmapInfo;</div><div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;                } software;</div><div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;<span class="preprocessor">#       endif</span></div><div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;            };</div><div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;        };</div><div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;</div><div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;        <span class="keyword">struct </span>Win32ApplicationState {</div><div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;            <span class="keywordtype">bool</span> isInitialized;</div><div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;            HINSTANCE appInstance;</div><div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;            LARGE_INTEGER performanceFrequency;</div><div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;        };</div><div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a15247947df186e1a456e037388e619a7">fpl_globalvar</a> Win32ApplicationState global__Win32__AppState = {};</div><div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;</div><div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;        <span class="keyword">struct </span>Win32State {</div><div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;            <a class="code" href="structfpl_1_1_settings.html">Settings</a> initSettings;</div><div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;            <a class="code" href="structfpl_1_1_settings.html">Settings</a> currentSettings;</div><div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;            Win32WindowState window;</div><div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;            Win32VideoState video;</div><div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;            Win32XInputState xinput;</div><div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;            <a class="code" href="namespacefpl_1_1_init_flags.html#a3aaa570e446e656cbc2c25d2a1a76db0">InitFlag</a> initFlags;</div><div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;        };</div><div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a15247947df186e1a456e037388e619a7">fpl_globalvar</a> Win32State *global__Win32__State = <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>;</div><div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;</div><div class="line"><a name="l03325"></a><span class="lineno"> 3325</span>&#160;<span class="preprocessor">#   if defined(FPL_ENABLE_VIDEO_OPENGL)</span></div><div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> <span class="keywordtype">bool</span> Win32InitVideoOpenGL(platform::Win32State *state, <span class="keyword">const</span> <a class="code" href="structfpl_1_1_video_settings.html">VideoSettings</a> &amp;videoSettings) {</div><div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;            platform::Win32APIFunctions &amp;wapi = platform::global__Win32__API__Functions;</div><div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;            platform::Win32OpenGLFunctions &amp;glFuncs = platform::global__Win32__OpenGL_Functions;</div><div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;</div><div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;            <span class="comment">//</span></div><div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;            <span class="comment">// Load OpenGL Library</span></div><div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;            <span class="comment">//</span></div><div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;            {</div><div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">char</span> *openglLibraryName = <span class="stringliteral">&quot;opengl32.dll&quot;</span>;</div><div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;                glFuncs.openglLibrary = LoadLibraryA(<span class="stringliteral">&quot;opengl32.dll&quot;</span>);</div><div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;                <span class="keywordflow">if</span> (glFuncs.openglLibrary == <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;                    common::PushError(<span class="stringliteral">&quot;[Win32] Failed loading opengl library &#39;%s&#39;!&quot;</span>, openglLibraryName);</div><div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;                }</div><div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;</div><div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(glFuncs.openglLibrary, openglLibraryName, glFuncs.wglGetProcAddress, platform::win32_func_wglGetProcAddress, <span class="stringliteral">&quot;wglGetProcAddress&quot;</span>);</div><div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(glFuncs.openglLibrary, openglLibraryName, glFuncs.wglCreateContext, platform::win32_func_wglCreateContext, <span class="stringliteral">&quot;wglCreateContext&quot;</span>);</div><div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(glFuncs.openglLibrary, openglLibraryName, glFuncs.wglDeleteContext, platform::win32_func_wglDeleteContext, <span class="stringliteral">&quot;wglDeleteContext&quot;</span>);</div><div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(glFuncs.openglLibrary, openglLibraryName, glFuncs.wglMakeCurrent, platform::win32_func_wglMakeCurrent, <span class="stringliteral">&quot;wglMakeCurrent&quot;</span>);</div><div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;            }</div><div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;</div><div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;            <span class="comment">//</span></div><div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;            <span class="comment">// Prepare window for Opengl</span></div><div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;            <span class="comment">//</span></div><div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;            HDC deviceContext = state-&gt;window.deviceContext;</div><div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;            HWND handle = state-&gt;window.windowHandle;</div><div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;</div><div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;            PIXELFORMATDESCRIPTOR pfd = {};</div><div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;            pfd.nSize = <span class="keyword">sizeof</span>(pfd);</div><div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;            pfd.nVersion = 1;</div><div class="line"><a name="l03356"></a><span class="lineno"> 3356</span>&#160;            pfd.dwFlags = PFD_DOUBLEBUFFER | PFD_SUPPORT_OPENGL | PFD_DRAW_TO_WINDOW;</div><div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;            pfd.iPixelType = PFD_TYPE_RGBA;</div><div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;            pfd.cColorBits = 32;</div><div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;            pfd.cDepthBits = 24;</div><div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;            pfd.cAlphaBits = 8;</div><div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;            pfd.iLayerType = PFD_MAIN_PLANE;</div><div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;</div><div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;            <span class="keywordtype">int</span> pixelFormat = wapi.gdi.choosePixelFormat(deviceContext, &amp;pfd);</div><div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;            <span class="keywordflow">if</span> (!pixelFormat) {</div><div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;                common::PushError(<span class="stringliteral">&quot;[Win32] Failed choosing RGBA Legacy Pixelformat for Color/Depth/Alpha (%d,%d,%d) and DC &#39;%x&#39;\n&quot;</span>, pfd.cColorBits, pfd.cDepthBits, pfd.cAlphaBits, deviceContext);</div><div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;            }</div><div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;</div><div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;            <span class="keywordflow">if</span> (!wapi.gdi.setPixelFormat(deviceContext, pixelFormat, &amp;pfd)) {</div><div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;                common::PushError(<span class="stringliteral">&quot;[Win32] Failed setting RGBA Pixelformat &#39;%d&#39; for Color/Depth/Alpha (%d,%d,%d and DC &#39;%x&#39;)\n&quot;</span>, pixelFormat, pfd.cColorBits, pfd.cDepthBits, pfd.cAlphaBits, deviceContext);</div><div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;            }</div><div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;</div><div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;            wapi.gdi.describePixelFormat(deviceContext, pixelFormat, <span class="keyword">sizeof</span>(pfd), &amp;pfd);</div><div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;</div><div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;            <span class="comment">//</span></div><div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;            <span class="comment">// Create opengl rendering context</span></div><div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;            <span class="comment">//</span></div><div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;            HGLRC legacyRenderingContext = glFuncs.wglCreateContext(deviceContext);</div><div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;            <span class="keywordflow">if</span> (!legacyRenderingContext) {</div><div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;                common::PushError(<span class="stringliteral">&quot;[Win32] Failed creating Legacy OpenGL Rendering Context for DC &#39;%x&#39;)\n&quot;</span>, deviceContext);</div><div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;            }</div><div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;</div><div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;            <span class="keywordflow">if</span> (!glFuncs.wglMakeCurrent(deviceContext, legacyRenderingContext)) {</div><div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;                common::PushError(<span class="stringliteral">&quot;[Win32] Failed activating Legacy OpenGL Rendering Context for DC &#39;%x&#39; and RC &#39;%x&#39;)\n&quot;</span>, deviceContext, legacyRenderingContext);</div><div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;                glFuncs.wglDeleteContext(legacyRenderingContext);</div><div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;            }</div><div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;</div><div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;            <span class="comment">// Load WGL Extensions</span></div><div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;            glFuncs.wglSwapIntervalExt = (platform::win32_func_wglSwapIntervalEXT *)glFuncs.wglGetProcAddress(<span class="stringliteral">&quot;wglSwapIntervalEXT&quot;</span>);</div><div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;            glFuncs.wglChoosePixelFormatArb = (platform::win32_func_wglChoosePixelFormatARB *)glFuncs.wglGetProcAddress(<span class="stringliteral">&quot;wglChoosePixelFormatARB&quot;</span>);</div><div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;            glFuncs.wglCreateContextAttribsArb = (platform::win32_func_wglCreateContextAttribsARB *)glFuncs.wglGetProcAddress(<span class="stringliteral">&quot;wglCreateContextAttribsARB&quot;</span>);</div><div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;</div><div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;            <span class="comment">// Disable legacy context</span></div><div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;            glFuncs.wglMakeCurrent(<a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;</div><div class="line"><a name="l03399"></a><span class="lineno"> 3399</span>&#160;            HGLRC activeRenderingContext;</div><div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;            <span class="keywordflow">if</span> (videoSettings.<a class="code" href="structfpl_1_1_video_settings.html#ac4088c2f193c99b722963acba7c919cd">profile</a> != <a class="code" href="namespacefpl_1_1_video_compability_profiles.html#acfa373302044d5de2a2b41be42fdc5d2acce2f8ec850a14f06f3b660f0493b596">VideoCompabilityProfile::Legacy</a>) {</div><div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;                <span class="comment">// @NOTE(final): This is only available in OpenGL 3.0+</span></div><div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;                <span class="keywordflow">if</span> (!(videoSettings.<a class="code" href="structfpl_1_1_video_settings.html#a978bfca33e1fd1f26afc502fb392f021">majorVersion</a> &gt;= 3 &amp;&amp; videoSettings.<a class="code" href="structfpl_1_1_video_settings.html#ac99e6a0bc71882b9209875f09e632e47">minorVersion</a> &gt;= 0)) {</div><div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;                    common::PushError(<span class="stringliteral">&quot;[Win32] You have not specified the &#39;majorVersion&#39; and &#39;minorVersion&#39; in the VideoSettings!\n&quot;</span>);</div><div class="line"><a name="l03404"></a><span class="lineno"> 3404</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;                }</div><div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;</div><div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;                <span class="keywordflow">if</span> (glFuncs.wglChoosePixelFormatArb == <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l03408"></a><span class="lineno"> 3408</span>&#160;                    common::PushError(<span class="stringliteral">&quot;[Win32] wglChoosePixelFormatARB is not available, modern OpenGL is not available for your video card!\n&quot;</span>);</div><div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;                }</div><div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;                <span class="keywordflow">if</span> (glFuncs.wglCreateContextAttribsArb == <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;                    common::PushError(<span class="stringliteral">&quot;[Win32] wglCreateContextAttribsARB is not available, modern OpenGL is not available for your video card!\n&quot;</span>);</div><div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;                }</div><div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;</div><div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;                <span class="keywordtype">int</span> contextAttribIndex = 0;</div><div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;                <span class="keywordtype">int</span> contextAttribList[20 + 1] = {};</div><div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;                contextAttribList[contextAttribIndex++] = FPL_WGL_CONTEXT_MAJOR_VERSION_ARB;</div><div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;                contextAttribList[contextAttribIndex++] = (int)videoSettings.<a class="code" href="structfpl_1_1_video_settings.html#a978bfca33e1fd1f26afc502fb392f021">majorVersion</a>;</div><div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;                contextAttribList[contextAttribIndex++] = FPL_WGL_CONTEXT_MINOR_VERSION_ARB;</div><div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;                contextAttribList[contextAttribIndex++] = (<span class="keywordtype">int</span>)videoSettings.<a class="code" href="structfpl_1_1_video_settings.html#ac99e6a0bc71882b9209875f09e632e47">minorVersion</a>;</div><div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;                <span class="keywordflow">if</span> (videoSettings.<a class="code" href="structfpl_1_1_video_settings.html#ac4088c2f193c99b722963acba7c919cd">profile</a> == <a class="code" href="namespacefpl_1_1_video_compability_profiles.html#acfa373302044d5de2a2b41be42fdc5d2a6515c2e1d200fa8e9d6ad300782625ca">VideoCompabilityProfile::Core</a>) {</div><div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;                    contextAttribList[contextAttribIndex++] = FPL_WGL_CONTEXT_PROFILE_MASK_ARB;</div><div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;                    contextAttribList[contextAttribIndex++] = FPL_WGL_CONTEXT_CORE_PROFILE_BIT_ARB;</div><div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;                    <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(videoSettings.<a class="code" href="structfpl_1_1_video_settings.html#ac4088c2f193c99b722963acba7c919cd">profile</a> == <a class="code" href="namespacefpl_1_1_video_compability_profiles.html#acfa373302044d5de2a2b41be42fdc5d2a8919fc080c43755b398cb30e7c310d28">VideoCompabilityProfile::Forward</a>);</div><div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;                    contextAttribList[contextAttribIndex++] = FPL_WGL_CONTEXT_FLAGS_ARB;</div><div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;                    contextAttribList[contextAttribIndex++] = FPL_WGL_CONTEXT_FORWARD_COMPATIBLE_BIT_ARB;</div><div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;                }</div><div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;</div><div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;                <span class="comment">// Create modern opengl rendering context</span></div><div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;                HGLRC modernRenderingContext = glFuncs.wglCreateContextAttribsArb(deviceContext, 0, contextAttribList);</div><div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;                <span class="keywordflow">if</span> (modernRenderingContext) {</div><div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;                    <span class="keywordflow">if</span> (!glFuncs.wglMakeCurrent(deviceContext, modernRenderingContext)) {</div><div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;                        common::PushError(<span class="stringliteral">&quot;[Win32] Warning: Failed activating Modern OpenGL Rendering Context for version (%llu.%llu) and DC &#39;%x&#39;) -&gt; Fallback to legacy context.\n&quot;</span>, videoSettings.<a class="code" href="structfpl_1_1_video_settings.html#a978bfca33e1fd1f26afc502fb392f021">majorVersion</a>, videoSettings.<a class="code" href="structfpl_1_1_video_settings.html#ac99e6a0bc71882b9209875f09e632e47">minorVersion</a>, deviceContext);</div><div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;</div><div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;                        glFuncs.wglDeleteContext(modernRenderingContext);</div><div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;                        modernRenderingContext = <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>;</div><div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;</div><div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;                        <span class="comment">// Fallback to legacy context</span></div><div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;                        glFuncs.wglMakeCurrent(deviceContext, legacyRenderingContext);</div><div class="line"><a name="l03442"></a><span class="lineno"> 3442</span>&#160;                        activeRenderingContext = legacyRenderingContext;</div><div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;                    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;                        <span class="comment">// Destroy legacy rendering context</span></div><div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;                        glFuncs.wglDeleteContext(legacyRenderingContext);</div><div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;                        legacyRenderingContext = <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>;</div><div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;                        activeRenderingContext = modernRenderingContext;</div><div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;                    }</div><div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03450"></a><span class="lineno"> 3450</span>&#160;                    common::PushError(<span class="stringliteral">&quot;[Win32] Warning: Failed creating Modern OpenGL Rendering Context for version (%llu.%llu) and DC &#39;%x&#39;) -&gt; Fallback to legacy context.\n&quot;</span>, videoSettings.<a class="code" href="structfpl_1_1_video_settings.html#a978bfca33e1fd1f26afc502fb392f021">majorVersion</a>, videoSettings.<a class="code" href="structfpl_1_1_video_settings.html#ac99e6a0bc71882b9209875f09e632e47">minorVersion</a>, deviceContext);</div><div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;</div><div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;                    <span class="comment">// Fallback to legacy context</span></div><div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;                    glFuncs.wglMakeCurrent(deviceContext, legacyRenderingContext);</div><div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;                    activeRenderingContext = legacyRenderingContext;</div><div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;                }</div><div class="line"><a name="l03456"></a><span class="lineno"> 3456</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;                <span class="comment">// Caller wants legacy context</span></div><div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;                glFuncs.wglMakeCurrent(deviceContext, legacyRenderingContext);</div><div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;                activeRenderingContext = legacyRenderingContext;</div><div class="line"><a name="l03460"></a><span class="lineno"> 3460</span>&#160;            }</div><div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;</div><div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(activeRenderingContext != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;</div><div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;            state-&gt;video.opengl.renderingContext = activeRenderingContext;</div><div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;</div><div class="line"><a name="l03466"></a><span class="lineno"> 3466</span>&#160;            <span class="comment">// Set vertical syncronisation if available</span></div><div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;            <span class="keywordflow">if</span> (glFuncs.wglSwapIntervalExt != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;                <span class="keywordtype">int</span> swapInterval = videoSettings.<a class="code" href="structfpl_1_1_video_settings.html#add2a0d1279c32e7ace63995617c24f03">isVSync</a> ? 1 : 0;</div><div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;                glFuncs.wglSwapIntervalExt(swapInterval);</div><div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;            }</div><div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;</div><div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;        }</div><div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;</div><div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> <span class="keywordtype">void</span> Win32ReleaseVideoOpenGL(platform::Win32State *state) {</div><div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;            platform::Win32OpenGLFunctions &amp;glFuncs = platform::global__Win32__OpenGL_Functions;</div><div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;            <span class="keywordflow">if</span> (state-&gt;video.opengl.renderingContext) {</div><div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;                glFuncs.wglMakeCurrent(<a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;                glFuncs.wglDeleteContext(state-&gt;video.opengl.renderingContext);</div><div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;                state-&gt;video.opengl.renderingContext = <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>;</div><div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;            }</div><div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;            <span class="keywordflow">if</span> (glFuncs.openglLibrary != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;                FreeLibrary(glFuncs.openglLibrary);</div><div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;                glFuncs = {};</div><div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;            }</div><div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;        }</div><div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;<span class="preprocessor">#   endif // FPL_ENABLE_VIDEO_OPENGL</span></div><div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;</div><div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;<span class="preprocessor">#   if defined(FPL_ENABLE_VIDEO_SOFTWARE)</span></div><div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> <span class="keywordtype">bool</span> Win32InitVideoSoftware(platform::Win32State *state, <span class="keyword">const</span> uint32_t width, <span class="keyword">const</span> uint32_t height) {</div><div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;            platform::Win32VideoState &amp;videoState = state-&gt;video;</div><div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;</div><div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;            <span class="comment">// Allocate memory/fill context</span></div><div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;            videoState.software = {};</div><div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;            videoState.software.context.width = width;</div><div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;            videoState.software.context.height = height;</div><div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;            videoState.software.context.stride = videoState.software.context.width * <span class="keyword">sizeof</span>(uint32_t);</div><div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;            <span class="keywordtype">size_t</span> size = videoState.software.context.stride * videoState.software.context.height;</div><div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;            videoState.software.context.pixels = (uint32_t *)<a class="code" href="group___memory.html#gaf5ad819b0045c31a72d86c20d8f8dd34">memory::MemoryAlignedAllocate</a>(size, 16);</div><div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;</div><div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;            <span class="comment">// Clear to black by default</span></div><div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;            <span class="comment">// @NOTE(final): Bitmap is top-down, 0xAABBGGRR</span></div><div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;            uint32_t *p = videoState.software.context.pixels;</div><div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;            <span class="keywordflow">for</span> (uint32_t y = 0; y &lt; videoState.software.context.height; ++y) {</div><div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;                uint32_t color = 0xFF000000;</div><div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;                <span class="keywordflow">for</span> (uint32_t x = 0; x &lt; videoState.software.context.width; ++x) {</div><div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;                    *p++ = color;</div><div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;                }</div><div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;            }</div><div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;</div><div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;            <span class="comment">// Create DIB section from bitmapinfo</span></div><div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;            videoState.software.bitmapInfo = {};</div><div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;            videoState.software.bitmapInfo.bmiHeader.biSize = <span class="keyword">sizeof</span>(BITMAPINFOHEADER);</div><div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;            videoState.software.bitmapInfo.bmiHeader.biWidth = (LONG)videoState.software.context.width;</div><div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;            videoState.software.bitmapInfo.bmiHeader.biHeight = (LONG)videoState.software.context.height;</div><div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;            videoState.software.bitmapInfo.bmiHeader.biBitCount = 32;</div><div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;            videoState.software.bitmapInfo.bmiHeader.biCompression = BI_RGB;</div><div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;            videoState.software.bitmapInfo.bmiHeader.biPlanes = 1;</div><div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;            videoState.software.bitmapInfo.bmiHeader.biSizeImage = (DWORD)size;</div><div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;</div><div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;        }</div><div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;</div><div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> <span class="keywordtype">void</span> Win32ReleaseVideoSoftware(platform::Win32State *state) {</div><div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;            platform::Win32VideoState &amp;videoState = state-&gt;video;</div><div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(videoState.software.context.pixels != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;            <a class="code" href="group___memory.html#gafff57ceb6d17787d0bc84d66fd23f433">memory::MemoryAlignedFree</a>(videoState.software.context.pixels);</div><div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;            videoState.software = {};</div><div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;        }</div><div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;<span class="preprocessor">#   endif // FPL_ENABLE_VIDEO_SOFTWARE</span></div><div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;</div><div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;<span class="preprocessor">#   if defined(FPL_ENABLE_WINDOW)</span></div><div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aa3d38e49c90082e1638fe199347c35c5">fpl_constant</a> uint32_t MAX_EVENT_COUNT = 32768;</div><div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;        <span class="keyword">struct </span>EventQueue {</div><div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;            <a class="code" href="structfpl_1_1window_1_1_event.html">window::Event</a> events[MAX_EVENT_COUNT];</div><div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;            <span class="keyword">volatile</span> uint32_t pollIndex;</div><div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;            <span class="keyword">volatile</span> uint32_t pushCount;</div><div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;        };</div><div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a15247947df186e1a456e037388e619a7">fpl_globalvar</a> EventQueue *global__EventQueue = <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>;</div><div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;</div><div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a2cde79ef58944162158c81a4d5b754dd">fpl_internal_inline</a> <span class="keywordtype">void</span> PushEvent(<span class="keyword">const</span> <a class="code" href="structfpl_1_1window_1_1_event.html">window::Event</a> &amp;event) {</div><div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;            EventQueue *eventQueue = global__EventQueue;</div><div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(eventQueue != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;            <span class="keywordflow">if</span> (eventQueue-&gt;pushCount &lt; MAX_EVENT_COUNT) {</div><div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;                uint32_t eventIndex = <a class="code" href="group___atomics.html#gabedcbf082844800172f4228383c80f75">atomics::AtomicAddU32</a>(&amp;eventQueue-&gt;pushCount, 1);</div><div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;                <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(eventIndex &lt; MAX_EVENT_COUNT);</div><div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;                eventQueue-&gt;events[eventIndex] = event;</div><div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;            }</div><div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;        }</div><div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;</div><div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;        <span class="keyword">struct </span>Win32WindowStyle {</div><div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;            DWORD style;</div><div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;            DWORD exStyle;</div><div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;        };</div><div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;</div><div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aa3d38e49c90082e1638fe199347c35c5">fpl_constant</a> DWORD Win32ResizeableWindowStyle = WS_THICKFRAME | WS_SYSMENU | WS_MINIMIZEBOX | WS_MAXIMIZEBOX | WS_VISIBLE;</div><div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aa3d38e49c90082e1638fe199347c35c5">fpl_constant</a> DWORD Win32ResizeableWindowExtendedStyle = WS_EX_LEFT;</div><div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;</div><div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aa3d38e49c90082e1638fe199347c35c5">fpl_constant</a> DWORD Win32NonResizableWindowStyle = WS_CAPTION | WS_SYSMENU | WS_MINIMIZEBOX | WS_VISIBLE;</div><div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aa3d38e49c90082e1638fe199347c35c5">fpl_constant</a> DWORD Win32NonResizableWindowExtendedStyle = WS_EX_LEFT;</div><div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;</div><div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aa3d38e49c90082e1638fe199347c35c5">fpl_constant</a> DWORD Win32FullscreenWindowStyle = WS_POPUP | WS_VISIBLE;</div><div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aa3d38e49c90082e1638fe199347c35c5">fpl_constant</a> DWORD Win32FullscreenWindowExtendedStyle = WS_EX_APPWINDOW | WS_EX_TOPMOST;</div><div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;</div><div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> <span class="keywordtype">bool</span> Win32LeaveFullscreen() {</div><div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;            <span class="comment">// @TODO(final): Support for multi-monitor (Leave)!</span></div><div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(global__Win32__State != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;            Win32State *state = global__Win32__State;</div><div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;            Win32APIFunctions &amp;wapi = global__Win32__API__Functions;</div><div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;</div><div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;            <a class="code" href="structfpl_1_1_window_settings.html">WindowSettings</a> &amp;settings = state-&gt;currentSettings.window;</div><div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(settings.<a class="code" href="structfpl_1_1_window_settings.html#a6dd4ff9644d0c66ec29987264ff99ea4">isFullscreen</a>);</div><div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;            HWND handle = state-&gt;window.windowHandle;</div><div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;</div><div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;            <span class="keywordflow">if</span> (settings.<a class="code" href="structfpl_1_1_window_settings.html#a049bf1bec0382c593918aded3d701ca5">isResizable</a>) {</div><div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;                win32_setWindowLongPtr(handle, GWL_STYLE, Win32ResizeableWindowStyle);</div><div class="line"><a name="l03577"></a><span class="lineno"> 3577</span>&#160;                win32_setWindowLongPtr(handle, GWL_EXSTYLE, Win32ResizeableWindowExtendedStyle);</div><div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;                win32_setWindowLongPtr(handle, GWL_STYLE, Win32NonResizableWindowStyle);</div><div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;                win32_setWindowLongPtr(handle, GWL_EXSTYLE, Win32NonResizableWindowExtendedStyle);</div><div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;            }</div><div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;</div><div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;            wapi.user.setWindowPos(handle, HWND_NOTOPMOST, 0, 0, state-&gt;window.lastWindowWidth, state-&gt;window.lastWindowHeight, SWP_SHOWWINDOW | SWP_NOMOVE);</div><div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;            wapi.user.setWindowPlacement(handle, &amp;state-&gt;window.lastWindowPlacement);</div><div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;            <span class="keywordtype">bool</span> result = (wapi.user.changeDisplaySettingsA(<a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, CDS_RESET) == DISP_CHANGE_SUCCESSFUL);</div><div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;            wapi.user.showWindow(handle, SW_RESTORE);</div><div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;</div><div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;            settings.<a class="code" href="structfpl_1_1_window_settings.html#a6dd4ff9644d0c66ec29987264ff99ea4">isFullscreen</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;            state-&gt;window.lastWindowPlacement = {};</div><div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;            state-&gt;window.lastWindowWidth = state-&gt;window.lastWindowHeight = 0;</div><div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;</div><div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;        }</div><div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;</div><div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> <span class="keywordtype">bool</span> Win32EnterFullscreen(<span class="keyword">const</span> uint32_t fullscreenWidth, <span class="keyword">const</span> uint32_t fullscreenHeight, <span class="keyword">const</span> uint32_t refreshRate, <span class="keyword">const</span> uint32_t colorBits) {</div><div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;            <span class="comment">// @TODO(final): Support for multi-monitor (Enter)!</span></div><div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(global__Win32__State != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;            <a class="code" href="structfpl_1_1_window_settings.html">WindowSettings</a> &amp;settings = global__Win32__State-&gt;currentSettings.window;</div><div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(!settings.<a class="code" href="structfpl_1_1_window_settings.html#a6dd4ff9644d0c66ec29987264ff99ea4">isFullscreen</a>);</div><div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;</div><div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;            HWND windowHandle = global__Win32__State-&gt;window.windowHandle;</div><div class="line"><a name="l03602"></a><span class="lineno"> 3602</span>&#160;            HDC deviceContext = global__Win32__State-&gt;window.deviceContext;</div><div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;            Win32APIFunctions &amp;wapi = global__Win32__API__Functions;</div><div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;</div><div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;            DWORD useRefreshRate = refreshRate;</div><div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;            <span class="keywordflow">if</span> (!useRefreshRate) {</div><div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;                useRefreshRate = wapi.gdi.getDeviceCaps(deviceContext, VREFRESH);</div><div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;            }</div><div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;</div><div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;            DWORD useColourBits = colorBits;</div><div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;            <span class="keywordflow">if</span> (!useColourBits) {</div><div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;                useColourBits = wapi.gdi.getDeviceCaps(deviceContext, BITSPIXEL);</div><div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;            }</div><div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;</div><div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;            DWORD useFullscreenWidth = fullscreenWidth;</div><div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;            DWORD useFullscreenHeight = fullscreenHeight;</div><div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;            <span class="keywordflow">if</span> (!useFullscreenWidth || !useFullscreenHeight) {</div><div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;                useFullscreenWidth = wapi.gdi.getDeviceCaps(deviceContext, HORZRES);</div><div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;                useFullscreenHeight = wapi.gdi.getDeviceCaps(deviceContext, VERTRES);</div><div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;            }</div><div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;</div><div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;            win32_setWindowLong(windowHandle, GWL_STYLE, Win32FullscreenWindowStyle);</div><div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;            win32_setWindowLong(windowHandle, GWL_EXSTYLE, Win32FullscreenWindowExtendedStyle);</div><div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;</div><div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;            wapi.user.setWindowPos(windowHandle, HWND_TOPMOST, 0, 0, useFullscreenWidth, useFullscreenHeight, SWP_SHOWWINDOW);</div><div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;</div><div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;            DEVMODEA fullscreenSettings = {};</div><div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;            wapi.user.enumDisplaySettingsA(<a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, 0, &amp;fullscreenSettings);</div><div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;            fullscreenSettings.dmPelsWidth = useFullscreenWidth;</div><div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;            fullscreenSettings.dmPelsHeight = useFullscreenHeight;</div><div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;            fullscreenSettings.dmBitsPerPel = useColourBits;</div><div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;            fullscreenSettings.dmDisplayFrequency = useRefreshRate;</div><div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;            fullscreenSettings.dmFields = DM_PELSWIDTH | DM_PELSHEIGHT | DM_BITSPERPEL | DM_DISPLAYFREQUENCY;</div><div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;            <span class="keywordtype">bool</span> result = (wapi.user.changeDisplaySettingsA(&amp;fullscreenSettings, CDS_FULLSCREEN) == DISP_CHANGE_SUCCESSFUL);</div><div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;</div><div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;            wapi.user.showWindow(windowHandle, SW_MAXIMIZE);</div><div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;</div><div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;            settings.<a class="code" href="structfpl_1_1_window_settings.html#a6dd4ff9644d0c66ec29987264ff99ea4">isFullscreen</a> = result;</div><div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;</div><div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;        }</div><div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;</div><div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a2cde79ef58944162158c81a4d5b754dd">fpl_internal_inline</a> <span class="keywordtype">float</span> Win32XInputProcessStickValue(SHORT value, SHORT deadZoneThreshold) {</div><div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;            <span class="keywordtype">float</span> result = 0;</div><div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;            <span class="keywordflow">if</span> (value &lt; -deadZoneThreshold) {</div><div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;                result = (float)((value + deadZoneThreshold) / (32768.0f - deadZoneThreshold));</div><div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (value &gt; deadZoneThreshold) {</div><div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;                result = (float)((value - deadZoneThreshold) / (32767.0f - deadZoneThreshold));</div><div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;            }</div><div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;        }</div><div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;</div><div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> <span class="keywordtype">void</span> Win32PollControllers(Win32State *win32State) {</div><div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;            <span class="keyword">using namespace </span>window;</div><div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;            Win32InputFunctions &amp;inputFuncs = global__Win32__Input__Functions;</div><div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(inputFuncs.xinput.xInputSetState != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l03657"></a><span class="lineno"> 3657</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#aa3d38e49c90082e1638fe199347c35c5">fpl_constant</a> DWORD MAX_CONTROLLER_COUNT = XUSER_MAX_COUNT;</div><div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;            <span class="keywordflow">for</span> (DWORD controllerIndex = 0; controllerIndex &lt; MAX_CONTROLLER_COUNT; ++controllerIndex) {</div><div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;                XINPUT_STATE controllerState = {};</div><div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;                <span class="keywordflow">if</span> (inputFuncs.xinput.xInputSetState(controllerIndex, &amp;controllerState) == ERROR_SUCCESS) {</div><div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;                    <span class="keywordflow">if</span> (!win32State-&gt;xinput.isConnected[controllerIndex]) {</div><div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;                        <span class="comment">// Connected</span></div><div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;                        win32State-&gt;xinput.isConnected[controllerIndex] = <span class="keyword">true</span>;</div><div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;</div><div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;                        <a class="code" href="structfpl_1_1window_1_1_event.html">Event</a> ev = {};</div><div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;                        ev.<a class="code" href="structfpl_1_1window_1_1_event.html#ae69cd7351a23ee07a9c6c663d5c5aea7">type</a> = <a class="code" href="namespacefpl_1_1window_1_1_event_types.html#ac1b654b98c2774f73b1b089f2886fc4fa7895681e76ab4eec49c5904850fab6d0">EventType::Gamepad</a>;</div><div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;                        ev.<a class="code" href="structfpl_1_1window_1_1_event.html#acd55903a68020728b161f3db3b8bff49">gamepad</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_event.html#ad3453bd5181634ae53ce34e005a427dd">type</a> = <a class="code" href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6a5c83f6407d107c48523cc27b7710d862">GamepadEventType::Connected</a>;</div><div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;                        ev.<a class="code" href="structfpl_1_1window_1_1_event.html#acd55903a68020728b161f3db3b8bff49">gamepad</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_event.html#a2099e9363b9ed33032c3477dc9bca554">deviceIndex</a> = controllerIndex;</div><div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;                        PushEvent(ev);</div><div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;                    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;                        <span class="comment">// State changed</span></div><div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;                        <a class="code" href="structfpl_1_1window_1_1_event.html">Event</a> ev = {};</div><div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;                        ev.<a class="code" href="structfpl_1_1window_1_1_event.html#ae69cd7351a23ee07a9c6c663d5c5aea7">type</a> = <a class="code" href="namespacefpl_1_1window_1_1_event_types.html#ac1b654b98c2774f73b1b089f2886fc4fa7895681e76ab4eec49c5904850fab6d0">EventType::Gamepad</a>;</div><div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;                        ev.<a class="code" href="structfpl_1_1window_1_1_event.html#acd55903a68020728b161f3db3b8bff49">gamepad</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_event.html#ad3453bd5181634ae53ce34e005a427dd">type</a> = <a class="code" href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6ae8a2632fcb4f5071a0f1cbda11d10da8">GamepadEventType::StateChanged</a>;</div><div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;                        ev.<a class="code" href="structfpl_1_1window_1_1_event.html#acd55903a68020728b161f3db3b8bff49">gamepad</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_event.html#a2099e9363b9ed33032c3477dc9bca554">deviceIndex</a> = controllerIndex;</div><div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;</div><div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;                        XINPUT_GAMEPAD *pad = &amp;controllerState.Gamepad;</div><div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;</div><div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;                        <span class="comment">// Analog sticks</span></div><div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;                        ev.<a class="code" href="structfpl_1_1window_1_1_event.html#acd55903a68020728b161f3db3b8bff49">gamepad</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_event.html#a9f0b1ac2350741a009afbf419b139efd">state</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#a343d2faffa69f5d8355e3db3f524eeab">leftStickX</a> = Win32XInputProcessStickValue(pad-&gt;sThumbLX, XINPUT_GAMEPAD_LEFT_THUMB_DEADZONE);</div><div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;                        ev.<a class="code" href="structfpl_1_1window_1_1_event.html#acd55903a68020728b161f3db3b8bff49">gamepad</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_event.html#a9f0b1ac2350741a009afbf419b139efd">state</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#ac795a6e053ed36a4e0617564b1398001">leftStickY</a> = Win32XInputProcessStickValue(pad-&gt;sThumbLY, XINPUT_GAMEPAD_LEFT_THUMB_DEADZONE);</div><div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;                        ev.<a class="code" href="structfpl_1_1window_1_1_event.html#acd55903a68020728b161f3db3b8bff49">gamepad</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_event.html#a9f0b1ac2350741a009afbf419b139efd">state</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#a662a6175d649f6ffc51d68484614e86a">rightStickX</a> = Win32XInputProcessStickValue(pad-&gt;sThumbRX, XINPUT_GAMEPAD_RIGHT_THUMB_DEADZONE);</div><div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;                        ev.<a class="code" href="structfpl_1_1window_1_1_event.html#acd55903a68020728b161f3db3b8bff49">gamepad</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_event.html#a9f0b1ac2350741a009afbf419b139efd">state</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#a775cc3007043eb5776d2105427413588">rightStickY</a> = Win32XInputProcessStickValue(pad-&gt;sThumbRY, XINPUT_GAMEPAD_RIGHT_THUMB_DEADZONE);</div><div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;</div><div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;                        <span class="comment">// Triggers</span></div><div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;                        ev.<a class="code" href="structfpl_1_1window_1_1_event.html#acd55903a68020728b161f3db3b8bff49">gamepad</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_event.html#a9f0b1ac2350741a009afbf419b139efd">state</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#ad2d8d52456658ee8d136a64fc40028e3">leftTrigger</a> = (float)pad-&gt;bLeftTrigger / 255.0f;</div><div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;                        ev.<a class="code" href="structfpl_1_1window_1_1_event.html#acd55903a68020728b161f3db3b8bff49">gamepad</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_event.html#a9f0b1ac2350741a009afbf419b139efd">state</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#a10084f7cce412d52f8b14d6fd00116c2">rightTrigger</a> = (<span class="keywordtype">float</span>)pad-&gt;bRightTrigger / 255.0f;</div><div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;</div><div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;                        <span class="comment">// Digital pad buttons</span></div><div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;                        <span class="keywordflow">if</span> (pad-&gt;wButtons &amp; XINPUT_GAMEPAD_DPAD_UP)</div><div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;                            ev.<a class="code" href="structfpl_1_1window_1_1_event.html#acd55903a68020728b161f3db3b8bff49">gamepad</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_event.html#a9f0b1ac2350741a009afbf419b139efd">state</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#a5b77ef1ed6a3c4397223e72500584c0e">dpadUp</a> = { <span class="keyword">true</span> };</div><div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;                        <span class="keywordflow">if</span> (pad-&gt;wButtons &amp; XINPUT_GAMEPAD_DPAD_DOWN)</div><div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;                            ev.<a class="code" href="structfpl_1_1window_1_1_event.html#acd55903a68020728b161f3db3b8bff49">gamepad</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_event.html#a9f0b1ac2350741a009afbf419b139efd">state</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#a696ad4932c852991274b89a109d3f228">dpadDown</a> = { <span class="keyword">true</span> };</div><div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;                        <span class="keywordflow">if</span> (pad-&gt;wButtons &amp; XINPUT_GAMEPAD_DPAD_LEFT)</div><div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;                            ev.<a class="code" href="structfpl_1_1window_1_1_event.html#acd55903a68020728b161f3db3b8bff49">gamepad</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_event.html#a9f0b1ac2350741a009afbf419b139efd">state</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#a0f225cc2dd8f7b0fc30beda6f4ac35f3">dpadLeft</a> = { <span class="keyword">true</span> };</div><div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;                        <span class="keywordflow">if</span> (pad-&gt;wButtons &amp; XINPUT_GAMEPAD_DPAD_RIGHT)</div><div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;                            ev.<a class="code" href="structfpl_1_1window_1_1_event.html#acd55903a68020728b161f3db3b8bff49">gamepad</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_event.html#a9f0b1ac2350741a009afbf419b139efd">state</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#a51617a9012e78f69b1ff57cc1101cca6">dpadRight</a> = { <span class="keyword">true</span> };</div><div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;</div><div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;                        <span class="comment">// Action buttons</span></div><div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;                        <span class="keywordflow">if</span> (pad-&gt;wButtons &amp; XINPUT_GAMEPAD_A)</div><div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;                            ev.<a class="code" href="structfpl_1_1window_1_1_event.html#acd55903a68020728b161f3db3b8bff49">gamepad</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_event.html#a9f0b1ac2350741a009afbf419b139efd">state</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#a383edb9f835f881fd177d4b93f165a32">actionA</a> = { <span class="keyword">true</span> };</div><div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;                        <span class="keywordflow">if</span> (pad-&gt;wButtons &amp; XINPUT_GAMEPAD_B)</div><div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;                            ev.<a class="code" href="structfpl_1_1window_1_1_event.html#acd55903a68020728b161f3db3b8bff49">gamepad</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_event.html#a9f0b1ac2350741a009afbf419b139efd">state</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#a70fea4da5b4992cdb7f12d7054e8e76d">actionB</a> = { <span class="keyword">true</span> };</div><div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;                        <span class="keywordflow">if</span> (pad-&gt;wButtons &amp; XINPUT_GAMEPAD_X)</div><div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;                            ev.<a class="code" href="structfpl_1_1window_1_1_event.html#acd55903a68020728b161f3db3b8bff49">gamepad</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_event.html#a9f0b1ac2350741a009afbf419b139efd">state</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#a23bb49bdcecc0c18972b5742e544b72b">actionX</a> = { <span class="keyword">true</span> };</div><div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;                        <span class="keywordflow">if</span> (pad-&gt;wButtons &amp; XINPUT_GAMEPAD_Y)</div><div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;                            ev.<a class="code" href="structfpl_1_1window_1_1_event.html#acd55903a68020728b161f3db3b8bff49">gamepad</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_event.html#a9f0b1ac2350741a009afbf419b139efd">state</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#a6b97a638bcedc86823de45b5d4c88321">actionY</a> = { <span class="keyword">true</span> };</div><div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;</div><div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;                        <span class="comment">// Center buttons</span></div><div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;                        <span class="keywordflow">if</span> (pad-&gt;wButtons &amp; XINPUT_GAMEPAD_START)</div><div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;                            ev.<a class="code" href="structfpl_1_1window_1_1_event.html#acd55903a68020728b161f3db3b8bff49">gamepad</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_event.html#a9f0b1ac2350741a009afbf419b139efd">state</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#a195956749363bc5370942668de04823e">start</a> = { <span class="keyword">true</span> };</div><div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;                        <span class="keywordflow">if</span> (pad-&gt;wButtons &amp; XINPUT_GAMEPAD_BACK)</div><div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;                            ev.<a class="code" href="structfpl_1_1window_1_1_event.html#acd55903a68020728b161f3db3b8bff49">gamepad</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_event.html#a9f0b1ac2350741a009afbf419b139efd">state</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#a6cfb6d170ac485d3b0c95d4e172ed3e8">back</a> = { <span class="keyword">true</span> };</div><div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;</div><div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;                        <span class="comment">// Shoulder buttons</span></div><div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;                        <span class="keywordflow">if</span> (pad-&gt;wButtons &amp; XINPUT_GAMEPAD_LEFT_SHOULDER)</div><div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;                            ev.<a class="code" href="structfpl_1_1window_1_1_event.html#acd55903a68020728b161f3db3b8bff49">gamepad</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_event.html#a9f0b1ac2350741a009afbf419b139efd">state</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#ab45005d26282db67df32f0376c238f95">leftShoulder</a> = { <span class="keyword">true</span> };</div><div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;                        <span class="keywordflow">if</span> (pad-&gt;wButtons &amp; XINPUT_GAMEPAD_RIGHT_SHOULDER)</div><div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;                            ev.<a class="code" href="structfpl_1_1window_1_1_event.html#acd55903a68020728b161f3db3b8bff49">gamepad</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_event.html#a9f0b1ac2350741a009afbf419b139efd">state</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_state.html#ab51c6ee5725df609171143b22fcde895">rightShoulder</a> = { <span class="keyword">true</span> };</div><div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;</div><div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;                        PushEvent(ev);</div><div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;                    }</div><div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;                    <span class="keywordflow">if</span> (win32State-&gt;xinput.isConnected[controllerIndex]) {</div><div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;                        <span class="comment">// Disonnected</span></div><div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;                        win32State-&gt;xinput.isConnected[controllerIndex] = <span class="keyword">false</span>;</div><div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;</div><div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;                        <a class="code" href="structfpl_1_1window_1_1_event.html">Event</a> ev = {};</div><div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;                        ev.<a class="code" href="structfpl_1_1window_1_1_event.html#ae69cd7351a23ee07a9c6c663d5c5aea7">type</a> = <a class="code" href="namespacefpl_1_1window_1_1_event_types.html#ac1b654b98c2774f73b1b089f2886fc4fa7895681e76ab4eec49c5904850fab6d0">EventType::Gamepad</a>;</div><div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;                        ev.<a class="code" href="structfpl_1_1window_1_1_event.html#acd55903a68020728b161f3db3b8bff49">gamepad</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_event.html#ad3453bd5181634ae53ce34e005a427dd">type</a> = <a class="code" href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6ae26a201922d8e25dacf35fae69e37ba6">GamepadEventType::Disconnected</a>;</div><div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;                        ev.<a class="code" href="structfpl_1_1window_1_1_event.html#acd55903a68020728b161f3db3b8bff49">gamepad</a>.<a class="code" href="structfpl_1_1window_1_1_gamepad_event.html#a2099e9363b9ed33032c3477dc9bca554">deviceIndex</a> = controllerIndex;</div><div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;                        PushEvent(ev);</div><div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;                    }</div><div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;                }</div><div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;            }</div><div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;        }</div><div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;</div><div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a2cde79ef58944162158c81a4d5b754dd">fpl_internal_inline</a> <span class="keywordtype">void</span> Win32PushMouseEvent(<span class="keyword">const</span> <a class="code" href="namespacefpl_1_1window_1_1_mouse_event_types.html#abac384b9b1e9bdf36d032f1c9ffcaa14">window::MouseEventType</a> &amp;mouseEventType, <span class="keyword">const</span> <a class="code" href="namespacefpl_1_1window_1_1_mouse_button_types.html#a8421a50986b384eb037e31a522bc223b">window::MouseButtonType</a> mouseButton, <span class="keyword">const</span> LPARAM lParam, <span class="keyword">const</span> WPARAM wParam) {</div><div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;            <span class="keyword">using namespace </span>window;</div><div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;            <a class="code" href="structfpl_1_1window_1_1_event.html">Event</a> newEvent = {};</div><div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;            newEvent.<a class="code" href="structfpl_1_1window_1_1_event.html#ae69cd7351a23ee07a9c6c663d5c5aea7">type</a> = <a class="code" href="namespacefpl_1_1window_1_1_event_types.html#ac1b654b98c2774f73b1b089f2886fc4fa62fb237bdef80b33d913c0d9f3f871bc">EventType::Mouse</a>;</div><div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;            newEvent.<a class="code" href="structfpl_1_1window_1_1_event.html#a64673c8ea91ac21ce618ed73fe413ba8">mouse</a>.<a class="code" href="structfpl_1_1window_1_1_mouse_event.html#a02fd8b5e3c93af2f4ee09413f3c572e8">type</a> = mouseEventType;</div><div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;            newEvent.<a class="code" href="structfpl_1_1window_1_1_event.html#a64673c8ea91ac21ce618ed73fe413ba8">mouse</a>.<a class="code" href="structfpl_1_1window_1_1_mouse_event.html#a136ee8b168ff61ddb332ad1120712871">mouseX</a> = GET_X_LPARAM(lParam);</div><div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;            newEvent.<a class="code" href="structfpl_1_1window_1_1_event.html#a64673c8ea91ac21ce618ed73fe413ba8">mouse</a>.<a class="code" href="structfpl_1_1window_1_1_mouse_event.html#a5d5ee5899dda9956c45362ec2cf7e0da">mouseY</a> = GET_Y_LPARAM(lParam);</div><div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;            newEvent.<a class="code" href="structfpl_1_1window_1_1_event.html#a64673c8ea91ac21ce618ed73fe413ba8">mouse</a>.<a class="code" href="structfpl_1_1window_1_1_mouse_event.html#a1ea9badf6365cb020c77e735ca6e2298">mouseButton</a> = mouseButton;</div><div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;            <span class="keywordflow">if</span> (mouseEventType == <a class="code" href="namespacefpl_1_1window_1_1_mouse_event_types.html#abac384b9b1e9bdf36d032f1c9ffcaa14a850f4423b60f418b9257cab7015c6d3a">MouseEventType::Wheel</a>) {</div><div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;                <span class="keywordtype">short</span> zDelta = GET_WHEEL_DELTA_WPARAM(wParam);</div><div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;                newEvent.<a class="code" href="structfpl_1_1window_1_1_event.html#a64673c8ea91ac21ce618ed73fe413ba8">mouse</a>.<a class="code" href="structfpl_1_1window_1_1_mouse_event.html#ae41d90b6630a3feecb2c2a72d9d64af5">wheelDelta</a> = (zDelta / (float)WHEEL_DELTA);</div><div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;            }</div><div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;            PushEvent(newEvent);</div><div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;        }</div><div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;</div><div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> <a class="code" href="namespacefpl_1_1window_1_1_keys.html#a2b24ab19a42e1be46413638f656803d6">window::Key</a> Win32MapVirtualKey(<span class="keyword">const</span> uint64_t keyCode) {</div><div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;            <span class="keyword">using namespace </span>window;</div><div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;            <span class="keywordflow">switch</span> (keyCode) {</div><div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;                <span class="keywordflow">case</span> VK_BACK:</div><div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Backspace;</div><div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;                <span class="keywordflow">case</span> VK_TAB:</div><div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Tab;</div><div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;</div><div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;                <span class="keywordflow">case</span> VK_CLEAR:</div><div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Clear;</div><div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;                <span class="keywordflow">case</span> VK_RETURN:</div><div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Enter;</div><div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;</div><div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;                <span class="keywordflow">case</span> VK_SHIFT:</div><div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Shift;</div><div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;                <span class="keywordflow">case</span> VK_CONTROL:</div><div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Control;</div><div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;                <span class="keywordflow">case</span> VK_MENU:</div><div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Alt;</div><div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;                <span class="keywordflow">case</span> VK_PAUSE:</div><div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Pause;</div><div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;                <span class="keywordflow">case</span> VK_CAPITAL:</div><div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_CapsLock;</div><div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;</div><div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;                <span class="keywordflow">case</span> VK_ESCAPE:</div><div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Escape;</div><div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;                <span class="keywordflow">case</span> VK_SPACE:</div><div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Space;</div><div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;                <span class="keywordflow">case</span> VK_PRIOR:</div><div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_PageUp;</div><div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;                <span class="keywordflow">case</span> VK_NEXT:</div><div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_PageDown;</div><div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;                <span class="keywordflow">case</span> VK_END:</div><div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_End;</div><div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;                <span class="keywordflow">case</span> VK_HOME:</div><div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Home;</div><div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;                <span class="keywordflow">case</span> VK_LEFT:</div><div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Left;</div><div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;                <span class="keywordflow">case</span> VK_UP:</div><div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Up;</div><div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;                <span class="keywordflow">case</span> VK_RIGHT:</div><div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Right;</div><div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;                <span class="keywordflow">case</span> VK_DOWN:</div><div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Down;</div><div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;                <span class="keywordflow">case</span> VK_SELECT:</div><div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Select;</div><div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;                <span class="keywordflow">case</span> VK_PRINT:</div><div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Print;</div><div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;                <span class="keywordflow">case</span> VK_EXECUTE:</div><div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Execute;</div><div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;                <span class="keywordflow">case</span> VK_SNAPSHOT:</div><div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Snapshot;</div><div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;                <span class="keywordflow">case</span> VK_INSERT:</div><div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Insert;</div><div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;                <span class="keywordflow">case</span> VK_DELETE:</div><div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Delete;</div><div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;                <span class="keywordflow">case</span> VK_HELP:</div><div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Help;</div><div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;</div><div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;                <span class="keywordflow">case</span> 0x30:</div><div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_0;</div><div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;                <span class="keywordflow">case</span> 0x31:</div><div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_1;</div><div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;                <span class="keywordflow">case</span> 0x32:</div><div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_2;</div><div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;                <span class="keywordflow">case</span> 0x33:</div><div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_3;</div><div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;                <span class="keywordflow">case</span> 0x34:</div><div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_4;</div><div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;                <span class="keywordflow">case</span> 0x35:</div><div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_5;</div><div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;                <span class="keywordflow">case</span> 0x36:</div><div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_6;</div><div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;                <span class="keywordflow">case</span> 0x37:</div><div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_7;</div><div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;                <span class="keywordflow">case</span> 0x38:</div><div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_8;</div><div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;                <span class="keywordflow">case</span> 0x39:</div><div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_9;</div><div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;</div><div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;                <span class="keywordflow">case</span> 0x41:</div><div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_A;</div><div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;                <span class="keywordflow">case</span> 0x42:</div><div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_B;</div><div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;                <span class="keywordflow">case</span> 0x43:</div><div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_C;</div><div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;                <span class="keywordflow">case</span> 0x44:</div><div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_D;</div><div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;                <span class="keywordflow">case</span> 0x45:</div><div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_E;</div><div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;                <span class="keywordflow">case</span> 0x46:</div><div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_F;</div><div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;                <span class="keywordflow">case</span> 0x47:</div><div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_G;</div><div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;                <span class="keywordflow">case</span> 0x48:</div><div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_H;</div><div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;                <span class="keywordflow">case</span> 0x49:</div><div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_I;</div><div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;                <span class="keywordflow">case</span> 0x4A:</div><div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_J;</div><div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;                <span class="keywordflow">case</span> 0x4B:</div><div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_K;</div><div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;                <span class="keywordflow">case</span> 0x4C:</div><div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_L;</div><div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;                <span class="keywordflow">case</span> 0x4D:</div><div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_M;</div><div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;                <span class="keywordflow">case</span> 0x4E:</div><div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_N;</div><div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;                <span class="keywordflow">case</span> 0x4F:</div><div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_O;</div><div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;                <span class="keywordflow">case</span> 0x50:</div><div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_P;</div><div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;                <span class="keywordflow">case</span> 0x51:</div><div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Q;</div><div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;                <span class="keywordflow">case</span> 0x52:</div><div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_R;</div><div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;                <span class="keywordflow">case</span> 0x53:</div><div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_S;</div><div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;                <span class="keywordflow">case</span> 0x54:</div><div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_T;</div><div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;                <span class="keywordflow">case</span> 0x55:</div><div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_U;</div><div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;                <span class="keywordflow">case</span> 0x56:</div><div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_V;</div><div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;                <span class="keywordflow">case</span> 0x57:</div><div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_W;</div><div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;                <span class="keywordflow">case</span> 0x58:</div><div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_X;</div><div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;                <span class="keywordflow">case</span> 0x59:</div><div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Y;</div><div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;                <span class="keywordflow">case</span> 0x5A:</div><div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Z;</div><div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;</div><div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;                <span class="keywordflow">case</span> VK_LWIN:</div><div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_LeftWin;</div><div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;                <span class="keywordflow">case</span> VK_RWIN:</div><div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_RightWin;</div><div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;                <span class="keywordflow">case</span> VK_APPS:</div><div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Apps;</div><div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;</div><div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;                <span class="keywordflow">case</span> VK_SLEEP:</div><div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Sleep;</div><div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;                <span class="keywordflow">case</span> VK_NUMPAD0:</div><div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_NumPad0;</div><div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;                <span class="keywordflow">case</span> VK_NUMPAD1:</div><div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_NumPad1;</div><div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;                <span class="keywordflow">case</span> VK_NUMPAD2:</div><div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_NumPad2;</div><div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;                <span class="keywordflow">case</span> VK_NUMPAD3:</div><div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_NumPad3;</div><div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;                <span class="keywordflow">case</span> VK_NUMPAD4:</div><div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_NumPad4;</div><div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;                <span class="keywordflow">case</span> VK_NUMPAD5:</div><div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_NumPad5;</div><div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;                <span class="keywordflow">case</span> VK_NUMPAD6:</div><div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_NumPad6;</div><div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;                <span class="keywordflow">case</span> VK_NUMPAD7:</div><div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_NumPad7;</div><div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;                <span class="keywordflow">case</span> VK_NUMPAD8:</div><div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_NumPad8;</div><div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;                <span class="keywordflow">case</span> VK_NUMPAD9:</div><div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_NumPad9;</div><div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;                <span class="keywordflow">case</span> VK_MULTIPLY:</div><div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Multiply;</div><div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;                <span class="keywordflow">case</span> VK_ADD:</div><div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Add;</div><div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;                <span class="keywordflow">case</span> VK_SEPARATOR:</div><div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Separator;</div><div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;                <span class="keywordflow">case</span> VK_SUBTRACT:</div><div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Substract;</div><div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;                <span class="keywordflow">case</span> VK_DECIMAL:</div><div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Decimal;</div><div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;                <span class="keywordflow">case</span> VK_DIVIDE:</div><div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_Divide;</div><div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;                <span class="keywordflow">case</span> VK_F1:</div><div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_F1;</div><div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;                <span class="keywordflow">case</span> VK_F2:</div><div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_F2;</div><div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;                <span class="keywordflow">case</span> VK_F3:</div><div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_F3;</div><div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;                <span class="keywordflow">case</span> VK_F4:</div><div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_F4;</div><div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;                <span class="keywordflow">case</span> VK_F5:</div><div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_F5;</div><div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;                <span class="keywordflow">case</span> VK_F6:</div><div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_F6;</div><div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;                <span class="keywordflow">case</span> VK_F7:</div><div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_F7;</div><div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;                <span class="keywordflow">case</span> VK_F8:</div><div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_F8;</div><div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;                <span class="keywordflow">case</span> VK_F9:</div><div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_F9;</div><div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;                <span class="keywordflow">case</span> VK_F10:</div><div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_F10;</div><div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;                <span class="keywordflow">case</span> VK_F11:</div><div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_F11;</div><div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;                <span class="keywordflow">case</span> VK_F12:</div><div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_F12;</div><div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;                <span class="keywordflow">case</span> VK_F13:</div><div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_F13;</div><div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;                <span class="keywordflow">case</span> VK_F14:</div><div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_F14;</div><div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;                <span class="keywordflow">case</span> VK_F15:</div><div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_F15;</div><div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;                <span class="keywordflow">case</span> VK_F16:</div><div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_F16;</div><div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;                <span class="keywordflow">case</span> VK_F17:</div><div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_F17;</div><div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;                <span class="keywordflow">case</span> VK_F18:</div><div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_F18;</div><div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;                <span class="keywordflow">case</span> VK_F19:</div><div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_F19;</div><div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;                <span class="keywordflow">case</span> VK_F20:</div><div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_F20;</div><div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;                <span class="keywordflow">case</span> VK_F21:</div><div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_F21;</div><div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;                <span class="keywordflow">case</span> VK_F22:</div><div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_F22;</div><div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;                <span class="keywordflow">case</span> VK_F23:</div><div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_F23;</div><div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;                <span class="keywordflow">case</span> VK_F24:</div><div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_F24;</div><div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;</div><div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;                <span class="keywordflow">case</span> VK_LSHIFT:</div><div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_LeftShift;</div><div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;                <span class="keywordflow">case</span> VK_RSHIFT:</div><div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_RightShift;</div><div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;                <span class="keywordflow">case</span> VK_LCONTROL:</div><div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_LeftControl;</div><div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;                <span class="keywordflow">case</span> VK_RCONTROL:</div><div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_RightControl;</div><div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;                <span class="keywordflow">case</span> VK_LMENU:</div><div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_LeftAlt;</div><div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;                <span class="keywordflow">case</span> VK_RMENU:</div><div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_RightAlt;</div><div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;</div><div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;                <span class="keywordflow">default</span>:</div><div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;                    <span class="keywordflow">return</span> Keys::Key_None;</div><div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;            }</div><div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;        }</div><div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;</div><div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a2cde79ef58944162158c81a4d5b754dd">fpl_internal_inline</a> <span class="keywordtype">void</span> Win32PushKeyboardEvent(<span class="keyword">const</span> <a class="code" href="namespacefpl_1_1window_1_1_keyboard_event_types.html#af2b159019bbc4f7c214b73c3dea46065">window::KeyboardEventType</a> keyboardEventType, <span class="keyword">const</span> uint64_t keyCode, <span class="keyword">const</span> <a class="code" href="namespacefpl_1_1window_1_1_keyboard_modifier_flags.html#a957a3d95f8261e7566585d65f203300d">window::KeyboardModifierFlag</a> modifiers, <span class="keyword">const</span> <span class="keywordtype">bool</span> isDown) {</div><div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;            <span class="keyword">using namespace </span>window;</div><div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;            <a class="code" href="structfpl_1_1window_1_1_event.html">Event</a> newEvent = {};</div><div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;            newEvent.<a class="code" href="structfpl_1_1window_1_1_event.html#ae69cd7351a23ee07a9c6c663d5c5aea7">type</a> = <a class="code" href="namespacefpl_1_1window_1_1_event_types.html#ac1b654b98c2774f73b1b089f2886fc4fa95de089620c87e61cea894813fd0ce4f">EventType::Keyboard</a>;</div><div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;            newEvent.<a class="code" href="structfpl_1_1window_1_1_event.html#af9170219764a7483a8efee8902da44e6">keyboard</a>.<a class="code" href="structfpl_1_1window_1_1_keyboard_event.html#a814da8ae88851382d5bdcf27f96d2cc9">keyCode</a> = keyCode;</div><div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;            newEvent.<a class="code" href="structfpl_1_1window_1_1_event.html#af9170219764a7483a8efee8902da44e6">keyboard</a>.<a class="code" href="structfpl_1_1window_1_1_keyboard_event.html#ac2d511ffa600d151cf5c7f9a1882a51a">mappedKey</a> = Win32MapVirtualKey(keyCode);</div><div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;            newEvent.<a class="code" href="structfpl_1_1window_1_1_event.html#af9170219764a7483a8efee8902da44e6">keyboard</a>.<a class="code" href="structfpl_1_1window_1_1_keyboard_event.html#affe49621057130737467d58fa1b20584">type</a> = keyboardEventType;</div><div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;            newEvent.<a class="code" href="structfpl_1_1window_1_1_event.html#af9170219764a7483a8efee8902da44e6">keyboard</a>.<a class="code" href="structfpl_1_1window_1_1_keyboard_event.html#a776e0c3c6fdf991c605697e46a417abd">modifiers</a> = modifiers;</div><div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;            PushEvent(newEvent);</div><div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;        }</div><div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;</div><div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a2cde79ef58944162158c81a4d5b754dd">fpl_internal_inline</a> <span class="keywordtype">bool</span> Win32IsKeyDown(<span class="keyword">const</span> uint64_t keyCode) {</div><div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;            Win32APIFunctions &amp;api = global__Win32__API__Functions;</div><div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;            <span class="keywordtype">bool</span> result = (api.user.getAsyncKeyState((<span class="keywordtype">int</span>)keyCode) &amp; 0x8000) &gt; 0;</div><div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;        }</div><div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;</div><div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;        LRESULT CALLBACK Win32MessageProc(HWND hwnd, UINT msg, WPARAM wParam, LPARAM lParam) {</div><div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;            <span class="keyword">using namespace </span>window;</div><div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;</div><div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(platform::global__Win32__State != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;            platform::Win32State *win32State = platform::global__Win32__State;</div><div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;            platform::Win32APIFunctions &amp;wapi = platform::global__Win32__API__Functions;</div><div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;</div><div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;            <span class="keywordflow">if</span> (!win32State-&gt;window.windowHandle) {</div><div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;                <span class="keywordflow">return</span> win32_defWindowProc(hwnd, msg, wParam, lParam);</div><div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;            }</div><div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;</div><div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;            LRESULT result = 0;</div><div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;            <span class="keywordflow">switch</span> (msg) {</div><div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;                <span class="keywordflow">case</span> WM_DESTROY:</div><div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;                <span class="keywordflow">case</span> WM_CLOSE:</div><div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;                {</div><div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;                    win32State-&gt;window.isRunning = <span class="keyword">false</span>;</div><div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;                } <span class="keywordflow">break</span>;</div><div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;</div><div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;                <span class="keywordflow">case</span> WM_SIZE:</div><div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;                {</div><div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;<span class="preprocessor">#               if defined(FPL_ENABLE_VIDEO_SOFTWARE)</span></div><div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;                    <span class="keywordflow">if</span> (win32State-&gt;video.activeVideoDriver == <a class="code" href="namespacefpl_1_1_video_driver_types.html#a258cb7cd4b12cc998472708f70d55f7facec18deb73c81ed6ac84319bfb4311db">VideoDriverType::Software</a>) {</div><div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;                        <span class="keywordflow">if</span> (win32State-&gt;initSettings.video.isAutoSize) {</div><div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;                            uint32_t w = LOWORD(lParam);</div><div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;                            uint32_t h = HIWORD(lParam);</div><div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;                            <span class="keywordflow">if</span> ((w != win32State-&gt;video.software.context.width) ||</div><div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;                                (h != win32State-&gt;video.software.context.height)) {</div><div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;                                platform::Win32ReleaseVideoSoftware(win32State);</div><div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;                                platform::Win32InitVideoSoftware(win32State, w, h);</div><div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;                            }</div><div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;                        }</div><div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;                    }</div><div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;<span class="preprocessor">#               endif</span></div><div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;</div><div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;                    <a class="code" href="structfpl_1_1window_1_1_event.html">Event</a> newEvent = {};</div><div class="line"><a name="l04047"></a><span class="lineno"> 4047</span>&#160;                    newEvent.<a class="code" href="structfpl_1_1window_1_1_event.html#ae69cd7351a23ee07a9c6c663d5c5aea7">type</a> = <a class="code" href="namespacefpl_1_1window_1_1_event_types.html#ac1b654b98c2774f73b1b089f2886fc4face10a215276c2c038697d49b40777141">EventType::Window</a>;</div><div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;                    newEvent.<a class="code" href="structfpl_1_1window_1_1_event.html#a43d5437c746ee44af2904cff2304bdae">window</a>.<a class="code" href="structfpl_1_1window_1_1_window_event.html#abb7deca08eaa49b67630ec0c949d1b98">type</a> = <a class="code" href="namespacefpl_1_1window_1_1_window_event_types.html#abe653c1f4e9a9e70d79b5df52aacb6c5a697948bad8a0fcc5ffa385461bfe2e4c">WindowEventType::Resized</a>;</div><div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;                    newEvent.<a class="code" href="structfpl_1_1window_1_1_event.html#a43d5437c746ee44af2904cff2304bdae">window</a>.<a class="code" href="structfpl_1_1window_1_1_window_event.html#afc9891648a45cc2c5a9a0eeb00d3921b">width</a> = LOWORD(lParam);</div><div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;                    newEvent.<a class="code" href="structfpl_1_1window_1_1_event.html#a43d5437c746ee44af2904cff2304bdae">window</a>.<a class="code" href="structfpl_1_1window_1_1_window_event.html#ab5dfad611a3b242d0b144388f5c0d082">height</a> = HIWORD(lParam);</div><div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;                    platform::PushEvent(newEvent);</div><div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;                } <span class="keywordflow">break</span>;</div><div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;</div><div class="line"><a name="l04054"></a><span class="lineno"> 4054</span>&#160;                <span class="keywordflow">case</span> WM_SYSKEYDOWN:</div><div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;                <span class="keywordflow">case</span> WM_SYSKEYUP:</div><div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;                <span class="keywordflow">case</span> WM_KEYDOWN:</div><div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;                <span class="keywordflow">case</span> WM_KEYUP:</div><div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;                {</div><div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;                    uint64_t keyCode = wParam;</div><div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;                    <span class="keywordtype">bool</span> wasDown = ((lParam &amp; (1 &lt;&lt; 30)) != 0);</div><div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;                    <span class="keywordtype">bool</span> isDown = ((lParam &amp; (1 &lt;&lt; 31)) == 0);</div><div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;</div><div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;                    <span class="keywordtype">bool</span> altKeyWasDown = platform::Win32IsKeyDown(VK_MENU);</div><div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;                    <span class="keywordtype">bool</span> shiftKeyWasDown = platform::Win32IsKeyDown(VK_LSHIFT);</div><div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;                    <span class="keywordtype">bool</span> ctrlKeyWasDown = platform::Win32IsKeyDown(VK_LCONTROL);</div><div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;                    <span class="keywordtype">bool</span> superKeyWasDown = platform::Win32IsKeyDown(VK_LMENU);</div><div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;</div><div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;                    <a class="code" href="namespacefpl_1_1window_1_1_keyboard_event_types.html#af2b159019bbc4f7c214b73c3dea46065">KeyboardEventType</a> keyEventType = isDown ? <a class="code" href="namespacefpl_1_1window_1_1_keyboard_event_types.html#af2b159019bbc4f7c214b73c3dea46065a40cb6f5c46629af04e9466543dd9c8e9">KeyboardEventType::KeyDown</a> : <a class="code" href="namespacefpl_1_1window_1_1_keyboard_event_types.html#af2b159019bbc4f7c214b73c3dea46065a0d73e43135c53ca18e755b10bff1dd31">KeyboardEventType::KeyUp</a>;</div><div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;                    <a class="code" href="namespacefpl_1_1window_1_1_keyboard_modifier_flags.html#a957a3d95f8261e7566585d65f203300d">KeyboardModifierFlag</a> modifiers = <a class="code" href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6afc310a3cf2b78b9d8ac95038bacb25c7">KeyboardModifierFlags::None</a>;</div><div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;                    <span class="keywordflow">if</span> (altKeyWasDown) {</div><div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;                        modifiers |= <a class="code" href="namespacefpl_1_1window_1_1_keyboard_modifier_flags.html#a957a3d95f8261e7566585d65f203300da765bb73e65a7cce7197d8c595c24f63d">KeyboardModifierFlags::Alt</a>;</div><div class="line"><a name="l04072"></a><span class="lineno"> 4072</span>&#160;                    }</div><div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;                    <span class="keywordflow">if</span> (shiftKeyWasDown) {</div><div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;                        modifiers |= <a class="code" href="namespacefpl_1_1window_1_1_keyboard_modifier_flags.html#a957a3d95f8261e7566585d65f203300da80081e7c30d4047ee227dd2c226b7cef">KeyboardModifierFlags::Shift</a>;</div><div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;                    }</div><div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;                    <span class="keywordflow">if</span> (ctrlKeyWasDown) {</div><div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;                        modifiers |= <a class="code" href="namespacefpl_1_1window_1_1_keyboard_modifier_flags.html#a957a3d95f8261e7566585d65f203300da010c62082cc00f9ea71fc83b9470f9b0">KeyboardModifierFlags::Ctrl</a>;</div><div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;                    }</div><div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;                    <span class="keywordflow">if</span> (superKeyWasDown) {</div><div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;                        modifiers |= <a class="code" href="namespacefpl_1_1window_1_1_keyboard_modifier_flags.html#a957a3d95f8261e7566585d65f203300da44f3ffe3ef7d60b54a3275b19969d297">KeyboardModifierFlags::Super</a>;</div><div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;                    }</div><div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;                    platform::Win32PushKeyboardEvent(keyEventType, keyCode, modifiers, isDown);</div><div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;</div><div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;                    <span class="keywordflow">if</span> (wasDown != isDown) {</div><div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;                        <span class="keywordflow">if</span> (isDown) {</div><div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;                            <span class="keywordflow">if</span> (keyCode == VK_F4 &amp;&amp; altKeyWasDown) {</div><div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;                                win32State-&gt;window.isRunning = 0;</div><div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;                            }</div><div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;                        }</div><div class="line"><a name="l04090"></a><span class="lineno"> 4090</span>&#160;                    }</div><div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;                } <span class="keywordflow">break</span>;</div><div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;</div><div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;                <span class="keywordflow">case</span> WM_CHAR:</div><div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;                {</div><div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;                    uint64_t keyCode = wParam;</div><div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;                    <a class="code" href="namespacefpl_1_1window_1_1_keyboard_modifier_flags.html#a957a3d95f8261e7566585d65f203300d">KeyboardModifierFlag</a> modifiers = <a class="code" href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6afc310a3cf2b78b9d8ac95038bacb25c7">KeyboardModifierFlags::None</a>;</div><div class="line"><a name="l04097"></a><span class="lineno"> 4097</span>&#160;                    platform::Win32PushKeyboardEvent(<a class="code" href="namespacefpl_1_1window_1_1_keyboard_event_types.html#af2b159019bbc4f7c214b73c3dea46065a0381bf6d189dc4c1a25d3ce5a0c3ae5d">KeyboardEventType::Char</a>, keyCode, modifiers, 0);</div><div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;                } <span class="keywordflow">break</span>;</div><div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;</div><div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;                <span class="keywordflow">case</span> WM_ACTIVATE:</div><div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;                {</div><div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;                    <a class="code" href="structfpl_1_1window_1_1_event.html">Event</a> newEvent = {};</div><div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;                    newEvent.<a class="code" href="structfpl_1_1window_1_1_event.html#ae69cd7351a23ee07a9c6c663d5c5aea7">type</a> = <a class="code" href="namespacefpl_1_1window_1_1_event_types.html#ac1b654b98c2774f73b1b089f2886fc4face10a215276c2c038697d49b40777141">EventType::Window</a>;</div><div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;                    <span class="keywordflow">if</span> (wParam == WA_INACTIVE) {</div><div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;                        newEvent.<a class="code" href="structfpl_1_1window_1_1_event.html#a43d5437c746ee44af2904cff2304bdae">window</a>.<a class="code" href="structfpl_1_1window_1_1_window_event.html#abb7deca08eaa49b67630ec0c949d1b98">type</a> = <a class="code" href="namespacefpl_1_1window_1_1_window_event_types.html#abe653c1f4e9a9e70d79b5df52aacb6c5aa64186511c76a94680b6d0dd4cdb9ec6">WindowEventType::LostFocus</a>;</div><div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;                    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;                        newEvent.<a class="code" href="structfpl_1_1window_1_1_event.html#a43d5437c746ee44af2904cff2304bdae">window</a>.<a class="code" href="structfpl_1_1window_1_1_window_event.html#abb7deca08eaa49b67630ec0c949d1b98">type</a> = <a class="code" href="namespacefpl_1_1window_1_1_window_event_types.html#abe653c1f4e9a9e70d79b5df52aacb6c5a866464f3fbbe904285b6e60dcbcb6162">WindowEventType::GotFocus</a>;</div><div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;                    }</div><div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;                    platform::PushEvent(newEvent);</div><div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;                } <span class="keywordflow">break</span>;</div><div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;</div><div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;                <span class="keywordflow">case</span> WM_LBUTTONDOWN:</div><div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;                <span class="keywordflow">case</span> WM_LBUTTONUP:</div><div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;                {</div><div class="line"><a name="l04115"></a><span class="lineno"> 4115</span>&#160;                    <a class="code" href="namespacefpl_1_1window_1_1_mouse_event_types.html#abac384b9b1e9bdf36d032f1c9ffcaa14">MouseEventType</a> mouseEventType;</div><div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;                    <span class="keywordflow">if</span> (msg == WM_LBUTTONDOWN) {</div><div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;                        mouseEventType = <a class="code" href="namespacefpl_1_1window_1_1_mouse_event_types.html#abac384b9b1e9bdf36d032f1c9ffcaa14a2df562dfe92c28636667d9ad45185112">MouseEventType::ButtonDown</a>;</div><div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;                    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;                        mouseEventType = <a class="code" href="namespacefpl_1_1window_1_1_mouse_event_types.html#abac384b9b1e9bdf36d032f1c9ffcaa14a5ea737a7499c5c730c54f7761bd47075">MouseEventType::ButtonUp</a>;</div><div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;                    }</div><div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;                    platform::Win32PushMouseEvent(mouseEventType, <a class="code" href="namespacefpl_1_1window_1_1_mouse_button_types.html#a8421a50986b384eb037e31a522bc223baaf3a59f7250896516d4eff21c8c3d697">MouseButtonType::Left</a>, lParam, wParam);</div><div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;                } <span class="keywordflow">break</span>;</div><div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;                <span class="keywordflow">case</span> WM_RBUTTONDOWN:</div><div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;                <span class="keywordflow">case</span> WM_RBUTTONUP:</div><div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;                {</div><div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;                    <a class="code" href="namespacefpl_1_1window_1_1_mouse_event_types.html#abac384b9b1e9bdf36d032f1c9ffcaa14">MouseEventType</a> mouseEventType;</div><div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;                    <span class="keywordflow">if</span> (msg == WM_RBUTTONDOWN) {</div><div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;                        mouseEventType = <a class="code" href="namespacefpl_1_1window_1_1_mouse_event_types.html#abac384b9b1e9bdf36d032f1c9ffcaa14a2df562dfe92c28636667d9ad45185112">MouseEventType::ButtonDown</a>;</div><div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;                    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;                        mouseEventType = <a class="code" href="namespacefpl_1_1window_1_1_mouse_event_types.html#abac384b9b1e9bdf36d032f1c9ffcaa14a5ea737a7499c5c730c54f7761bd47075">MouseEventType::ButtonUp</a>;</div><div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;                    }</div><div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;                    platform::Win32PushMouseEvent(mouseEventType, <a class="code" href="namespacefpl_1_1window_1_1_mouse_button_types.html#a8421a50986b384eb037e31a522bc223ba21e18548a024a2d281a1ecb3a936d1f9">MouseButtonType::Right</a>, lParam, wParam);</div><div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;                } <span class="keywordflow">break</span>;</div><div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;                <span class="keywordflow">case</span> WM_MBUTTONDOWN:</div><div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;                <span class="keywordflow">case</span> WM_MBUTTONUP:</div><div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;                {</div><div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;                    <a class="code" href="namespacefpl_1_1window_1_1_mouse_event_types.html#abac384b9b1e9bdf36d032f1c9ffcaa14">MouseEventType</a> mouseEventType;</div><div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;                    <span class="keywordflow">if</span> (msg == WM_MBUTTONDOWN) {</div><div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;                        mouseEventType = <a class="code" href="namespacefpl_1_1window_1_1_mouse_event_types.html#abac384b9b1e9bdf36d032f1c9ffcaa14a2df562dfe92c28636667d9ad45185112">MouseEventType::ButtonDown</a>;</div><div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;                    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;                        mouseEventType = <a class="code" href="namespacefpl_1_1window_1_1_mouse_event_types.html#abac384b9b1e9bdf36d032f1c9ffcaa14a5ea737a7499c5c730c54f7761bd47075">MouseEventType::ButtonUp</a>;</div><div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;                    }</div><div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;                    platform::Win32PushMouseEvent(mouseEventType, <a class="code" href="namespacefpl_1_1window_1_1_mouse_button_types.html#a8421a50986b384eb037e31a522bc223ba4a378f4f26388bd008fec836bf48b89c">MouseButtonType::Middle</a>, lParam, wParam);</div><div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;                } <span class="keywordflow">break</span>;</div><div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;                <span class="keywordflow">case</span> WM_MOUSEMOVE:</div><div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;                {</div><div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;                    platform::Win32PushMouseEvent(<a class="code" href="namespacefpl_1_1window_1_1_mouse_event_types.html#abac384b9b1e9bdf36d032f1c9ffcaa14a6fd26cf62de67b3267881614e7439d2c">MouseEventType::Move</a>, <a class="code" href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6afc310a3cf2b78b9d8ac95038bacb25c7">MouseButtonType::None</a>, lParam, wParam);</div><div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;                } <span class="keywordflow">break</span>;</div><div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;                <span class="keywordflow">case</span> WM_MOUSEWHEEL:</div><div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;                {</div><div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;                    platform::Win32PushMouseEvent(<a class="code" href="namespacefpl_1_1window_1_1_mouse_event_types.html#abac384b9b1e9bdf36d032f1c9ffcaa14a850f4423b60f418b9257cab7015c6d3a">MouseEventType::Wheel</a>, <a class="code" href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6afc310a3cf2b78b9d8ac95038bacb25c7">MouseButtonType::None</a>, lParam, wParam);</div><div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;                } <span class="keywordflow">break</span>;</div><div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;</div><div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;                <span class="keywordflow">case</span> WM_SETCURSOR:</div><div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;                {</div><div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;                    <span class="comment">// @TODO(final): This is not right to assume default cursor always, because the size cursor does not work this way!</span></div><div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;                    <span class="keywordflow">if</span> (win32State-&gt;window.isCursorActive) {</div><div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;                        HCURSOR cursor = wapi.user.getCursor();</div><div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;                        wapi.user.setCursor(cursor);</div><div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;                    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;                        wapi.user.setCursor(<a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;                        <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;                    }</div><div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;                } <span class="keywordflow">break</span>;</div><div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;</div><div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;                <span class="keywordflow">case</span> WM_ERASEBKGND:</div><div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;                {</div><div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;                    <span class="comment">// Prevent erase background always</span></div><div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;                    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;                } <span class="keywordflow">break</span>;</div><div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;</div><div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;                <span class="keywordflow">default</span>:</div><div class="line"><a name="l04173"></a><span class="lineno"> 4173</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;            }</div><div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;            result = win32_defWindowProc(hwnd, msg, wParam, lParam);</div><div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;        }</div><div class="line"><a name="l04178"></a><span class="lineno"> 4178</span>&#160;</div><div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> <span class="keywordtype">bool</span> Win32InitWindow(Win32State &amp;win32State, <span class="keyword">const</span> <a class="code" href="structfpl_1_1_settings.html">Settings</a> &amp;initSettings) {</div><div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;            Win32APIFunctions &amp;wapi = global__Win32__API__Functions;</div><div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;</div><div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;            <span class="comment">// Register window class</span></div><div class="line"><a name="l04183"></a><span class="lineno"> 4183</span>&#160;            win32_wndclassex windowClass = {};</div><div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;            windowClass.cbSize = <span class="keyword">sizeof</span>(win32_wndclassex);</div><div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;            windowClass.hInstance = GetModuleHandleA(<a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;            windowClass.hbrBackground = (HBRUSH)(COLOR_WINDOW + 1);</div><div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;            windowClass.cbSize = <span class="keyword">sizeof</span>(windowClass);</div><div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;            windowClass.style = CS_HREDRAW | CS_VREDRAW;</div><div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;            windowClass.hCursor = win32_loadCursor(<a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, IDC_ARROW);</div><div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;            windowClass.hIcon = win32_loadIcon(<a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, IDI_APPLICATION);</div><div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;            windowClass.hIconSm = win32_loadIcon(<a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, IDI_APPLICATION);</div><div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;            windowClass.lpszClassName = FPL_WIN32_CLASSNAME;</div><div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;            windowClass.lpfnWndProc = Win32MessageProc;</div><div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;            <span class="keywordflow">if</span> (initSettings.<a class="code" href="structfpl_1_1_settings.html#a8b742bb057a9113af5b547fe610f00ac">video</a>.<a class="code" href="structfpl_1_1_video_settings.html#a5d0998db137f081c4ae3ce3faa12de4a">driverType</a> == <a class="code" href="namespacefpl_1_1_video_driver_types.html#a258cb7cd4b12cc998472708f70d55f7fac98f1c1841b2c26aaf2cc06c9ce1d5b5">VideoDriverType::OpenGL</a>) {</div><div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;                windowClass.style |= CS_OWNDC;</div><div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;            }</div><div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;            win32_copyString(windowClass.lpszClassName, win32_getStringLength(windowClass.lpszClassName), win32State.window.windowClass, <a class="code" href="final__platform__layer_8hpp.html#a1b604d8132880ef082abb67661670eb8">FPL_ARRAYCOUNT</a>(win32State.window.windowClass));</div><div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;            <span class="keywordflow">if</span> (win32_registerClassEx(&amp;windowClass) == 0) {</div><div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;                common::PushError(<span class="stringliteral">&quot;[Win32] Failed Registering Window Class &#39;%s&#39;&quot;</span>, win32State.window.windowClass);</div><div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;            }</div><div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;</div><div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;            <span class="comment">// Allocate event queue</span></div><div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;            <span class="keywordtype">size_t</span> eventQueueMemorySize = <span class="keyword">sizeof</span>(EventQueue);</div><div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;            <span class="keywordtype">void</span> *eventQueueMemory = <a class="code" href="group___memory.html#gaf5ad819b0045c31a72d86c20d8f8dd34">memory::MemoryAlignedAllocate</a>(eventQueueMemorySize, 16);</div><div class="line"><a name="l04206"></a><span class="lineno"> 4206</span>&#160;            <span class="keywordflow">if</span> (eventQueueMemory == <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;                common::PushError(<span class="stringliteral">&quot;[Win32] Failed Allocating Event Queue Memory with size &#39;%llu&#39;!&quot;</span>, eventQueueMemorySize);</div><div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;            }</div><div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;            global__EventQueue = (EventQueue *)eventQueueMemory;</div><div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;</div><div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;            <span class="comment">// Create window</span></div><div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;            platform::win32_char windowTitleBuffer[1024];</div><div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;            platform::win32_char *windowTitle = FPL_WIN32_UNNAMED_WINDOW;</div><div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;            <a class="code" href="structfpl_1_1_window_settings.html">WindowSettings</a> &amp;currentWindowSettings = win32State.currentSettings.window;</div><div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;            currentWindowSettings.<a class="code" href="structfpl_1_1_window_settings.html#a6dd4ff9644d0c66ec29987264ff99ea4">isFullscreen</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group___strings.html#ga388ca55dd073575074821c146a585e2d">strings::GetAnsiStringLength</a>(initSettings.<a class="code" href="structfpl_1_1_settings.html#aadb06288e16db965235bdb22ff8c0ba9">window</a>.<a class="code" href="structfpl_1_1_window_settings.html#aa1cbe4154b924f8a071c595e12f552b7">windowTitle</a>) &gt; 0) {</div><div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;                win32_ansiToString(initSettings.<a class="code" href="structfpl_1_1_settings.html#aadb06288e16db965235bdb22ff8c0ba9">window</a>.<a class="code" href="structfpl_1_1_window_settings.html#aa1cbe4154b924f8a071c595e12f552b7">windowTitle</a>, <a class="code" href="group___strings.html#ga388ca55dd073575074821c146a585e2d">strings::GetAnsiStringLength</a>(initSettings.<a class="code" href="structfpl_1_1_settings.html#aadb06288e16db965235bdb22ff8c0ba9">window</a>.<a class="code" href="structfpl_1_1_window_settings.html#aa1cbe4154b924f8a071c595e12f552b7">windowTitle</a>), windowTitleBuffer, <a class="code" href="final__platform__layer_8hpp.html#a1b604d8132880ef082abb67661670eb8">FPL_ARRAYCOUNT</a>(windowTitleBuffer));</div><div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;                windowTitle = windowTitleBuffer;</div><div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;                <a class="code" href="group___strings.html#ga4540f0bb0f47aeba1a0900f9f107c188">strings::CopyAnsiString</a>(initSettings.<a class="code" href="structfpl_1_1_settings.html#aadb06288e16db965235bdb22ff8c0ba9">window</a>.<a class="code" href="structfpl_1_1_window_settings.html#aa1cbe4154b924f8a071c595e12f552b7">windowTitle</a>, <a class="code" href="group___strings.html#ga388ca55dd073575074821c146a585e2d">strings::GetAnsiStringLength</a>(initSettings.<a class="code" href="structfpl_1_1_settings.html#aadb06288e16db965235bdb22ff8c0ba9">window</a>.<a class="code" href="structfpl_1_1_window_settings.html#aa1cbe4154b924f8a071c595e12f552b7">windowTitle</a>), currentWindowSettings.<a class="code" href="structfpl_1_1_window_settings.html#aa1cbe4154b924f8a071c595e12f552b7">windowTitle</a>, <a class="code" href="final__platform__layer_8hpp.html#a1b604d8132880ef082abb67661670eb8">FPL_ARRAYCOUNT</a>(currentWindowSettings.<a class="code" href="structfpl_1_1_window_settings.html#aa1cbe4154b924f8a071c595e12f552b7">windowTitle</a>));</div><div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;            }</div><div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;</div><div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;            DWORD style;</div><div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;            DWORD exStyle;</div><div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;            <span class="keywordflow">if</span> (initSettings.<a class="code" href="structfpl_1_1_settings.html#aadb06288e16db965235bdb22ff8c0ba9">window</a>.<a class="code" href="structfpl_1_1_window_settings.html#a049bf1bec0382c593918aded3d701ca5">isResizable</a>) {</div><div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;                style = Win32ResizeableWindowStyle;</div><div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;                exStyle = Win32ResizeableWindowExtendedStyle;</div><div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;                currentWindowSettings.<a class="code" href="structfpl_1_1_window_settings.html#a049bf1bec0382c593918aded3d701ca5">isResizable</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;                style = Win32NonResizableWindowStyle;</div><div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;                exStyle = Win32NonResizableWindowExtendedStyle;</div><div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;                currentWindowSettings.<a class="code" href="structfpl_1_1_window_settings.html#a049bf1bec0382c593918aded3d701ca5">isResizable</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;            }</div><div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;</div><div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;            <span class="keywordtype">int</span> windowX = CW_USEDEFAULT;</div><div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;            <span class="keywordtype">int</span> windowY = CW_USEDEFAULT;</div><div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;            <span class="keywordtype">int</span> windowWidth;</div><div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;            <span class="keywordtype">int</span> windowHeight;</div><div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;            <span class="keywordflow">if</span> ((initSettings.<a class="code" href="structfpl_1_1_settings.html#aadb06288e16db965235bdb22ff8c0ba9">window</a>.<a class="code" href="structfpl_1_1_window_settings.html#a31f86bfc3450f5e82388fffb8c433b37">windowWidth</a> &gt; 0) &amp;&amp;</div><div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;                (initSettings.<a class="code" href="structfpl_1_1_settings.html#aadb06288e16db965235bdb22ff8c0ba9">window</a>.<a class="code" href="structfpl_1_1_window_settings.html#a88c6f32b1c14458bb428c51ed58a14a8">windowHeight</a> &gt; 0)) {</div><div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;                RECT windowRect;</div><div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;                windowRect.left = 0;</div><div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;                windowRect.top = 0;</div><div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;                windowRect.right = initSettings.<a class="code" href="structfpl_1_1_settings.html#aadb06288e16db965235bdb22ff8c0ba9">window</a>.<a class="code" href="structfpl_1_1_window_settings.html#a31f86bfc3450f5e82388fffb8c433b37">windowWidth</a>;</div><div class="line"><a name="l04245"></a><span class="lineno"> 4245</span>&#160;                windowRect.bottom = initSettings.<a class="code" href="structfpl_1_1_settings.html#aadb06288e16db965235bdb22ff8c0ba9">window</a>.<a class="code" href="structfpl_1_1_window_settings.html#a88c6f32b1c14458bb428c51ed58a14a8">windowHeight</a>;</div><div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;                wapi.user.adjustWindowRect(&amp;windowRect, style, <span class="keyword">false</span>);</div><div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;                windowWidth = windowRect.right - windowRect.left;</div><div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;                windowHeight = windowRect.bottom - windowRect.top;</div><div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;                <span class="comment">// @NOTE(final): Operating system decide how big the window should be.</span></div><div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;                windowWidth = CW_USEDEFAULT;</div><div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;                windowHeight = CW_USEDEFAULT;</div><div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;            }</div><div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;</div><div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;</div><div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;            <span class="comment">// Create window</span></div><div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;            win32State.window.windowHandle = win32_createWindowEx(exStyle, windowClass.lpszClassName, windowTitle, style, windowX, windowY, windowWidth, windowHeight, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, windowClass.hInstance, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;            <span class="keywordflow">if</span> (win32State.window.windowHandle == <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;                common::PushError(<span class="stringliteral">&quot;[Win32] Failed creating window for class &#39;%s&#39; and position (%d x %d) with size (%d x %d)&quot;</span>, win32State.window.windowClass, windowWidth, windowHeight, windowWidth, windowHeight);</div><div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;            }</div><div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;</div><div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;            <span class="comment">// Get actual window size and store results</span></div><div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;            currentWindowSettings.<a class="code" href="structfpl_1_1_window_settings.html#a31f86bfc3450f5e82388fffb8c433b37">windowWidth</a> = windowWidth;</div><div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;            currentWindowSettings.<a class="code" href="structfpl_1_1_window_settings.html#a88c6f32b1c14458bb428c51ed58a14a8">windowHeight</a> = windowHeight;</div><div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;            RECT clientRect;</div><div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;            <span class="keywordflow">if</span> (wapi.user.getClientRect(global__Win32__State-&gt;window.windowHandle, &amp;clientRect)) {</div><div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;                currentWindowSettings.<a class="code" href="structfpl_1_1_window_settings.html#a31f86bfc3450f5e82388fffb8c433b37">windowWidth</a> = clientRect.right - clientRect.left;</div><div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160;                currentWindowSettings.<a class="code" href="structfpl_1_1_window_settings.html#a88c6f32b1c14458bb428c51ed58a14a8">windowHeight</a> = clientRect.bottom - clientRect.top;</div><div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;            }</div><div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;</div><div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;            <span class="comment">// Get device context so we can swap the back and front buffer</span></div><div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;            win32State.window.deviceContext = wapi.user.getDC(win32State.window.windowHandle);</div><div class="line"><a name="l04274"></a><span class="lineno"> 4274</span>&#160;            <span class="keywordflow">if</span> (win32State.window.deviceContext == <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;                common::PushError(<span class="stringliteral">&quot;[Win32] Failed aquiring device context from window &#39;%d&#39;&quot;</span>, win32State.window.windowHandle);</div><div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;            }</div><div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;</div><div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;            <span class="comment">// Enter fullscreen if needed</span></div><div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;            <span class="keywordflow">if</span> (initSettings.<a class="code" href="structfpl_1_1_settings.html#aadb06288e16db965235bdb22ff8c0ba9">window</a>.<a class="code" href="structfpl_1_1_window_settings.html#a6dd4ff9644d0c66ec29987264ff99ea4">isFullscreen</a>) {</div><div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;                <a class="code" href="group___window_base.html#gad44e694b9233bea8dfd3aeb70de3744c">window::SetWindowFullscreen</a>(<span class="keyword">true</span>, initSettings.<a class="code" href="structfpl_1_1_settings.html#aadb06288e16db965235bdb22ff8c0ba9">window</a>.<a class="code" href="structfpl_1_1_window_settings.html#a6680b671207e7adae8b7852eeb64dbcb">fullscreenWidth</a>, initSettings.<a class="code" href="structfpl_1_1_settings.html#aadb06288e16db965235bdb22ff8c0ba9">window</a>.<a class="code" href="structfpl_1_1_window_settings.html#ad9928752d6f132c935d77aca667e649e">fullscreenHeight</a>);</div><div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;            }</div><div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;</div><div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;<span class="preprocessor">#       if defined(FPL_ENABLE_VIDEO)</span></div><div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;            <span class="comment">// Create opengl rendering context if required</span></div><div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;            win32State.video.activeVideoDriver = <a class="code" href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6afc310a3cf2b78b9d8ac95038bacb25c7">VideoDriverType::None</a>;</div><div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;            <span class="keywordflow">switch</span> (initSettings.<a class="code" href="structfpl_1_1_settings.html#a8b742bb057a9113af5b547fe610f00ac">video</a>.<a class="code" href="structfpl_1_1_video_settings.html#a5d0998db137f081c4ae3ce3faa12de4a">driverType</a>) {</div><div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;<span class="preprocessor">#           if defined(FPL_ENABLE_VIDEO_OPENGL)</span></div><div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespacefpl_1_1_video_driver_types.html#a258cb7cd4b12cc998472708f70d55f7fac98f1c1841b2c26aaf2cc06c9ce1d5b5">VideoDriverType::OpenGL</a>:</div><div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;                {</div><div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;                    <span class="keywordtype">bool</span> openglResult = platform::Win32InitVideoOpenGL(&amp;win32State, initSettings.<a class="code" href="structfpl_1_1_settings.html#a8b742bb057a9113af5b547fe610f00ac">video</a>);</div><div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;                    <span class="keywordflow">if</span> (!openglResult) {</div><div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;                        common::PushError(<span class="stringliteral">&quot;[Win32] Failed initializing OpenGL for window &#39;%d&#39;/&#39;%s&#39;&quot;</span>, win32State.window.windowHandle, win32State.window.windowClass);</div><div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;                    }</div><div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;                    win32State.video.activeVideoDriver = <a class="code" href="namespacefpl_1_1_video_driver_types.html#a258cb7cd4b12cc998472708f70d55f7fac98f1c1841b2c26aaf2cc06c9ce1d5b5">VideoDriverType::OpenGL</a>;</div><div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;                } <span class="keywordflow">break</span>;</div><div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;<span class="preprocessor">#           endif // FPL_ENABLE_VIDEO_OPENGL</span></div><div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160;</div><div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;<span class="preprocessor">#           if defined(FPL_ENABLE_VIDEO_SOFTWARE)</span></div><div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespacefpl_1_1_video_driver_types.html#a258cb7cd4b12cc998472708f70d55f7facec18deb73c81ed6ac84319bfb4311db">VideoDriverType::Software</a>:</div><div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;                {</div><div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;                    <span class="keywordtype">bool</span> softwareResult = platform::Win32InitVideoSoftware(&amp;win32State, windowWidth, windowHeight);</div><div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160;                    <span class="keywordflow">if</span> (!softwareResult) {</div><div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;                        common::PushError(<span class="stringliteral">&quot;[Win32] Failed creating software rendering buffer for window &#39;%d&#39;/&#39;%s&#39;&quot;</span>, win32State.window.windowHandle, win32State.window.windowClass);</div><div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;                    }</div><div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;                    win32State.video.activeVideoDriver = <a class="code" href="namespacefpl_1_1_video_driver_types.html#a258cb7cd4b12cc998472708f70d55f7facec18deb73c81ed6ac84319bfb4311db">VideoDriverType::Software</a>;</div><div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160;                } <span class="keywordflow">break</span>;</div><div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;<span class="preprocessor">#           endif // FPL_ENABLE_VIDEO_SOFTWARE</span></div><div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;</div><div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;                <span class="keywordflow">default</span>:</div><div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;            }</div><div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;<span class="preprocessor">#       endif // FPL_ENABLE_VIDEO</span></div><div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;</div><div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;            <span class="comment">// Show window</span></div><div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;            wapi.user.showWindow(win32State.window.windowHandle, SW_SHOW);</div><div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;            wapi.user.updateWindow(win32State.window.windowHandle);</div><div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;</div><div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;            <span class="comment">// Cursor is visible at start</span></div><div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160;            win32State.window.defaultCursor = windowClass.hCursor;</div><div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;            win32State.window.isCursorActive = <span class="keyword">true</span>;</div><div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;            win32State.window.isRunning = <span class="keyword">true</span>;</div><div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;</div><div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160;        }</div><div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;</div><div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> <span class="keywordtype">void</span> Win32ReleaseWindow(Win32State &amp;win32State) {</div><div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160;            Win32APIFunctions &amp;api = global__Win32__API__Functions;</div><div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;</div><div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;            <span class="keywordflow">if</span> (win32State.window.deviceContext != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;                api.user.releaseDC(win32State.window.windowHandle, win32State.window.deviceContext);</div><div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160;                win32State.window.deviceContext = <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>;</div><div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;            }</div><div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;</div><div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160;            <span class="keywordflow">if</span> (win32State.window.windowHandle != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;                api.user.destroyWindow(win32State.window.windowHandle);</div><div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160;                win32State.window.windowHandle = <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>;</div><div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;                win32_unregisterClass(win32State.window.windowClass, global__Win32__AppState.appInstance);</div><div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160;            }</div><div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;</div><div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;            <span class="keywordflow">if</span> (global__EventQueue != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160;                <a class="code" href="group___memory.html#gafff57ceb6d17787d0bc84d66fd23f433">memory::MemoryAlignedFree</a>(global__EventQueue);</div><div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;                global__EventQueue = <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>;</div><div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;            }</div><div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;        }</div><div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;</div><div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> <span class="keywordtype">void</span> Win32LoadXInput() {</div><div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;            <span class="comment">// Windows 8</span></div><div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;            HMODULE xinputLibrary = LoadLibraryA(<span class="stringliteral">&quot;xinput1_4.dll&quot;</span>);</div><div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;            <span class="keywordflow">if</span> (!xinputLibrary) {</div><div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;                <span class="comment">// Windows 7</span></div><div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;                xinputLibrary = LoadLibraryA(<span class="stringliteral">&quot;xinput1_3.dll&quot;</span>);</div><div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;            }</div><div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160;            <span class="keywordflow">if</span> (!xinputLibrary) {</div><div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160;                <span class="comment">// Windows Generic</span></div><div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;                xinputLibrary = LoadLibraryA(<span class="stringliteral">&quot;xinput9_1_0.dll&quot;</span>);</div><div class="line"><a name="l04359"></a><span class="lineno"> 4359</span>&#160;            }</div><div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;            Win32InputFunctions &amp;inputFuncs = global__Win32__Input__Functions;</div><div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;            <span class="keywordflow">if</span> (xinputLibrary) {</div><div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;                inputFuncs.xinput.xinputLibrary = xinputLibrary;</div><div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;                inputFuncs.xinput.xInputSetState = (win32_func_XInputGetState *)GetProcAddress(xinputLibrary, <span class="stringliteral">&quot;XInputGetState&quot;</span>);</div><div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;            }</div><div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160;            <span class="keywordflow">if</span> (inputFuncs.xinput.xInputSetState == <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;                inputFuncs.xinput.xInputSetState = Win32XInputGetStateStub;</div><div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;            }</div><div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160;        }</div><div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;</div><div class="line"><a name="l04370"></a><span class="lineno"> 4370</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> <span class="keywordtype">void</span> Win32UnloadXInput() {</div><div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;            Win32InputFunctions &amp;inputFuncs = global__Win32__Input__Functions;</div><div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160;            <span class="keywordflow">if</span> (inputFuncs.xinput.xinputLibrary) {</div><div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;                FreeLibrary(inputFuncs.xinput.xinputLibrary);</div><div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160;                inputFuncs.xinput.xinputLibrary = <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>;</div><div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;                inputFuncs.xinput.xInputSetState = Win32XInputGetStateStub;</div><div class="line"><a name="l04376"></a><span class="lineno"> 4376</span>&#160;            }</div><div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160;        }</div><div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160;</div><div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160;        <span class="keyword">struct </span>Win32CommandLineUTF8Arguments {</div><div class="line"><a name="l04380"></a><span class="lineno"> 4380</span>&#160;            <span class="keywordtype">void</span> *mem;</div><div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160;            <span class="keywordtype">char</span> **args;</div><div class="line"><a name="l04382"></a><span class="lineno"> 4382</span>&#160;            uint32_t count;</div><div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160;        };</div><div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> Win32CommandLineUTF8Arguments Win32ParseWideArguments(LPWSTR cmdLine) {</div><div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;            Win32CommandLineUTF8Arguments args = {};</div><div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;</div><div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160;            <span class="comment">// @NOTE(final): Temporary load and unload shell32 for parsing the arguments</span></div><div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160;            HMODULE shellapiLibrary = LoadLibraryA(<span class="stringliteral">&quot;shell32.dll&quot;</span>);</div><div class="line"><a name="l04389"></a><span class="lineno"> 4389</span>&#160;            <span class="keywordflow">if</span> (shellapiLibrary != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l04390"></a><span class="lineno"> 4390</span>&#160;                win32_func_CommandLineToArgvW *commandLineToArgvW = (win32_func_CommandLineToArgvW *)GetProcAddress(shellapiLibrary, <span class="stringliteral">&quot;CommandLineToArgvW&quot;</span>);</div><div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160;                <span class="keywordflow">if</span> (commandLineToArgvW != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;                    <span class="comment">// Parse arguments and compute total UTF8 string length</span></div><div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160;                    <span class="keywordtype">int</span> executableFilePathArgumentCount = 0;</div><div class="line"><a name="l04394"></a><span class="lineno"> 4394</span>&#160;                    <span class="keywordtype">wchar_t</span> **executableFilePathArgs = commandLineToArgvW(L<span class="stringliteral">&quot;&quot;</span>, &amp;executableFilePathArgumentCount);</div><div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;                    uint32_t executableFilePathLen = 0;</div><div class="line"><a name="l04396"></a><span class="lineno"> 4396</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; executableFilePathArgumentCount; ++i) {</div><div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160;                        <span class="keywordflow">if</span> (i &gt; 0) {</div><div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160;                            <span class="comment">// Include whitespace</span></div><div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160;                            executableFilePathLen++;</div><div class="line"><a name="l04400"></a><span class="lineno"> 4400</span>&#160;                        }</div><div class="line"><a name="l04401"></a><span class="lineno"> 4401</span>&#160;                        uint32_t sourceLen = <a class="code" href="group___strings.html#ga2f5f224289b7bf9d19bb5684cd19fac1">strings::GetWideStringLength</a>(executableFilePathArgs[i]);</div><div class="line"><a name="l04402"></a><span class="lineno"> 4402</span>&#160;                        uint32_t destLen = WideCharToMultiByte(CP_UTF8, 0, executableFilePathArgs[i], sourceLen, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, 0, 0, 0);</div><div class="line"><a name="l04403"></a><span class="lineno"> 4403</span>&#160;                        executableFilePathLen += destLen;</div><div class="line"><a name="l04404"></a><span class="lineno"> 4404</span>&#160;                    }</div><div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160;</div><div class="line"><a name="l04406"></a><span class="lineno"> 4406</span>&#160;                    <span class="comment">// @NOTE(final): Do not parse the arguments when there are no actual arguments, otherwise we will get back the executable arguments again.</span></div><div class="line"><a name="l04407"></a><span class="lineno"> 4407</span>&#160;                    <span class="keywordtype">int</span> actualArgumentCount = 0;</div><div class="line"><a name="l04408"></a><span class="lineno"> 4408</span>&#160;                    <span class="keywordtype">wchar_t</span> **actualArgs = <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>;</div><div class="line"><a name="l04409"></a><span class="lineno"> 4409</span>&#160;                    uint32_t actualArgumentsLen = 0;</div><div class="line"><a name="l04410"></a><span class="lineno"> 4410</span>&#160;                    <span class="keywordflow">if</span> (cmdLine != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a> &amp;&amp; <a class="code" href="group___strings.html#ga2f5f224289b7bf9d19bb5684cd19fac1">strings::GetWideStringLength</a>(cmdLine) &gt; 0) {</div><div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160;                        actualArgs = commandLineToArgvW(cmdLine, &amp;actualArgumentCount);</div><div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;                        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; actualArgumentCount; ++i) {</div><div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;                            uint32_t sourceLen = <a class="code" href="group___strings.html#ga2f5f224289b7bf9d19bb5684cd19fac1">strings::GetWideStringLength</a>(actualArgs[i]);</div><div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;                            uint32_t destLen = WideCharToMultiByte(CP_UTF8, 0, actualArgs[i], sourceLen, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, 0, 0, 0);</div><div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160;                            actualArgumentsLen += destLen;</div><div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;                        }</div><div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160;                    }</div><div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160;</div><div class="line"><a name="l04419"></a><span class="lineno"> 4419</span>&#160;                    <span class="comment">// Calculate argument </span></div><div class="line"><a name="l04420"></a><span class="lineno"> 4420</span>&#160;                    args.count = 1 + actualArgumentCount;</div><div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160;                    uint32_t totalStringLen = executableFilePathLen + actualArgumentsLen + args.count;</div><div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160;                    <span class="keywordtype">size_t</span> singleArgStringSize = <span class="keyword">sizeof</span>(char) * (totalStringLen);</div><div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;                    <span class="keywordtype">size_t</span> arbitaryPadding = <span class="keyword">sizeof</span>(char) * 8;</div><div class="line"><a name="l04424"></a><span class="lineno"> 4424</span>&#160;                    <span class="keywordtype">size_t</span> argArraySize = <span class="keyword">sizeof</span>(<span class="keywordtype">char</span> **) * args.count;</div><div class="line"><a name="l04425"></a><span class="lineno"> 4425</span>&#160;                    <span class="keywordtype">size_t</span> totalArgSize = singleArgStringSize + arbitaryPadding + argArraySize;</div><div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160;</div><div class="line"><a name="l04427"></a><span class="lineno"> 4427</span>&#160;                    args.mem = (uint8_t *)<a class="code" href="group___memory.html#gaabe256ab34794ac0f3f1633674de97f5">memory::MemoryAllocate</a>(totalArgSize);</div><div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160;                    <span class="keywordtype">char</span> *argsString = (<span class="keywordtype">char</span> *)args.mem;</div><div class="line"><a name="l04429"></a><span class="lineno"> 4429</span>&#160;                    args.args = (<span class="keywordtype">char</span> **)((uint8_t *)args.mem + singleArgStringSize + arbitaryPadding);</div><div class="line"><a name="l04430"></a><span class="lineno"> 4430</span>&#160;</div><div class="line"><a name="l04431"></a><span class="lineno"> 4431</span>&#160;                    <span class="comment">// Convert executable path to UTF8</span></div><div class="line"><a name="l04432"></a><span class="lineno"> 4432</span>&#160;                    <span class="keywordtype">char</span> *destArg = argsString;</div><div class="line"><a name="l04433"></a><span class="lineno"> 4433</span>&#160;                    {</div><div class="line"><a name="l04434"></a><span class="lineno"> 4434</span>&#160;                        args.args[0] = argsString;</div><div class="line"><a name="l04435"></a><span class="lineno"> 4435</span>&#160;                        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; executableFilePathArgumentCount; ++i) {</div><div class="line"><a name="l04436"></a><span class="lineno"> 4436</span>&#160;                            <span class="keywordflow">if</span> (i &gt; 0) {</div><div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160;                                *destArg++ = <span class="charliteral">&#39; &#39;</span>;</div><div class="line"><a name="l04438"></a><span class="lineno"> 4438</span>&#160;                            }</div><div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160;                            <span class="keywordtype">wchar_t</span> *sourceArg = executableFilePathArgs[i];</div><div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160;                            uint32_t sourceArgLen = <a class="code" href="group___strings.html#ga2f5f224289b7bf9d19bb5684cd19fac1">strings::GetWideStringLength</a>(sourceArg);</div><div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160;                            uint32_t destArgLen = WideCharToMultiByte(CP_UTF8, 0, sourceArg, sourceArgLen, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, 0, 0, 0);</div><div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;                            WideCharToMultiByte(CP_UTF8, 0, sourceArg, sourceArgLen, destArg, destArgLen, 0, 0);</div><div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160;                            destArg += destArgLen;</div><div class="line"><a name="l04444"></a><span class="lineno"> 4444</span>&#160;                        }</div><div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160;                        *destArg++ = 0;</div><div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160;                        LocalFree(executableFilePathArgs);</div><div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160;                    }</div><div class="line"><a name="l04448"></a><span class="lineno"> 4448</span>&#160;</div><div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160;                    <span class="comment">// Convert actual arguments to UTF8</span></div><div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160;                    <span class="keywordflow">if</span> (actualArgumentCount &gt; 0) {</div><div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160;                        <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(actualArgs != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160;                        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; actualArgumentCount; ++i) {</div><div class="line"><a name="l04453"></a><span class="lineno"> 4453</span>&#160;                            args.args[1 + i] = destArg;</div><div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160;                            <span class="keywordtype">wchar_t</span> *sourceArg = actualArgs[i];</div><div class="line"><a name="l04455"></a><span class="lineno"> 4455</span>&#160;                            uint32_t sourceArgLen = <a class="code" href="group___strings.html#ga2f5f224289b7bf9d19bb5684cd19fac1">strings::GetWideStringLength</a>(sourceArg);</div><div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160;                            uint32_t destArgLen = WideCharToMultiByte(CP_UTF8, 0, sourceArg, sourceArgLen, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, 0, 0, 0);</div><div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160;                            WideCharToMultiByte(CP_UTF8, 0, sourceArg, sourceArgLen, destArg, destArgLen, 0, 0);</div><div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160;                            destArg += destArgLen;</div><div class="line"><a name="l04459"></a><span class="lineno"> 4459</span>&#160;                            *destArg++ = 0;</div><div class="line"><a name="l04460"></a><span class="lineno"> 4460</span>&#160;                        }</div><div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160;                        LocalFree(actualArgs);</div><div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160;                    }</div><div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160;                }</div><div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160;                FreeLibrary(shellapiLibrary);</div><div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160;                shellapiLibrary = <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>;</div><div class="line"><a name="l04466"></a><span class="lineno"> 4466</span>&#160;            }</div><div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160;            <span class="keywordflow">return</span>(args);</div><div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160;        }</div><div class="line"><a name="l04469"></a><span class="lineno"> 4469</span>&#160;</div><div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> Win32CommandLineUTF8Arguments Win32ParseAnsiArguments(LPSTR cmdLine) {</div><div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160;            Win32CommandLineUTF8Arguments result;</div><div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160;            <span class="keywordflow">if</span> (cmdLine != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160;                uint32_t ansiSourceLen = <a class="code" href="group___strings.html#ga388ca55dd073575074821c146a585e2d">strings::GetAnsiStringLength</a>(cmdLine);</div><div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;                uint32_t wideDestLen = MultiByteToWideChar(CP_ACP, 0, cmdLine, ansiSourceLen, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, 0);</div><div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160;                <span class="comment">// @TODO(final): Can we use a stack allocation here?</span></div><div class="line"><a name="l04476"></a><span class="lineno"> 4476</span>&#160;                <span class="keywordtype">wchar_t</span> *wideCmdLine = (<span class="keywordtype">wchar_t</span> *)<a class="code" href="group___memory.html#gaabe256ab34794ac0f3f1633674de97f5">memory::MemoryAllocate</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">wchar_t</span>) * (wideDestLen + 1));</div><div class="line"><a name="l04477"></a><span class="lineno"> 4477</span>&#160;                MultiByteToWideChar(CP_ACP, 0, cmdLine, ansiSourceLen, wideCmdLine, wideDestLen);</div><div class="line"><a name="l04478"></a><span class="lineno"> 4478</span>&#160;                wideCmdLine[wideDestLen] = 0;</div><div class="line"><a name="l04479"></a><span class="lineno"> 4479</span>&#160;                result = Win32ParseWideArguments(wideCmdLine);</div><div class="line"><a name="l04480"></a><span class="lineno"> 4480</span>&#160;                <a class="code" href="group___memory.html#ga62c8cc6c740a8089309c6e28ec03d83a">memory::MemoryFree</a>(wideCmdLine);</div><div class="line"><a name="l04481"></a><span class="lineno"> 4481</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160;                result = Win32ParseWideArguments(L<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;            }</div><div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;        }</div><div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160;</div><div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;<span class="preprocessor">#   endif // FPL_ENABLE_WINDOW</span></div><div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;</div><div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> Win32LoadAPI(Win32State &amp;win32State) {</div><div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;            Win32APIFunctions &amp;wapi = global__Win32__API__Functions;</div><div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160;</div><div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;            <span class="comment">// Shell32</span></div><div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160;            {</div><div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">char</span> *shellLibraryName = <span class="stringliteral">&quot;shell32.dll&quot;</span>;</div><div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;                HMODULE library = wapi.shell.shellLibrary = LoadLibraryA(shellLibraryName);</div><div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160;                <span class="keywordflow">if</span> (library == <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;                    common::PushError(<span class="stringliteral">&quot;[Win32] Failed loading win32 library &#39;%s&#39;!&quot;</span>, shellLibraryName);</div><div class="line"><a name="l04498"></a><span class="lineno"> 4498</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160;                }</div><div class="line"><a name="l04500"></a><span class="lineno"> 4500</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, shellLibraryName, wapi.shell.commandLineToArgvW, win32_func_CommandLineToArgvW, <span class="stringliteral">&quot;CommandLineToArgvW&quot;</span>);</div><div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, shellLibraryName, wapi.shell.shGetFolderPathA, win32_func_SHGetFolderPathA, <span class="stringliteral">&quot;SHGetFolderPathA&quot;</span>);</div><div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, shellLibraryName, wapi.shell.shGetFolderPathW, win32_func_SHGetFolderPathW, <span class="stringliteral">&quot;SHGetFolderPathW&quot;</span>);</div><div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;            }</div><div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;</div><div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;                <span class="comment">// User32</span></div><div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;            {</div><div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">char</span> *userLibraryName = <span class="stringliteral">&quot;user32.dll&quot;</span>;</div><div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;                HMODULE library = wapi.user.userLibrary = LoadLibraryA(userLibraryName);</div><div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160;                <span class="keywordflow">if</span> (library == <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160;                    common::PushError(<span class="stringliteral">&quot;[Win32] Failed loading win32 library &#39;%s&#39;!&quot;</span>, userLibraryName);</div><div class="line"><a name="l04511"></a><span class="lineno"> 4511</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160;                }</div><div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;</div><div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.registerClassExA, win32_func_RegisterClassExA, <span class="stringliteral">&quot;RegisterClassExA&quot;</span>);</div><div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.registerClassExW, win32_func_RegisterClassExW, <span class="stringliteral">&quot;RegisterClassExW&quot;</span>);</div><div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.unregisterClassA, win32_func_UnregisterClassA, <span class="stringliteral">&quot;UnregisterClassA&quot;</span>);</div><div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.unregisterClassW, win32_func_UnregisterClassW, <span class="stringliteral">&quot;UnregisterClassW&quot;</span>);</div><div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.showWindow, win32_func_ShowWindow, <span class="stringliteral">&quot;ShowWindow&quot;</span>);</div><div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.destroyWindow, win32_func_DestroyWindow, <span class="stringliteral">&quot;DestroyWindow&quot;</span>);</div><div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.updateWindow, win32_func_UpdateWindow, <span class="stringliteral">&quot;UpdateWindow&quot;</span>);</div><div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.translateMessage, win32_func_TranslateMessage, <span class="stringliteral">&quot;TranslateMessage&quot;</span>);</div><div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.dispatchMessageA, win32_func_DispatchMessageA, <span class="stringliteral">&quot;DispatchMessageA&quot;</span>);</div><div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.dispatchMessageW, win32_func_DispatchMessageW, <span class="stringliteral">&quot;DispatchMessageW&quot;</span>);</div><div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.peekMessageA, win32_func_PeekMessageA, <span class="stringliteral">&quot;PeekMessageA&quot;</span>);</div><div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.peekMessageW, win32_func_PeekMessageW, <span class="stringliteral">&quot;PeekMessageW&quot;</span>);</div><div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.defWindowProcA, win32_func_DefWindowProcA, <span class="stringliteral">&quot;DefWindowProcA&quot;</span>);</div><div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.defWindowProcW, win32_func_DefWindowProcW, <span class="stringliteral">&quot;DefWindowProcW&quot;</span>);</div><div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.createWindowExA, win32_func_CreateWindowExA, <span class="stringliteral">&quot;CreateWindowExA&quot;</span>);</div><div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.createWindowExW, win32_func_CreateWindowExW, <span class="stringliteral">&quot;CreateWindowExW&quot;</span>);</div><div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.setWindowPos, win32_func_SetWindowPos, <span class="stringliteral">&quot;SetWindowPos&quot;</span>);</div><div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.getWindowPlacement, win32_func_GetWindowPlacement, <span class="stringliteral">&quot;GetWindowPlacement&quot;</span>);</div><div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.setWindowPlacement, win32_func_SetWindowPlacement, <span class="stringliteral">&quot;SetWindowPlacement&quot;</span>);</div><div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.getClientRect, win32_func_GetClientRect, <span class="stringliteral">&quot;GetClientRect&quot;</span>);</div><div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.getWindowRect, win32_func_GetWindowRect, <span class="stringliteral">&quot;GetWindowRect&quot;</span>);</div><div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.adjustWindowRect, win32_func_AdjustWindowRect, <span class="stringliteral">&quot;AdjustWindowRect&quot;</span>);</div><div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.getAsyncKeyState, win32_func_GetAsyncKeyState, <span class="stringliteral">&quot;GetAsyncKeyState&quot;</span>);</div><div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.mapVirtualKeyA, win32_func_MapVirtualKeyA, <span class="stringliteral">&quot;MapVirtualKeyA&quot;</span>);</div><div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.mapVirtualKeyW, win32_func_MapVirtualKeyW, <span class="stringliteral">&quot;MapVirtualKeyW&quot;</span>);</div><div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.setCursor, win32_func_SetCursor, <span class="stringliteral">&quot;SetCursor&quot;</span>);</div><div class="line"><a name="l04540"></a><span class="lineno"> 4540</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.getCursor, win32_func_GetCursor, <span class="stringliteral">&quot;GetCursor&quot;</span>);</div><div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.loadCursorA, win32_func_LoadCursorA, <span class="stringliteral">&quot;LoadCursorA&quot;</span>);</div><div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.loadCursorW, win32_func_LoadCursorW, <span class="stringliteral">&quot;LoadCursorW&quot;</span>);</div><div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.loadIconA, win32_func_LoadIconA, <span class="stringliteral">&quot;LoadCursorA&quot;</span>);</div><div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.loadIconW, win32_func_LoadIconW, <span class="stringliteral">&quot;LoadIconW&quot;</span>);</div><div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.setWindowTextA, win32_func_SetWindowTextA, <span class="stringliteral">&quot;SetWindowTextA&quot;</span>);</div><div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.setWindowTextW, win32_func_SetWindowTextW, <span class="stringliteral">&quot;SetWindowTextW&quot;</span>);</div><div class="line"><a name="l04547"></a><span class="lineno"> 4547</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.setWindowLongA, win32_func_SetWindowLongA, <span class="stringliteral">&quot;SetWindowLongA&quot;</span>);</div><div class="line"><a name="l04548"></a><span class="lineno"> 4548</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.setWindowLongW, win32_func_SetWindowLongW, <span class="stringliteral">&quot;SetWindowLongW&quot;</span>);</div><div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.getWindowLongA, win32_func_GetWindowLongA, <span class="stringliteral">&quot;GetWindowLongA&quot;</span>);</div><div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.getWindowLongW, win32_func_GetWindowLongW, <span class="stringliteral">&quot;GetWindowLongW&quot;</span>);</div><div class="line"><a name="l04551"></a><span class="lineno"> 4551</span>&#160;</div><div class="line"><a name="l04552"></a><span class="lineno"> 4552</span>&#160;<span class="preprocessor">#               if defined(FPL_ARCH_X64)</span></div><div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.setWindowLongPtrA, win32_func_SetWindowLongPtrA, <span class="stringliteral">&quot;SetWindowLongPtrA&quot;</span>);</div><div class="line"><a name="l04554"></a><span class="lineno"> 4554</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.setWindowLongPtrW, win32_func_SetWindowLongPtrW, <span class="stringliteral">&quot;SetWindowLongPtrW&quot;</span>);</div><div class="line"><a name="l04555"></a><span class="lineno"> 4555</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.getWindowLongPtrA, win32_func_GetWindowLongPtrA, <span class="stringliteral">&quot;GetWindowLongPtrA&quot;</span>);</div><div class="line"><a name="l04556"></a><span class="lineno"> 4556</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.getWindowLongPtrW, win32_func_GetWindowLongPtrW, <span class="stringliteral">&quot;GetWindowLongPtrW&quot;</span>);</div><div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160;<span class="preprocessor">#               endif</span></div><div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160;</div><div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.releaseDC, win32_func_ReleaseDC, <span class="stringliteral">&quot;ReleaseDC&quot;</span>);</div><div class="line"><a name="l04560"></a><span class="lineno"> 4560</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.getDC, win32_func_GetDC, <span class="stringliteral">&quot;GetDC&quot;</span>);</div><div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.changeDisplaySettingsA, win32_func_ChangeDisplaySettingsA, <span class="stringliteral">&quot;ChangeDisplaySettingsA&quot;</span>);</div><div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.changeDisplaySettingsW, win32_func_ChangeDisplaySettingsW, <span class="stringliteral">&quot;ChangeDisplaySettingsW&quot;</span>);</div><div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.enumDisplaySettingsA, win32_func_EnumDisplaySettingsA, <span class="stringliteral">&quot;EnumDisplaySettingsA&quot;</span>);</div><div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.enumDisplaySettingsW, win32_func_EnumDisplaySettingsW, <span class="stringliteral">&quot;EnumDisplaySettingsW&quot;</span>);</div><div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160;</div><div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.openClipboard, win32_func_OpenClipboard, <span class="stringliteral">&quot;OpenClipboard&quot;</span>);</div><div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.closeClipboard, win32_func_CloseClipboard, <span class="stringliteral">&quot;CloseClipboard&quot;</span>);</div><div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.emptyClipboard, win32_func_EmptyClipboard, <span class="stringliteral">&quot;EmptyClipboard&quot;</span>);</div><div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.setClipboardData, win32_func_SetClipboardData, <span class="stringliteral">&quot;SetClipboardData&quot;</span>);</div><div class="line"><a name="l04570"></a><span class="lineno"> 4570</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.getClipboardData, win32_func_GetClipboardData, <span class="stringliteral">&quot;GetClipboardData&quot;</span>);</div><div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160;</div><div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.getDesktopWindow, win32_func_GetDesktopWindow, <span class="stringliteral">&quot;GetDesktopWindow&quot;</span>);</div><div class="line"><a name="l04573"></a><span class="lineno"> 4573</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, userLibraryName, wapi.user.getForegroundWindow, win32_func_GetForegroundWindow, <span class="stringliteral">&quot;GetForegroundWindow&quot;</span>);</div><div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160;            }</div><div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160;</div><div class="line"><a name="l04576"></a><span class="lineno"> 4576</span>&#160;            <span class="comment">// GDI32</span></div><div class="line"><a name="l04577"></a><span class="lineno"> 4577</span>&#160;            {</div><div class="line"><a name="l04578"></a><span class="lineno"> 4578</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">char</span> *gdiLibraryName = <span class="stringliteral">&quot;gdi32.dll&quot;</span>;</div><div class="line"><a name="l04579"></a><span class="lineno"> 4579</span>&#160;                HMODULE library = wapi.gdi.gdiLibrary = LoadLibraryA(gdiLibraryName);</div><div class="line"><a name="l04580"></a><span class="lineno"> 4580</span>&#160;                <span class="keywordflow">if</span> (library == <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l04581"></a><span class="lineno"> 4581</span>&#160;                    common::PushError(<span class="stringliteral">&quot;[Win32] Failed loading win32 library &#39;%s&#39;!&quot;</span>, gdiLibraryName);</div><div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04583"></a><span class="lineno"> 4583</span>&#160;                }</div><div class="line"><a name="l04584"></a><span class="lineno"> 4584</span>&#160;</div><div class="line"><a name="l04585"></a><span class="lineno"> 4585</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, gdiLibraryName, wapi.gdi.choosePixelFormat, win32_func_ChoosePixelFormat, <span class="stringliteral">&quot;ChoosePixelFormat&quot;</span>);</div><div class="line"><a name="l04586"></a><span class="lineno"> 4586</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, gdiLibraryName, wapi.gdi.setPixelFormat, win32_func_SetPixelFormat, <span class="stringliteral">&quot;SetPixelFormat&quot;</span>);</div><div class="line"><a name="l04587"></a><span class="lineno"> 4587</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, gdiLibraryName, wapi.gdi.describePixelFormat, win32_func_DescribePixelFormat, <span class="stringliteral">&quot;DescribePixelFormat&quot;</span>);</div><div class="line"><a name="l04588"></a><span class="lineno"> 4588</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, gdiLibraryName, wapi.gdi.stretchDIBits, win32_func_StretchDIBits, <span class="stringliteral">&quot;StretchDIBits&quot;</span>);</div><div class="line"><a name="l04589"></a><span class="lineno"> 4589</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, gdiLibraryName, wapi.gdi.deleteObject, win32_func_DeleteObject, <span class="stringliteral">&quot;DeleteObject&quot;</span>);</div><div class="line"><a name="l04590"></a><span class="lineno"> 4590</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, gdiLibraryName, wapi.gdi.swapBuffers, win32_func_SwapBuffers, <span class="stringliteral">&quot;SwapBuffers&quot;</span>);</div><div class="line"><a name="l04591"></a><span class="lineno"> 4591</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, gdiLibraryName, wapi.gdi.getDeviceCaps, win32_func_GetDeviceCaps, <span class="stringliteral">&quot;GetDeviceCaps&quot;</span>);</div><div class="line"><a name="l04592"></a><span class="lineno"> 4592</span>&#160;            }</div><div class="line"><a name="l04593"></a><span class="lineno"> 4593</span>&#160;</div><div class="line"><a name="l04594"></a><span class="lineno"> 4594</span>&#160;            <span class="comment">// OLE32</span></div><div class="line"><a name="l04595"></a><span class="lineno"> 4595</span>&#160;            {</div><div class="line"><a name="l04596"></a><span class="lineno"> 4596</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">char</span> *oleLibraryName = <span class="stringliteral">&quot;ole32.dll&quot;</span>;</div><div class="line"><a name="l04597"></a><span class="lineno"> 4597</span>&#160;                HMODULE library = wapi.ole.oleLibrary = LoadLibraryA(oleLibraryName);</div><div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160;                <span class="keywordflow">if</span> (library == <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l04599"></a><span class="lineno"> 4599</span>&#160;                    common::PushError(<span class="stringliteral">&quot;[Win32] Failed loading win32 library &#39;%s&#39;!&quot;</span>, oleLibraryName);</div><div class="line"><a name="l04600"></a><span class="lineno"> 4600</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;                }</div><div class="line"><a name="l04602"></a><span class="lineno"> 4602</span>&#160;</div><div class="line"><a name="l04603"></a><span class="lineno"> 4603</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, oleLibraryName, wapi.ole.coInitializeEx, win32_func_CoInitializeEx, <span class="stringliteral">&quot;CoInitializeEx&quot;</span>);</div><div class="line"><a name="l04604"></a><span class="lineno"> 4604</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, oleLibraryName, wapi.ole.coUninitialize, win32_func_CoUninitialize, <span class="stringliteral">&quot;CoUninitialize&quot;</span>);</div><div class="line"><a name="l04605"></a><span class="lineno"> 4605</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, oleLibraryName, wapi.ole.coCreateInstance, win32_func_CoCreateInstance, <span class="stringliteral">&quot;CoCreateInstance&quot;</span>);</div><div class="line"><a name="l04606"></a><span class="lineno"> 4606</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, oleLibraryName, wapi.ole.coTaskMemFree, win32_func_CoTaskMemFree, <span class="stringliteral">&quot;CoTaskMemFree&quot;</span>);</div><div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160;                FPL_WIN32_GET_FUNCTION_ADDRESS(library, oleLibraryName, wapi.ole.propVariantClear, win32_func_PropVariantClear, <span class="stringliteral">&quot;PropVariantClear&quot;</span>);</div><div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160;            }</div><div class="line"><a name="l04609"></a><span class="lineno"> 4609</span>&#160;</div><div class="line"><a name="l04610"></a><span class="lineno"> 4610</span>&#160;</div><div class="line"><a name="l04611"></a><span class="lineno"> 4611</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l04612"></a><span class="lineno"> 4612</span>&#160;        }</div><div class="line"><a name="l04613"></a><span class="lineno"> 4613</span>&#160;</div><div class="line"><a name="l04614"></a><span class="lineno"> 4614</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> Win32UnloadAPI() {</div><div class="line"><a name="l04615"></a><span class="lineno"> 4615</span>&#160;            Win32APIFunctions &amp;api = global__Win32__API__Functions;</div><div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160;            <span class="keywordflow">if</span> (api.ole.oleLibrary != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l04617"></a><span class="lineno"> 4617</span>&#160;                FreeLibrary(api.ole.oleLibrary);</div><div class="line"><a name="l04618"></a><span class="lineno"> 4618</span>&#160;                api.ole = {};</div><div class="line"><a name="l04619"></a><span class="lineno"> 4619</span>&#160;            }</div><div class="line"><a name="l04620"></a><span class="lineno"> 4620</span>&#160;            <span class="keywordflow">if</span> (api.gdi.gdiLibrary != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l04621"></a><span class="lineno"> 4621</span>&#160;                FreeLibrary(api.gdi.gdiLibrary);</div><div class="line"><a name="l04622"></a><span class="lineno"> 4622</span>&#160;                api.gdi = {};</div><div class="line"><a name="l04623"></a><span class="lineno"> 4623</span>&#160;            }</div><div class="line"><a name="l04624"></a><span class="lineno"> 4624</span>&#160;            <span class="keywordflow">if</span> (api.user.userLibrary != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l04625"></a><span class="lineno"> 4625</span>&#160;                FreeLibrary(api.user.userLibrary);</div><div class="line"><a name="l04626"></a><span class="lineno"> 4626</span>&#160;                api.user = {};</div><div class="line"><a name="l04627"></a><span class="lineno"> 4627</span>&#160;            }</div><div class="line"><a name="l04628"></a><span class="lineno"> 4628</span>&#160;            <span class="keywordflow">if</span> (api.shell.shellLibrary != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l04629"></a><span class="lineno"> 4629</span>&#160;                FreeLibrary(api.shell.shellLibrary);</div><div class="line"><a name="l04630"></a><span class="lineno"> 4630</span>&#160;                api.shell = {};</div><div class="line"><a name="l04631"></a><span class="lineno"> 4631</span>&#160;            }</div><div class="line"><a name="l04632"></a><span class="lineno"> 4632</span>&#160;        }</div><div class="line"><a name="l04633"></a><span class="lineno"> 4633</span>&#160;</div><div class="line"><a name="l04634"></a><span class="lineno"> 4634</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> <span class="keywordtype">bool</span> Win32ThreadWaitForMultiple(<a class="code" href="structfpl_1_1threading_1_1_thread_context.html">threading::ThreadContext</a> **contexts, <span class="keyword">const</span> uint32_t count, <span class="keyword">const</span> <span class="keywordtype">bool</span> waitForAll, <span class="keyword">const</span> uint32_t maxMilliseconds) {</div><div class="line"><a name="l04635"></a><span class="lineno"> 4635</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(contexts != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04636"></a><span class="lineno"> 4636</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(count &lt;= common::MAX_THREAD_COUNT);</div><div class="line"><a name="l04637"></a><span class="lineno"> 4637</span>&#160;            HANDLE threadHandles[common::MAX_THREAD_COUNT];</div><div class="line"><a name="l04638"></a><span class="lineno"> 4638</span>&#160;            <span class="keywordflow">for</span> (uint32_t index = 0; index &lt; count; ++index) {</div><div class="line"><a name="l04639"></a><span class="lineno"> 4639</span>&#160;                <a class="code" href="structfpl_1_1threading_1_1_thread_context.html">threading::ThreadContext</a> *context = contexts[index];</div><div class="line"><a name="l04640"></a><span class="lineno"> 4640</span>&#160;                <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(context-&gt;<a class="code" href="structfpl_1_1threading_1_1_thread_context.html#af8cfcaa0345ee279f8979eec94a121c5">id</a> &gt; 0);</div><div class="line"><a name="l04641"></a><span class="lineno"> 4641</span>&#160;                <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(context-&gt;<a class="code" href="structfpl_1_1threading_1_1_thread_context.html#a1d22580a4aa61dc8b20b516f81eef84f">internalHandle</a> != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04642"></a><span class="lineno"> 4642</span>&#160;                HANDLE handle = (HANDLE)context-&gt;<a class="code" href="structfpl_1_1threading_1_1_thread_context.html#a1d22580a4aa61dc8b20b516f81eef84f">internalHandle</a>;</div><div class="line"><a name="l04643"></a><span class="lineno"> 4643</span>&#160;                threadHandles[index] = handle;</div><div class="line"><a name="l04644"></a><span class="lineno"> 4644</span>&#160;            }</div><div class="line"><a name="l04645"></a><span class="lineno"> 4645</span>&#160;            DWORD code = WaitForMultipleObjects(count, threadHandles, waitForAll ? TRUE : FALSE, maxMilliseconds &lt; UINT32_MAX ? maxMilliseconds : INFINITE);</div><div class="line"><a name="l04646"></a><span class="lineno"> 4646</span>&#160;            <span class="keywordtype">bool</span> result = (code != WAIT_TIMEOUT) &amp;&amp; (code != WAIT_FAILED);</div><div class="line"><a name="l04647"></a><span class="lineno"> 4647</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l04648"></a><span class="lineno"> 4648</span>&#160;        }</div><div class="line"><a name="l04649"></a><span class="lineno"> 4649</span>&#160;</div><div class="line"><a name="l04650"></a><span class="lineno"> 4650</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> <span class="keywordtype">bool</span> Win32SignalWaitForMultiple(<a class="code" href="structfpl_1_1threading_1_1_thread_signal.html">threading::ThreadSignal</a> **signals, <span class="keyword">const</span> uint32_t count, <span class="keyword">const</span> <span class="keywordtype">bool</span> waitForAll, <span class="keyword">const</span> uint32_t maxMilliseconds) {</div><div class="line"><a name="l04651"></a><span class="lineno"> 4651</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(signals != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04652"></a><span class="lineno"> 4652</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(count &lt;= common::MAX_SIGNAL_COUNT);</div><div class="line"><a name="l04653"></a><span class="lineno"> 4653</span>&#160;            HANDLE signalHandles[common::MAX_SIGNAL_COUNT];</div><div class="line"><a name="l04654"></a><span class="lineno"> 4654</span>&#160;            <span class="keywordflow">for</span> (uint32_t index = 0; index &lt; count; ++index) {</div><div class="line"><a name="l04655"></a><span class="lineno"> 4655</span>&#160;                <a class="code" href="structfpl_1_1threading_1_1_thread_signal.html">threading::ThreadSignal</a> *availableSignal = signals[index];</div><div class="line"><a name="l04656"></a><span class="lineno"> 4656</span>&#160;                <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(availableSignal-&gt;<a class="code" href="structfpl_1_1threading_1_1_thread_signal.html#ad1fdb9120b0cec2a0bf5c554640810be">isValid</a>);</div><div class="line"><a name="l04657"></a><span class="lineno"> 4657</span>&#160;                <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(availableSignal-&gt;<a class="code" href="structfpl_1_1threading_1_1_thread_signal.html#adbf395c4e509672e4690bdecd6a1ce19">internalHandle</a> != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04658"></a><span class="lineno"> 4658</span>&#160;                HANDLE handle = (HANDLE)availableSignal-&gt;<a class="code" href="structfpl_1_1threading_1_1_thread_signal.html#adbf395c4e509672e4690bdecd6a1ce19">internalHandle</a>;</div><div class="line"><a name="l04659"></a><span class="lineno"> 4659</span>&#160;                signalHandles[index] = handle;</div><div class="line"><a name="l04660"></a><span class="lineno"> 4660</span>&#160;            }</div><div class="line"><a name="l04661"></a><span class="lineno"> 4661</span>&#160;            DWORD code = WaitForMultipleObjects(count, signalHandles, waitForAll ? TRUE : FALSE, maxMilliseconds &lt; UINT32_MAX ? maxMilliseconds : INFINITE);</div><div class="line"><a name="l04662"></a><span class="lineno"> 4662</span>&#160;            <span class="keywordtype">bool</span> result = (code != WAIT_TIMEOUT) &amp;&amp; (code != WAIT_FAILED);</div><div class="line"><a name="l04663"></a><span class="lineno"> 4663</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l04664"></a><span class="lineno"> 4664</span>&#160;        }</div><div class="line"><a name="l04665"></a><span class="lineno"> 4665</span>&#160;</div><div class="line"><a name="l04666"></a><span class="lineno"> 4666</span>&#160;    } <span class="comment">// platform</span></div><div class="line"><a name="l04667"></a><span class="lineno"> 4667</span>&#160;</div><div class="line"><a name="l04668"></a><span class="lineno"> 4668</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l04669"></a><span class="lineno"> 4669</span>&#160;    <span class="comment">// Win32 Atomics</span></div><div class="line"><a name="l04670"></a><span class="lineno"> 4670</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l04671"></a><span class="lineno"> 4671</span>&#160;    <span class="keyword">namespace </span>atomics {</div><div class="line"><a name="l04672"></a><span class="lineno"> 4672</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___atomics.html#gad73f549eac689a46e21e30aedae93c49">AtomicReadFence</a>() {</div><div class="line"><a name="l04673"></a><span class="lineno"> 4673</span>&#160;            FPL_MEMORY_BARRIER();</div><div class="line"><a name="l04674"></a><span class="lineno"> 4674</span>&#160;            _ReadBarrier();</div><div class="line"><a name="l04675"></a><span class="lineno"> 4675</span>&#160;        }</div><div class="line"><a name="l04676"></a><span class="lineno"> 4676</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___atomics.html#gaff68c1ca29565939b4e289e14918d31a">AtomicWriteFence</a>() {</div><div class="line"><a name="l04677"></a><span class="lineno"> 4677</span>&#160;            FPL_MEMORY_BARRIER();</div><div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160;            _WriteBarrier();</div><div class="line"><a name="l04679"></a><span class="lineno"> 4679</span>&#160;        }</div><div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___atomics.html#gabd9be2027753569ed78026d6c6b4ba5b">AtomicReadWriteFence</a>() {</div><div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160;            FPL_MEMORY_BARRIER();</div><div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160;            _ReadWriteBarrier();</div><div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;        }</div><div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160;</div><div class="line"><a name="l04685"></a><span class="lineno"> 4685</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint32_t <a class="code" href="group___atomics.html#ga55587b1d4c3e9faf96161811a708bee1">AtomicExchangeU32</a>(<span class="keyword">volatile</span> uint32_t *target, <span class="keyword">const</span> uint32_t value) {</div><div class="line"><a name="l04686"></a><span class="lineno"> 4686</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(target != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04687"></a><span class="lineno"> 4687</span>&#160;            uint32_t result = _InterlockedExchange((<span class="keyword">volatile</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *)target, value);</div><div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l04689"></a><span class="lineno"> 4689</span>&#160;        }</div><div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> int32_t <a class="code" href="group___atomics.html#gaa337659a4c9820f43542b8f81c4f66f4">AtomicExchangeS32</a>(<span class="keyword">volatile</span> int32_t *target, <span class="keyword">const</span> int32_t value) {</div><div class="line"><a name="l04691"></a><span class="lineno"> 4691</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(target != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04692"></a><span class="lineno"> 4692</span>&#160;            int32_t result = _InterlockedExchange((<span class="keyword">volatile</span> <span class="keywordtype">long</span> *)target, value);</div><div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160;        }</div><div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint64_t <a class="code" href="group___atomics.html#ga99cbc21105a6d9c3f91c8d14a8ec68dc">AtomicExchangeU64</a>(<span class="keyword">volatile</span> uint64_t *target, <span class="keyword">const</span> uint64_t value) {</div><div class="line"><a name="l04696"></a><span class="lineno"> 4696</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(target != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04697"></a><span class="lineno"> 4697</span>&#160;            uint64_t result = _InterlockedExchange((<span class="keyword">volatile</span> <span class="keywordtype">unsigned</span> __int64 *)target, value);</div><div class="line"><a name="l04698"></a><span class="lineno"> 4698</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l04699"></a><span class="lineno"> 4699</span>&#160;        }</div><div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> int64_t <a class="code" href="group___atomics.html#ga08d3bf3244f49659b51c512ea149e37a">AtomicExchangeS64</a>(<span class="keyword">volatile</span> int64_t *target, <span class="keyword">const</span> int64_t value) {</div><div class="line"><a name="l04701"></a><span class="lineno"> 4701</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(target != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04702"></a><span class="lineno"> 4702</span>&#160;            int64_t result = _InterlockedExchange64((<span class="keyword">volatile</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> *)target, value);</div><div class="line"><a name="l04703"></a><span class="lineno"> 4703</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l04704"></a><span class="lineno"> 4704</span>&#160;        }</div><div class="line"><a name="l04705"></a><span class="lineno"> 4705</span>&#160;</div><div class="line"><a name="l04706"></a><span class="lineno"> 4706</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint32_t <a class="code" href="group___atomics.html#gabedcbf082844800172f4228383c80f75">AtomicAddU32</a>(<span class="keyword">volatile</span> uint32_t *value, <span class="keyword">const</span> uint32_t addend) {</div><div class="line"><a name="l04707"></a><span class="lineno"> 4707</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(value != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04708"></a><span class="lineno"> 4708</span>&#160;            uint32_t result = _InterlockedExchangeAdd((<span class="keyword">volatile</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *)value, addend);</div><div class="line"><a name="l04709"></a><span class="lineno"> 4709</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l04710"></a><span class="lineno"> 4710</span>&#160;        }</div><div class="line"><a name="l04711"></a><span class="lineno"> 4711</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> int32_t <a class="code" href="group___atomics.html#ga93df5e810594beb7c9d50d30f2ee4a79">AtomicAddS32</a>(<span class="keyword">volatile</span> int32_t *value, <span class="keyword">const</span> int32_t addend) {</div><div class="line"><a name="l04712"></a><span class="lineno"> 4712</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(value != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04713"></a><span class="lineno"> 4713</span>&#160;            int32_t result = _InterlockedExchangeAdd((<span class="keyword">volatile</span> <span class="keywordtype">long</span> *)value, addend);</div><div class="line"><a name="l04714"></a><span class="lineno"> 4714</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l04715"></a><span class="lineno"> 4715</span>&#160;        }</div><div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint64_t <a class="code" href="group___atomics.html#ga4cd97f257c9c9d6c5ae9c7fb28805627">AtomicAddU64</a>(<span class="keyword">volatile</span> uint64_t *value, <span class="keyword">const</span> uint64_t addend) {</div><div class="line"><a name="l04717"></a><span class="lineno"> 4717</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(value != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04718"></a><span class="lineno"> 4718</span>&#160;            uint64_t result = _InterlockedExchangeAdd((<span class="keyword">volatile</span> <span class="keywordtype">unsigned</span> __int64 *)value, addend);</div><div class="line"><a name="l04719"></a><span class="lineno"> 4719</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l04720"></a><span class="lineno"> 4720</span>&#160;        }</div><div class="line"><a name="l04721"></a><span class="lineno"> 4721</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> int64_t <a class="code" href="group___atomics.html#ga49173aa8fa9ba12740fedc24260ae7c5">AtomicAddS64</a>(<span class="keyword">volatile</span> int64_t *value, <span class="keyword">const</span> int64_t addend) {</div><div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(value != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;            int64_t result = _InterlockedExchangeAdd64((<span class="keyword">volatile</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> *)value, addend);</div><div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l04725"></a><span class="lineno"> 4725</span>&#160;        }</div><div class="line"><a name="l04726"></a><span class="lineno"> 4726</span>&#160;</div><div class="line"><a name="l04727"></a><span class="lineno"> 4727</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint32_t <a class="code" href="group___atomics.html#ga7e1a4ac48629ab93ad035c6bd6612d84">AtomicCompareAndExchangeU32</a>(<span class="keyword">volatile</span> uint32_t *dest, <span class="keyword">const</span> uint32_t comparand, <span class="keyword">const</span> uint32_t exchange) {</div><div class="line"><a name="l04728"></a><span class="lineno"> 4728</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(dest != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04729"></a><span class="lineno"> 4729</span>&#160;            uint32_t result = _InterlockedCompareExchange((<span class="keyword">volatile</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *)dest, exchange, comparand);</div><div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160;        }</div><div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> int32_t <a class="code" href="group___atomics.html#ga208837a8141ca1b63f288071224dbc53">AtomicCompareAndExchangeS32</a>(<span class="keyword">volatile</span> int32_t *dest, <span class="keyword">const</span> int32_t comparand, <span class="keyword">const</span> int32_t exchange) {</div><div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(dest != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;            int32_t result = _InterlockedCompareExchange((<span class="keyword">volatile</span> <span class="keywordtype">long</span> *)dest, exchange, comparand);</div><div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;        }</div><div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint64_t <a class="code" href="group___atomics.html#gac6e8ef4b3f4c8cb95586af436a05c0b5">AtomicCompareAndExchangeU64</a>(<span class="keyword">volatile</span> uint64_t *dest, <span class="keyword">const</span> uint64_t comparand, <span class="keyword">const</span> uint64_t exchange) {</div><div class="line"><a name="l04738"></a><span class="lineno"> 4738</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(dest != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04739"></a><span class="lineno"> 4739</span>&#160;            uint64_t result = _InterlockedCompareExchange((<span class="keyword">volatile</span> <span class="keywordtype">unsigned</span> __int64 *)dest, exchange, comparand);</div><div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l04741"></a><span class="lineno"> 4741</span>&#160;        }</div><div class="line"><a name="l04742"></a><span class="lineno"> 4742</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> int64_t <a class="code" href="group___atomics.html#ga06586790bcd6bd9944c47372e3cef2ad">AtomicCompareAndExchangeS64</a>(<span class="keyword">volatile</span> int64_t *dest, <span class="keyword">const</span> int64_t comparand, <span class="keyword">const</span> int64_t exchange) {</div><div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(dest != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160;            int64_t result = _InterlockedCompareExchange64((<span class="keyword">volatile</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> *)dest, exchange, comparand);</div><div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160;        }</div><div class="line"><a name="l04747"></a><span class="lineno"> 4747</span>&#160;</div><div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___atomics.html#gaa489434b89fc006c043d41e8a3ac19b0">IsAtomicCompareAndExchangeU32</a>(<span class="keyword">volatile</span> uint32_t *dest, <span class="keyword">const</span> uint32_t comparand, <span class="keyword">const</span> uint32_t exchange) {</div><div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(dest != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;            uint32_t value = _InterlockedCompareExchange((<span class="keyword">volatile</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *)dest, exchange, comparand);</div><div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160;            <span class="keywordtype">bool</span> result = (value == comparand);</div><div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l04753"></a><span class="lineno"> 4753</span>&#160;        }</div><div class="line"><a name="l04754"></a><span class="lineno"> 4754</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___atomics.html#ga8cddb961f4b1f9e3738894cb9626bf9f">IsAtomicCompareAndExchangeS32</a>(<span class="keyword">volatile</span> int32_t *dest, <span class="keyword">const</span> int32_t comparand, <span class="keyword">const</span> int32_t exchange) {</div><div class="line"><a name="l04755"></a><span class="lineno"> 4755</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(dest != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160;            int32_t value = _InterlockedCompareExchange((<span class="keyword">volatile</span> <span class="keywordtype">long</span> *)dest, exchange, comparand);</div><div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160;            <span class="keywordtype">bool</span> result = (value == comparand);</div><div class="line"><a name="l04758"></a><span class="lineno"> 4758</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l04759"></a><span class="lineno"> 4759</span>&#160;        }</div><div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___atomics.html#gafcc9f50de85f288d137ef28f199b8a43">IsAtomicCompareAndExchangeU64</a>(<span class="keyword">volatile</span> uint64_t *dest, <span class="keyword">const</span> uint64_t comparand, <span class="keyword">const</span> uint64_t exchange) {</div><div class="line"><a name="l04761"></a><span class="lineno"> 4761</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(dest != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04762"></a><span class="lineno"> 4762</span>&#160;            uint64_t value = _InterlockedCompareExchange((<span class="keyword">volatile</span> <span class="keywordtype">unsigned</span> __int64 *)dest, exchange, comparand);</div><div class="line"><a name="l04763"></a><span class="lineno"> 4763</span>&#160;            <span class="keywordtype">bool</span> result = (value == comparand);</div><div class="line"><a name="l04764"></a><span class="lineno"> 4764</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l04765"></a><span class="lineno"> 4765</span>&#160;        }</div><div class="line"><a name="l04766"></a><span class="lineno"> 4766</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___atomics.html#ga906723d4ae40442122864b0016e165ea">IsAtomicCompareAndExchangeS64</a>(<span class="keyword">volatile</span> int64_t *dest, <span class="keyword">const</span> int64_t comparand, <span class="keyword">const</span> int64_t exchange) {</div><div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(dest != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04768"></a><span class="lineno"> 4768</span>&#160;            int64_t value = _InterlockedCompareExchange64((<span class="keyword">volatile</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> *)dest, exchange, comparand);</div><div class="line"><a name="l04769"></a><span class="lineno"> 4769</span>&#160;            <span class="keywordtype">bool</span> result = (value == comparand);</div><div class="line"><a name="l04770"></a><span class="lineno"> 4770</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;        }</div><div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160;</div><div class="line"><a name="l04773"></a><span class="lineno"> 4773</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint32_t <a class="code" href="group___atomics.html#ga2460e7047ec012a5859992fbf05aa29f">AtomicLoadU32</a>(<span class="keyword">volatile</span> uint32_t *source) {</div><div class="line"><a name="l04774"></a><span class="lineno"> 4774</span>&#160;            uint32_t result = _InterlockedCompareExchange((<span class="keyword">volatile</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *)source, 0, 0);</div><div class="line"><a name="l04775"></a><span class="lineno"> 4775</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160;        }</div><div class="line"><a name="l04777"></a><span class="lineno"> 4777</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint64_t <a class="code" href="group___atomics.html#ga2576254de8d52495002128f0abd0a45e">AtomicLoadU64</a>(<span class="keyword">volatile</span> uint64_t *source) {</div><div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160;            uint64_t result = _InterlockedCompareExchange((<span class="keyword">volatile</span> <span class="keywordtype">unsigned</span> __int64 *)source, 0, 0);</div><div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l04780"></a><span class="lineno"> 4780</span>&#160;        }</div><div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> int32_t <a class="code" href="group___atomics.html#gae9f418fb1d62ae7595983caac6464d06">AtomicLoadS32</a>(<span class="keyword">volatile</span> int32_t *source) {</div><div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;            int32_t result = _InterlockedCompareExchange((<span class="keyword">volatile</span> <span class="keywordtype">long</span> *)source, 0, 0);</div><div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160;        }</div><div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> int64_t <a class="code" href="group___atomics.html#ga12eabfd1b3473e2750879bd6efe5add2">AtomicLoadS64</a>(<span class="keyword">volatile</span> int64_t *source) {</div><div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160;            int64_t result = _InterlockedCompareExchange64((<span class="keyword">volatile</span> __int64 *)source, 0, 0);</div><div class="line"><a name="l04787"></a><span class="lineno"> 4787</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l04788"></a><span class="lineno"> 4788</span>&#160;        }</div><div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160;</div><div class="line"><a name="l04790"></a><span class="lineno"> 4790</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___atomics.html#ga01905a5db859475f4b394ed469af0c5a">AtomicStoreU32</a>(<span class="keyword">volatile</span> uint32_t *dest, <span class="keyword">const</span> uint32_t value) {</div><div class="line"><a name="l04791"></a><span class="lineno"> 4791</span>&#160;            _InterlockedExchange((<span class="keyword">volatile</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *)dest, value);</div><div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160;        }</div><div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___atomics.html#gaa9c7bf288268d469be98e19a163ed636">AtomicStoreU64</a>(<span class="keyword">volatile</span> uint64_t *dest, <span class="keyword">const</span> uint64_t value) {</div><div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;            _InterlockedExchange((<span class="keyword">volatile</span> <span class="keywordtype">unsigned</span> __int64 *)dest, value);</div><div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160;        }</div><div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___atomics.html#ga6045f0c89cb08843e824d1209064afba">AtomicStoreS32</a>(<span class="keyword">volatile</span> int32_t *dest, <span class="keyword">const</span> int32_t value) {</div><div class="line"><a name="l04797"></a><span class="lineno"> 4797</span>&#160;            _InterlockedExchange((<span class="keyword">volatile</span> <span class="keywordtype">long</span> *)dest, value);</div><div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;        }</div><div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___atomics.html#ga6a2897035fe8ae0fd64084f98012e2e6">AtomicStoreS64</a>(<span class="keyword">volatile</span> int64_t *dest, <span class="keyword">const</span> int64_t value) {</div><div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160;            _InterlockedExchange64((<span class="keyword">volatile</span> __int64 *)dest, value);</div><div class="line"><a name="l04801"></a><span class="lineno"> 4801</span>&#160;        }</div><div class="line"><a name="l04802"></a><span class="lineno"> 4802</span>&#160;    } <span class="comment">// atomics</span></div><div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160;</div><div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160;    <span class="comment">// Win32 Hardware</span></div><div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160;    <span class="keyword">namespace </span>hardware {</div><div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint32_t <a class="code" href="group___hardware.html#ga4436ab750f9876cae642e985ddc31419">GetProcessorCoreCount</a>() {</div><div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160;            SYSTEM_INFO sysInfo = {};</div><div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160;            GetSystemInfo(&amp;sysInfo);</div><div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;            <span class="comment">// @NOTE(final): For now this returns the number of logical processors, which is the actual core count in most cases.</span></div><div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;            uint32_t result = sysInfo.dwNumberOfProcessors;</div><div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160;        }</div><div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;</div><div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">char</span> *<a class="code" href="group___hardware.html#ga9bc84d10830c46188cb9794459051b11">GetProcessorName</a>(<span class="keywordtype">char</span> *destBuffer, <span class="keyword">const</span> uint32_t maxDestBufferLen) {</div><div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160;            <span class="comment">// @TODO(final): __cpuid may not be available on other Win32 Compilers!</span></div><div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;</div><div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#aa3d38e49c90082e1638fe199347c35c5">fpl_constant</a> uint32_t CPU_BRAND_BUFFER_SIZE = 0x40;</div><div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;</div><div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(destBuffer != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04822"></a><span class="lineno"> 4822</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(maxDestBufferLen &gt;= (CPU_BRAND_BUFFER_SIZE + 1));</div><div class="line"><a name="l04823"></a><span class="lineno"> 4823</span>&#160;</div><div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;            <span class="keywordtype">int</span> cpuInfo[4] = { -1 };</div><div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;            <span class="keywordtype">char</span> cpuBrandBuffer[CPU_BRAND_BUFFER_SIZE] = {};</div><div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160;            __cpuid(cpuInfo, 0x80000000);</div><div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;            uint32_t extendedIds = cpuInfo[0];</div><div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160;</div><div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160;            <span class="comment">// Get the information associated with each extended ID. Interpret CPU brand string.</span></div><div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160;            uint32_t max = <a class="code" href="final__platform__layer_8hpp.html#ac981bef3df9c03ceb5f5717f8a77741b">FPL_MIN</a>(extendedIds, 0x80000004);</div><div class="line"><a name="l04831"></a><span class="lineno"> 4831</span>&#160;            <span class="keywordflow">for</span> (uint32_t i = 0x80000002; i &lt;= max; ++i) {</div><div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160;                __cpuid(cpuInfo, i);</div><div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;                uint32_t offset = (i - 0x80000002) &lt;&lt; 4;</div><div class="line"><a name="l04834"></a><span class="lineno"> 4834</span>&#160;                <a class="code" href="group___memory.html#gadb98af4c9b6d561313a2ceeab8d44e06">memory::MemoryCopy</a>(cpuInfo, <span class="keyword">sizeof</span>(cpuInfo), cpuBrandBuffer + offset);</div><div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160;            }</div><div class="line"><a name="l04836"></a><span class="lineno"> 4836</span>&#160;</div><div class="line"><a name="l04837"></a><span class="lineno"> 4837</span>&#160;            <span class="comment">// Copy result back to the dest buffer</span></div><div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160;            uint32_t sourceLen = <a class="code" href="group___strings.html#ga388ca55dd073575074821c146a585e2d">strings::GetAnsiStringLength</a>(cpuBrandBuffer);</div><div class="line"><a name="l04839"></a><span class="lineno"> 4839</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(sourceLen &lt;= maxDestBufferLen);</div><div class="line"><a name="l04840"></a><span class="lineno"> 4840</span>&#160;            <a class="code" href="group___strings.html#ga4540f0bb0f47aeba1a0900f9f107c188">strings::CopyAnsiString</a>(cpuBrandBuffer, sourceLen, destBuffer, maxDestBufferLen);</div><div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160;</div><div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;            <span class="keywordflow">return</span>(destBuffer);</div><div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;        }</div><div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160;    } <span class="comment">// hardware</span></div><div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;</div><div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160;    <span class="comment">// Win32 Console</span></div><div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;    <span class="keyword">namespace </span>console {</div><div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___console.html#ga5c6818646bf4500afb78745d63e00469">ConsoleOut</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *text) {</div><div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(text != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160;            fprintf(stdout, <span class="stringliteral">&quot;%s&quot;</span>, text);</div><div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160;        }</div><div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___console.html#gad6e322c2dc4df3e2424979bde28d97aa">ConsoleFormatOut</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *format, ...) {</div><div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(format != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;            va_list vaList;</div><div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160;            va_start(vaList, format);</div><div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160;            vfprintf(stdout, format, vaList);</div><div class="line"><a name="l04859"></a><span class="lineno"> 4859</span>&#160;            va_end(vaList);</div><div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160;        }</div><div class="line"><a name="l04861"></a><span class="lineno"> 4861</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___console.html#gaf9a2aff1071c86843688e16b8ee0431f">ConsoleError</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *text) {</div><div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(text != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160;            fprintf(stderr, <span class="stringliteral">&quot;%s&quot;</span>, text);</div><div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;        }</div><div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___console.html#gab30929f059d4467a70dc0269c9fb380b">ConsoleFormatError</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *format, ...) {</div><div class="line"><a name="l04866"></a><span class="lineno"> 4866</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(format != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;            va_list vaList;</div><div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160;            va_start(vaList, format);</div><div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160;            vfprintf(stderr, format, vaList);</div><div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160;            va_end(vaList);</div><div class="line"><a name="l04871"></a><span class="lineno"> 4871</span>&#160;        }</div><div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160;    }</div><div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;</div><div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;    <span class="comment">// Win32 Threading</span></div><div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;    <span class="keyword">namespace </span>threading {</div><div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> DWORD WINAPI Win32ThreadProc(<span class="keywordtype">void</span> *data) {</div><div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;            <a class="code" href="structfpl_1_1threading_1_1_thread_context.html">ThreadContext</a> *context = (<a class="code" href="structfpl_1_1threading_1_1_thread_context.html">ThreadContext</a> *)data;</div><div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(context != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;            <a class="code" href="group___atomics.html#ga01905a5db859475f4b394ed469af0c5a">atomics::AtomicStoreU32</a>((<span class="keyword">volatile</span> uint32_t *)&amp;context-&gt;<a class="code" href="structfpl_1_1threading_1_1_thread_context.html#a37c92f45870583481685fdc629f83e75">currentState</a>, (uint32_t)<a class="code" href="namespacefpl_1_1threading_1_1_thread_states.html#a8126df665987eab3a5d4d85806095082a2bd4d661f638779fa553b7593a1bdc57">ThreadState::Running</a>);</div><div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;            DWORD result = 0;</div><div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;            <span class="keywordflow">if</span> (context-&gt;<a class="code" href="structfpl_1_1threading_1_1_thread_context.html#a049c165d24aaac9c3c78dd2f58e7aeed">runFunc</a> != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;                context-&gt;<a class="code" href="structfpl_1_1threading_1_1_thread_context.html#a049c165d24aaac9c3c78dd2f58e7aeed">runFunc</a>(*context, context-&gt;<a class="code" href="structfpl_1_1threading_1_1_thread_context.html#a45e220e49d9bbd9239f234b6ecd8bfd8">data</a>);</div><div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;            }</div><div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;            <a class="code" href="group___atomics.html#ga01905a5db859475f4b394ed469af0c5a">atomics::AtomicStoreU32</a>((<span class="keyword">volatile</span> uint32_t *)&amp;context-&gt;<a class="code" href="structfpl_1_1threading_1_1_thread_context.html#a37c92f45870583481685fdc629f83e75">currentState</a>, (uint32_t)<a class="code" href="namespacefpl_1_1threading_1_1_thread_states.html#a8126df665987eab3a5d4d85806095082a08bcb5e39fc4e240908a1a10cc17ca34">ThreadState::Stopped</a>);</div><div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;        }</div><div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160;</div><div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <a class="code" href="structfpl_1_1threading_1_1_thread_context.html">ThreadContext</a> *<a class="code" href="group___threading.html#ga57538de72b2f378b1213428e81851e08">ThreadCreate</a>(<a class="code" href="group___threading.html#ga85f79de520df3b7e422e49ad280f4264">run_thread_function</a> *runFunc, <span class="keywordtype">void</span> *data, <span class="keyword">const</span> <span class="keywordtype">bool</span> autoStart) {</div><div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160;            <a class="code" href="structfpl_1_1threading_1_1_thread_context.html">ThreadContext</a> *result = <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>;</div><div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;            <a class="code" href="structfpl_1_1threading_1_1_thread_context.html">ThreadContext</a> *context = common::GetThreadContext();</div><div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160;            <span class="keywordflow">if</span> (context != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l04894"></a><span class="lineno"> 4894</span>&#160;                DWORD creationFlags = 0;</div><div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;                DWORD threadId = 0;</div><div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;                HANDLE handle = CreateThread(<a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, 0, Win32ThreadProc, context, CREATE_SUSPENDED, &amp;threadId);</div><div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160;                <span class="keywordflow">if</span> (handle != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l04898"></a><span class="lineno"> 4898</span>&#160;                    <span class="comment">// @TODO(final): Is this really needed to use a atomic store for setting the thread state?</span></div><div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;                    <a class="code" href="group___atomics.html#ga01905a5db859475f4b394ed469af0c5a">atomics::AtomicStoreU32</a>((<span class="keyword">volatile</span> uint32_t *)&amp;context-&gt;<a class="code" href="structfpl_1_1threading_1_1_thread_context.html#a37c92f45870583481685fdc629f83e75">currentState</a>, (uint32_t)ThreadState::Suspended);</div><div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160;                    context-&gt;<a class="code" href="structfpl_1_1threading_1_1_thread_context.html#a45e220e49d9bbd9239f234b6ecd8bfd8">data</a> = data;</div><div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160;                    context-&gt;<a class="code" href="structfpl_1_1threading_1_1_thread_context.html#af8cfcaa0345ee279f8979eec94a121c5">id</a> = threadId;</div><div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;                    context-&gt;<a class="code" href="structfpl_1_1threading_1_1_thread_context.html#a1d22580a4aa61dc8b20b516f81eef84f">internalHandle</a> = (<span class="keywordtype">void</span> *)handle;</div><div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;                    context-&gt;<a class="code" href="structfpl_1_1threading_1_1_thread_context.html#a049c165d24aaac9c3c78dd2f58e7aeed">runFunc</a> = runFunc;</div><div class="line"><a name="l04904"></a><span class="lineno"> 4904</span>&#160;                    <span class="keywordflow">if</span> (autoStart) {</div><div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160;                        ResumeThread(handle);</div><div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;                    }</div><div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;                    result = context;</div><div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;                    common::PushError(<span class="stringliteral">&quot;[Win32] Failed creating thread, error code: %d!&quot;</span>, GetLastError());</div><div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;                }</div><div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160;                common::PushError(<span class="stringliteral">&quot;[Win32] All %d threads are in use, you cannot create until you free one!&quot;</span>, common::MAX_THREAD_COUNT);</div><div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160;            }</div><div class="line"><a name="l04914"></a><span class="lineno"> 4914</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160;        }</div><div class="line"><a name="l04916"></a><span class="lineno"> 4916</span>&#160;</div><div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___threading.html#ga5549e8b3fb7ba18a8268bd8026c13c9b">ThreadSleep</a>(<span class="keyword">const</span> uint32_t milliseconds) {</div><div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160;            Sleep((DWORD)milliseconds);</div><div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160;        }</div><div class="line"><a name="l04920"></a><span class="lineno"> 4920</span>&#160;</div><div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___threading.html#ga13be443e258c267955a7f4fe6a9f4c7b">ThreadSuspend</a>(<a class="code" href="structfpl_1_1threading_1_1_thread_context.html">ThreadContext</a> *context) {</div><div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(context != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(context-&gt;<a class="code" href="structfpl_1_1threading_1_1_thread_context.html#a1d22580a4aa61dc8b20b516f81eef84f">internalHandle</a> != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160;            HANDLE handle = (HANDLE)context-&gt;<a class="code" href="structfpl_1_1threading_1_1_thread_context.html#a1d22580a4aa61dc8b20b516f81eef84f">internalHandle</a>;</div><div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160;            DWORD err = SuspendThread(handle);</div><div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;            <span class="keywordtype">bool</span> result = err != -1;</div><div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160;            <span class="keywordflow">if</span> (result) {</div><div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;                <span class="comment">// @TODO(final): Is this really needed to use a atomic store for setting the thread state?</span></div><div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;                <a class="code" href="group___atomics.html#ga01905a5db859475f4b394ed469af0c5a">atomics::AtomicStoreU32</a>((<span class="keyword">volatile</span> uint32_t *)&amp;context-&gt;<a class="code" href="structfpl_1_1threading_1_1_thread_context.html#a37c92f45870583481685fdc629f83e75">currentState</a>, (uint32_t)ThreadState::Suspended);</div><div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160;            }</div><div class="line"><a name="l04931"></a><span class="lineno"> 4931</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160;        }</div><div class="line"><a name="l04933"></a><span class="lineno"> 4933</span>&#160;</div><div class="line"><a name="l04934"></a><span class="lineno"> 4934</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___threading.html#ga8132b503372987c2e5c63eaeba985adb">ThreadResume</a>(<a class="code" href="structfpl_1_1threading_1_1_thread_context.html">ThreadContext</a> *context) {</div><div class="line"><a name="l04935"></a><span class="lineno"> 4935</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(context != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04936"></a><span class="lineno"> 4936</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(context-&gt;<a class="code" href="structfpl_1_1threading_1_1_thread_context.html#a1d22580a4aa61dc8b20b516f81eef84f">internalHandle</a> != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04937"></a><span class="lineno"> 4937</span>&#160;            HANDLE handle = (HANDLE)context-&gt;<a class="code" href="structfpl_1_1threading_1_1_thread_context.html#a1d22580a4aa61dc8b20b516f81eef84f">internalHandle</a>;</div><div class="line"><a name="l04938"></a><span class="lineno"> 4938</span>&#160;            DWORD err = ResumeThread(handle);</div><div class="line"><a name="l04939"></a><span class="lineno"> 4939</span>&#160;            <span class="keywordtype">bool</span> result = err != -1;</div><div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160;            <span class="keywordflow">if</span> (result) {</div><div class="line"><a name="l04941"></a><span class="lineno"> 4941</span>&#160;                <span class="comment">// @TODO(final): Is this really needed to use a atomic store for setting the thread state?</span></div><div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160;                <a class="code" href="group___atomics.html#ga01905a5db859475f4b394ed469af0c5a">atomics::AtomicStoreU32</a>((<span class="keyword">volatile</span> uint32_t *)&amp;context-&gt;<a class="code" href="structfpl_1_1threading_1_1_thread_context.html#a37c92f45870583481685fdc629f83e75">currentState</a>, (uint32_t)<a class="code" href="namespacefpl_1_1threading_1_1_thread_states.html#a8126df665987eab3a5d4d85806095082a2bd4d661f638779fa553b7593a1bdc57">ThreadState::Running</a>);</div><div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160;            }</div><div class="line"><a name="l04944"></a><span class="lineno"> 4944</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;        }</div><div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;</div><div class="line"><a name="l04947"></a><span class="lineno"> 4947</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___threading.html#gab78be4e5aa5bc3f267c844d2d9e46ce7">ThreadDestroy</a>(<a class="code" href="structfpl_1_1threading_1_1_thread_context.html">ThreadContext</a> *context) {</div><div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(context != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04949"></a><span class="lineno"> 4949</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(context-&gt;<a class="code" href="structfpl_1_1threading_1_1_thread_context.html#a1d22580a4aa61dc8b20b516f81eef84f">internalHandle</a> != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04950"></a><span class="lineno"> 4950</span>&#160;            HANDLE handle = (HANDLE)context-&gt;<a class="code" href="structfpl_1_1threading_1_1_thread_context.html#a1d22580a4aa61dc8b20b516f81eef84f">internalHandle</a>;</div><div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160;            TerminateThread(handle, 0);</div><div class="line"><a name="l04952"></a><span class="lineno"> 4952</span>&#160;            CloseHandle(handle);</div><div class="line"><a name="l04953"></a><span class="lineno"> 4953</span>&#160;            <span class="comment">// @TODO(final): Is this really needed to use a atomic store for setting the thread state?</span></div><div class="line"><a name="l04954"></a><span class="lineno"> 4954</span>&#160;            <a class="code" href="group___atomics.html#ga01905a5db859475f4b394ed469af0c5a">atomics::AtomicStoreU32</a>((<span class="keyword">volatile</span> uint32_t *)&amp;context-&gt;<a class="code" href="structfpl_1_1threading_1_1_thread_context.html#a37c92f45870583481685fdc629f83e75">currentState</a>, (uint32_t)<a class="code" href="namespacefpl_1_1threading_1_1_thread_states.html#a8126df665987eab3a5d4d85806095082a08bcb5e39fc4e240908a1a10cc17ca34">ThreadState::Stopped</a>);</div><div class="line"><a name="l04955"></a><span class="lineno"> 4955</span>&#160;            *context = {};</div><div class="line"><a name="l04956"></a><span class="lineno"> 4956</span>&#160;        }</div><div class="line"><a name="l04957"></a><span class="lineno"> 4957</span>&#160;</div><div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___threading.html#gaa40f358ef89b947e0b380a27acf7dbdc">ThreadWaitForOne</a>(<a class="code" href="structfpl_1_1threading_1_1_thread_context.html">ThreadContext</a> *context, <span class="keyword">const</span> uint32_t maxMilliseconds) {</div><div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(context != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(context-&gt;<a class="code" href="structfpl_1_1threading_1_1_thread_context.html#af8cfcaa0345ee279f8979eec94a121c5">id</a> &gt; 0);</div><div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(context-&gt;<a class="code" href="structfpl_1_1threading_1_1_thread_context.html#a1d22580a4aa61dc8b20b516f81eef84f">internalHandle</a> != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160;            HANDLE handle = (HANDLE)context-&gt;<a class="code" href="structfpl_1_1threading_1_1_thread_context.html#a1d22580a4aa61dc8b20b516f81eef84f">internalHandle</a>;</div><div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160;            WaitForSingleObject(handle, maxMilliseconds &lt; UINT32_MAX ? maxMilliseconds : INFINITE);</div><div class="line"><a name="l04964"></a><span class="lineno"> 4964</span>&#160;        }</div><div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;</div><div class="line"><a name="l04966"></a><span class="lineno"> 4966</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___threading.html#ga9f307a0b49aa4aa46886010d9eb88e0f">ThreadWaitForAll</a>(<a class="code" href="structfpl_1_1threading_1_1_thread_context.html">ThreadContext</a> **contexts, <span class="keyword">const</span> uint32_t count, <span class="keyword">const</span> uint32_t maxMilliseconds) {</div><div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160;            platform::Win32ThreadWaitForMultiple(contexts, count, <span class="keyword">true</span>, maxMilliseconds);</div><div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160;        }</div><div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160;</div><div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___threading.html#gad974c8976ebcafbb4788a7713eddf34f">ThreadWaitForAny</a>(<a class="code" href="structfpl_1_1threading_1_1_thread_context.html">ThreadContext</a> **contexts, <span class="keyword">const</span> uint32_t count, <span class="keyword">const</span> uint32_t maxMilliseconds) {</div><div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;            platform::Win32ThreadWaitForMultiple(contexts, count, <span class="keyword">false</span>, maxMilliseconds);</div><div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160;        }</div><div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;</div><div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <a class="code" href="structfpl_1_1threading_1_1_thread_mutex.html">ThreadMutex</a> <a class="code" href="group___threading.html#gad8496dd7dfa65ccd1b7187abe22e4a48">MutexCreate</a>() {</div><div class="line"><a name="l04975"></a><span class="lineno"> 4975</span>&#160;            <a class="code" href="structfpl_1_1threading_1_1_thread_mutex.html">ThreadMutex</a> result = {};</div><div class="line"><a name="l04976"></a><span class="lineno"> 4976</span>&#160;            HANDLE handle = CreateEventA(<a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, FALSE, TRUE, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04977"></a><span class="lineno"> 4977</span>&#160;            <span class="keywordflow">if</span> (handle != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l04978"></a><span class="lineno"> 4978</span>&#160;                result.<a class="code" href="structfpl_1_1threading_1_1_thread_mutex.html#ac9f37b25a248ca955dedfd07b13e3b3a">isValid</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160;                result.<a class="code" href="structfpl_1_1threading_1_1_thread_mutex.html#a0a405a35c51923753076b8620ff6fe08">internalHandle</a> = (<span class="keywordtype">void</span> *)handle;</div><div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160;            }</div><div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l04982"></a><span class="lineno"> 4982</span>&#160;        }</div><div class="line"><a name="l04983"></a><span class="lineno"> 4983</span>&#160;</div><div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___threading.html#ga9fda6954c3de6afbc9e09b4636001282">MutexDestroy</a>(<a class="code" href="structfpl_1_1threading_1_1_thread_mutex.html">ThreadMutex</a> &amp;mutex) {</div><div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(mutex.<a class="code" href="structfpl_1_1threading_1_1_thread_mutex.html#ac9f37b25a248ca955dedfd07b13e3b3a">isValid</a>);</div><div class="line"><a name="l04986"></a><span class="lineno"> 4986</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(mutex.<a class="code" href="structfpl_1_1threading_1_1_thread_mutex.html#a0a405a35c51923753076b8620ff6fe08">internalHandle</a> != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04987"></a><span class="lineno"> 4987</span>&#160;            HANDLE handle = (HANDLE)mutex.<a class="code" href="structfpl_1_1threading_1_1_thread_mutex.html#a0a405a35c51923753076b8620ff6fe08">internalHandle</a>;</div><div class="line"><a name="l04988"></a><span class="lineno"> 4988</span>&#160;            CloseHandle(handle);</div><div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160;            mutex = {};</div><div class="line"><a name="l04990"></a><span class="lineno"> 4990</span>&#160;        }</div><div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160;</div><div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___threading.html#ga0126a46029f274634d90437fe39564b7">MutexLock</a>(<a class="code" href="structfpl_1_1threading_1_1_thread_mutex.html">ThreadMutex</a> &amp;mutex, <span class="keyword">const</span> uint32_t maxMilliseconds) {</div><div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(mutex.<a class="code" href="structfpl_1_1threading_1_1_thread_mutex.html#ac9f37b25a248ca955dedfd07b13e3b3a">isValid</a>);</div><div class="line"><a name="l04994"></a><span class="lineno"> 4994</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(mutex.<a class="code" href="structfpl_1_1threading_1_1_thread_mutex.html#a0a405a35c51923753076b8620ff6fe08">internalHandle</a> != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160;            HANDLE handle = (HANDLE)mutex.<a class="code" href="structfpl_1_1threading_1_1_thread_mutex.html#a0a405a35c51923753076b8620ff6fe08">internalHandle</a>;</div><div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160;            WaitForSingleObject(handle, maxMilliseconds &lt; UINT32_MAX ? maxMilliseconds : INFINITE);</div><div class="line"><a name="l04997"></a><span class="lineno"> 4997</span>&#160;        }</div><div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160;</div><div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___threading.html#gab2f18851290d803349ef71c1aa78b493">MutexUnlock</a>(<a class="code" href="structfpl_1_1threading_1_1_thread_mutex.html">ThreadMutex</a> &amp;mutex) {</div><div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(mutex.<a class="code" href="structfpl_1_1threading_1_1_thread_mutex.html#ac9f37b25a248ca955dedfd07b13e3b3a">isValid</a>);</div><div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(mutex.<a class="code" href="structfpl_1_1threading_1_1_thread_mutex.html#a0a405a35c51923753076b8620ff6fe08">internalHandle</a> != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05002"></a><span class="lineno"> 5002</span>&#160;            HANDLE handle = (HANDLE)mutex.<a class="code" href="structfpl_1_1threading_1_1_thread_mutex.html#a0a405a35c51923753076b8620ff6fe08">internalHandle</a>;</div><div class="line"><a name="l05003"></a><span class="lineno"> 5003</span>&#160;            SetEvent(handle);</div><div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160;        }</div><div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;</div><div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <a class="code" href="structfpl_1_1threading_1_1_thread_signal.html">ThreadSignal</a> <a class="code" href="group___threading.html#gaee83c654cfd2d0aa41de1c03b9d3cd5c">SignalCreate</a>() {</div><div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160;            <a class="code" href="structfpl_1_1threading_1_1_thread_signal.html">ThreadSignal</a> result = {};</div><div class="line"><a name="l05008"></a><span class="lineno"> 5008</span>&#160;            HANDLE handle = CreateEventA(<a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, FALSE, FALSE, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;            <span class="keywordflow">if</span> (handle != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l05010"></a><span class="lineno"> 5010</span>&#160;                result.<a class="code" href="structfpl_1_1threading_1_1_thread_signal.html#ad1fdb9120b0cec2a0bf5c554640810be">isValid</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160;                result.<a class="code" href="structfpl_1_1threading_1_1_thread_signal.html#adbf395c4e509672e4690bdecd6a1ce19">internalHandle</a> = (<span class="keywordtype">void</span> *)handle;</div><div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160;            }</div><div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160;        }</div><div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160;</div><div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___threading.html#ga878223b24ec17a7b4b8f6e6f945340f9">SignalDestroy</a>(<a class="code" href="structfpl_1_1threading_1_1_thread_signal.html">ThreadSignal</a> &amp;availableSignal) {</div><div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(availableSignal.<a class="code" href="structfpl_1_1threading_1_1_thread_signal.html#ad1fdb9120b0cec2a0bf5c554640810be">isValid</a>);</div><div class="line"><a name="l05018"></a><span class="lineno"> 5018</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(availableSignal.<a class="code" href="structfpl_1_1threading_1_1_thread_signal.html#adbf395c4e509672e4690bdecd6a1ce19">internalHandle</a> != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160;            HANDLE handle = (HANDLE)availableSignal.<a class="code" href="structfpl_1_1threading_1_1_thread_signal.html#adbf395c4e509672e4690bdecd6a1ce19">internalHandle</a>;</div><div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160;            CloseHandle(handle);</div><div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160;            availableSignal = {};</div><div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;        }</div><div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160;</div><div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___threading.html#ga794026517242c2a47581bb2d2cb8c88c">SignalWaitForOne</a>(<a class="code" href="structfpl_1_1threading_1_1_thread_signal.html">ThreadSignal</a> &amp;availableSignal, <span class="keyword">const</span> uint32_t maxMilliseconds) {</div><div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(availableSignal.<a class="code" href="structfpl_1_1threading_1_1_thread_signal.html#ad1fdb9120b0cec2a0bf5c554640810be">isValid</a>);</div><div class="line"><a name="l05026"></a><span class="lineno"> 5026</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(availableSignal.<a class="code" href="structfpl_1_1threading_1_1_thread_signal.html#adbf395c4e509672e4690bdecd6a1ce19">internalHandle</a> != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160;            HANDLE handle = (HANDLE)availableSignal.<a class="code" href="structfpl_1_1threading_1_1_thread_signal.html#adbf395c4e509672e4690bdecd6a1ce19">internalHandle</a>;</div><div class="line"><a name="l05028"></a><span class="lineno"> 5028</span>&#160;            <span class="keywordtype">bool</span> result = (WaitForSingleObject(handle, maxMilliseconds &lt; UINT32_MAX ? maxMilliseconds : INFINITE) == WAIT_OBJECT_0);</div><div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160;        }</div><div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;</div><div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___threading.html#ga80c427b07b401cbdb33a0c2375ea2a7d">SignalWaitForAll</a>(<a class="code" href="structfpl_1_1threading_1_1_thread_signal.html">ThreadSignal</a> **signals, <span class="keyword">const</span> uint32_t count, <span class="keyword">const</span> uint32_t maxMilliseconds) {</div><div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;            <span class="keywordtype">bool</span> result = platform::Win32SignalWaitForMultiple(signals, count, <span class="keyword">true</span>, maxMilliseconds);</div><div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160;        }</div><div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;</div><div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___threading.html#gaa775ca62b233851623ab917a7bd028ff">SignalWaitForAny</a>(<a class="code" href="structfpl_1_1threading_1_1_thread_signal.html">ThreadSignal</a> **signals, <span class="keyword">const</span> uint32_t count, <span class="keyword">const</span> uint32_t maxMilliseconds) {</div><div class="line"><a name="l05038"></a><span class="lineno"> 5038</span>&#160;            <span class="keywordtype">bool</span> result = platform::Win32SignalWaitForMultiple(signals, count, <span class="keyword">false</span>, maxMilliseconds);</div><div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;        }</div><div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160;</div><div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___threading.html#gadf5a26ce3c88ba521a6a291e2ee956f7">SignalWakeUp</a>(<a class="code" href="structfpl_1_1threading_1_1_thread_signal.html">ThreadSignal</a> &amp;availableSignal) {</div><div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(availableSignal.<a class="code" href="structfpl_1_1threading_1_1_thread_signal.html#ad1fdb9120b0cec2a0bf5c554640810be">isValid</a>);</div><div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(availableSignal.<a class="code" href="structfpl_1_1threading_1_1_thread_signal.html#adbf395c4e509672e4690bdecd6a1ce19">internalHandle</a> != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160;            HANDLE handle = (HANDLE)availableSignal.<a class="code" href="structfpl_1_1threading_1_1_thread_signal.html#adbf395c4e509672e4690bdecd6a1ce19">internalHandle</a>;</div><div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160;            <span class="keywordtype">bool</span> result = SetEvent(handle) == TRUE;</div><div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;        }</div><div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;</div><div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___threading.html#ga60ae994f2b79e901efde8b9196019ed1">SignalReset</a>(<a class="code" href="structfpl_1_1threading_1_1_thread_signal.html">ThreadSignal</a> &amp;availableSignal) {</div><div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(availableSignal.<a class="code" href="structfpl_1_1threading_1_1_thread_signal.html#ad1fdb9120b0cec2a0bf5c554640810be">isValid</a>);</div><div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(availableSignal.<a class="code" href="structfpl_1_1threading_1_1_thread_signal.html#adbf395c4e509672e4690bdecd6a1ce19">internalHandle</a> != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05053"></a><span class="lineno"> 5053</span>&#160;            HANDLE handle = (HANDLE)availableSignal.<a class="code" href="structfpl_1_1threading_1_1_thread_signal.html#adbf395c4e509672e4690bdecd6a1ce19">internalHandle</a>;</div><div class="line"><a name="l05054"></a><span class="lineno"> 5054</span>&#160;            <span class="keywordtype">bool</span> result = ResetEvent(handle) == TRUE;</div><div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160;        }</div><div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160;</div><div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;    } <span class="comment">// threading</span></div><div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;</div><div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l05061"></a><span class="lineno"> 5061</span>&#160;    <span class="comment">// Win32 Memory</span></div><div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160;    <span class="keyword">namespace </span>memory {</div><div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> *<a class="code" href="group___memory.html#gaabe256ab34794ac0f3f1633674de97f5">MemoryAllocate</a>(<span class="keyword">const</span> <span class="keywordtype">size_t</span> size) {</div><div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(size &gt; 0);</div><div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160;            <span class="keywordtype">void</span> *result = VirtualAlloc(0, size, MEM_RESERVE | MEM_COMMIT, PAGE_READWRITE);</div><div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160;            <span class="keywordflow">if</span> (result == <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160;                common::PushError(<span class="stringliteral">&quot;[Win32] Failed allocating memory of %xu bytes!&quot;</span>, size);</div><div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160;            }</div><div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;        }</div><div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160;</div><div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___memory.html#ga62c8cc6c740a8089309c6e28ec03d83a">MemoryFree</a>(<span class="keywordtype">void</span> *ptr) {</div><div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(ptr != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160;            VirtualFree(ptr, 0, MEM_FREE);</div><div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160;        }</div><div class="line"><a name="l05077"></a><span class="lineno"> 5077</span>&#160;</div><div class="line"><a name="l05078"></a><span class="lineno"> 5078</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> *<a class="code" href="group___memory.html#gaae59e8f8c515b0a58ece0a60588779dd">MemoryStackAllocate</a>(<span class="keyword">const</span> <span class="keywordtype">size_t</span> size) {</div><div class="line"><a name="l05079"></a><span class="lineno"> 5079</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(size &gt; 0);</div><div class="line"><a name="l05080"></a><span class="lineno"> 5080</span>&#160;            <span class="keywordtype">void</span> *result = _malloca(size);</div><div class="line"><a name="l05081"></a><span class="lineno"> 5081</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05082"></a><span class="lineno"> 5082</span>&#160;        }</div><div class="line"><a name="l05083"></a><span class="lineno"> 5083</span>&#160;    } <span class="comment">// memory</span></div><div class="line"><a name="l05084"></a><span class="lineno"> 5084</span>&#160;</div><div class="line"><a name="l05085"></a><span class="lineno"> 5085</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l05086"></a><span class="lineno"> 5086</span>&#160;    <span class="comment">// Win32 Files</span></div><div class="line"><a name="l05087"></a><span class="lineno"> 5087</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l05088"></a><span class="lineno"> 5088</span>&#160;    <span class="keyword">namespace </span>files {</div><div class="line"><a name="l05089"></a><span class="lineno"> 5089</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <a class="code" href="structfpl_1_1files_1_1_file_handle.html">FileHandle</a> <a class="code" href="group___files.html#ga24bff7e5072f14496b432d8832791eed">OpenBinaryFile</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filePath) {</div><div class="line"><a name="l05090"></a><span class="lineno"> 5090</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(filePath != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05091"></a><span class="lineno"> 5091</span>&#160;            <a class="code" href="structfpl_1_1files_1_1_file_handle.html">FileHandle</a> result = {};</div><div class="line"><a name="l05092"></a><span class="lineno"> 5092</span>&#160;            HANDLE win32FileHandle = CreateFileA(filePath, GENERIC_READ, FILE_SHARE_READ, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, OPEN_EXISTING, FILE_ATTRIBUTE_NORMAL, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05093"></a><span class="lineno"> 5093</span>&#160;            <span class="keywordflow">if</span> (win32FileHandle != INVALID_HANDLE_VALUE) {</div><div class="line"><a name="l05094"></a><span class="lineno"> 5094</span>&#160;                result.<a class="code" href="structfpl_1_1files_1_1_file_handle.html#aaf9e97915a9adf8f803eceae29a7c870">isValid</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l05095"></a><span class="lineno"> 5095</span>&#160;                result.<a class="code" href="structfpl_1_1files_1_1_file_handle.html#adc4e830cd01b7283dec31109c978d950">internalHandle</a> = (<span class="keywordtype">void</span> *)win32FileHandle;</div><div class="line"><a name="l05096"></a><span class="lineno"> 5096</span>&#160;            }</div><div class="line"><a name="l05097"></a><span class="lineno"> 5097</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05098"></a><span class="lineno"> 5098</span>&#160;        }</div><div class="line"><a name="l05099"></a><span class="lineno"> 5099</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <a class="code" href="structfpl_1_1files_1_1_file_handle.html">FileHandle</a> <a class="code" href="group___files.html#ga24bff7e5072f14496b432d8832791eed">OpenBinaryFile</a>(<span class="keyword">const</span> <span class="keywordtype">wchar_t</span> *filePath) {</div><div class="line"><a name="l05100"></a><span class="lineno"> 5100</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(filePath != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160;            <a class="code" href="structfpl_1_1files_1_1_file_handle.html">FileHandle</a> result = {};</div><div class="line"><a name="l05102"></a><span class="lineno"> 5102</span>&#160;            HANDLE win32FileHandle = CreateFileW(filePath, GENERIC_READ, FILE_SHARE_READ, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, OPEN_EXISTING, FILE_ATTRIBUTE_NORMAL, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160;            <span class="keywordflow">if</span> (win32FileHandle != INVALID_HANDLE_VALUE) {</div><div class="line"><a name="l05104"></a><span class="lineno"> 5104</span>&#160;                result.<a class="code" href="structfpl_1_1files_1_1_file_handle.html#aaf9e97915a9adf8f803eceae29a7c870">isValid</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l05105"></a><span class="lineno"> 5105</span>&#160;                result.<a class="code" href="structfpl_1_1files_1_1_file_handle.html#adc4e830cd01b7283dec31109c978d950">internalHandle</a> = (<span class="keywordtype">void</span> *)win32FileHandle;</div><div class="line"><a name="l05106"></a><span class="lineno"> 5106</span>&#160;            }</div><div class="line"><a name="l05107"></a><span class="lineno"> 5107</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05108"></a><span class="lineno"> 5108</span>&#160;        }</div><div class="line"><a name="l05109"></a><span class="lineno"> 5109</span>&#160;</div><div class="line"><a name="l05110"></a><span class="lineno"> 5110</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <a class="code" href="structfpl_1_1files_1_1_file_handle.html">FileHandle</a> <a class="code" href="group___files.html#ga6dff9fb81386319d26f9221457734dc4">CreateBinaryFile</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filePath) {</div><div class="line"><a name="l05111"></a><span class="lineno"> 5111</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(filePath != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05112"></a><span class="lineno"> 5112</span>&#160;            <a class="code" href="structfpl_1_1files_1_1_file_handle.html">FileHandle</a> result = {};</div><div class="line"><a name="l05113"></a><span class="lineno"> 5113</span>&#160;            HANDLE win32FileHandle = CreateFileA(filePath, GENERIC_WRITE, FILE_SHARE_WRITE, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, CREATE_ALWAYS, FILE_ATTRIBUTE_NORMAL, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05114"></a><span class="lineno"> 5114</span>&#160;            <span class="keywordflow">if</span> (win32FileHandle != INVALID_HANDLE_VALUE) {</div><div class="line"><a name="l05115"></a><span class="lineno"> 5115</span>&#160;                result.<a class="code" href="structfpl_1_1files_1_1_file_handle.html#aaf9e97915a9adf8f803eceae29a7c870">isValid</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l05116"></a><span class="lineno"> 5116</span>&#160;                result.<a class="code" href="structfpl_1_1files_1_1_file_handle.html#adc4e830cd01b7283dec31109c978d950">internalHandle</a> = (<span class="keywordtype">void</span> *)win32FileHandle;</div><div class="line"><a name="l05117"></a><span class="lineno"> 5117</span>&#160;            }</div><div class="line"><a name="l05118"></a><span class="lineno"> 5118</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05119"></a><span class="lineno"> 5119</span>&#160;        }</div><div class="line"><a name="l05120"></a><span class="lineno"> 5120</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <a class="code" href="structfpl_1_1files_1_1_file_handle.html">FileHandle</a> <a class="code" href="group___files.html#ga6dff9fb81386319d26f9221457734dc4">CreateBinaryFile</a>(<span class="keyword">const</span> <span class="keywordtype">wchar_t</span> *filePath) {</div><div class="line"><a name="l05121"></a><span class="lineno"> 5121</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(filePath != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05122"></a><span class="lineno"> 5122</span>&#160;            <a class="code" href="structfpl_1_1files_1_1_file_handle.html">FileHandle</a> result = {};</div><div class="line"><a name="l05123"></a><span class="lineno"> 5123</span>&#160;            HANDLE win32FileHandle = CreateFileW(filePath, GENERIC_WRITE, FILE_SHARE_WRITE, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, CREATE_ALWAYS, FILE_ATTRIBUTE_NORMAL, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05124"></a><span class="lineno"> 5124</span>&#160;            <span class="keywordflow">if</span> (win32FileHandle != INVALID_HANDLE_VALUE) {</div><div class="line"><a name="l05125"></a><span class="lineno"> 5125</span>&#160;                result.<a class="code" href="structfpl_1_1files_1_1_file_handle.html#aaf9e97915a9adf8f803eceae29a7c870">isValid</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l05126"></a><span class="lineno"> 5126</span>&#160;                result.<a class="code" href="structfpl_1_1files_1_1_file_handle.html#adc4e830cd01b7283dec31109c978d950">internalHandle</a> = (<span class="keywordtype">void</span> *)win32FileHandle;</div><div class="line"><a name="l05127"></a><span class="lineno"> 5127</span>&#160;            }</div><div class="line"><a name="l05128"></a><span class="lineno"> 5128</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05129"></a><span class="lineno"> 5129</span>&#160;        }</div><div class="line"><a name="l05130"></a><span class="lineno"> 5130</span>&#160;</div><div class="line"><a name="l05131"></a><span class="lineno"> 5131</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint32_t <a class="code" href="group___files.html#ga0884301043e2c2df8433055bccb3d83f">ReadFileBlock32</a>(<span class="keyword">const</span> <a class="code" href="structfpl_1_1files_1_1_file_handle.html">FileHandle</a> &amp;fileHandle, <span class="keyword">const</span> uint32_t sizeToRead, <span class="keywordtype">void</span> *targetBuffer, <span class="keyword">const</span> uint32_t maxTargetBufferSize) {</div><div class="line"><a name="l05132"></a><span class="lineno"> 5132</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(targetBuffer != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05133"></a><span class="lineno"> 5133</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(sizeToRead &gt; 0);</div><div class="line"><a name="l05134"></a><span class="lineno"> 5134</span>&#160;            uint32_t result = 0;</div><div class="line"><a name="l05135"></a><span class="lineno"> 5135</span>&#160;            <span class="keywordflow">if</span> (fileHandle.<a class="code" href="structfpl_1_1files_1_1_file_handle.html#aaf9e97915a9adf8f803eceae29a7c870">isValid</a>) {</div><div class="line"><a name="l05136"></a><span class="lineno"> 5136</span>&#160;                <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(fileHandle.<a class="code" href="structfpl_1_1files_1_1_file_handle.html#adc4e830cd01b7283dec31109c978d950">internalHandle</a> != INVALID_HANDLE_VALUE);</div><div class="line"><a name="l05137"></a><span class="lineno"> 5137</span>&#160;                HANDLE win32FileHandle = (<span class="keywordtype">void</span> *)fileHandle.<a class="code" href="structfpl_1_1files_1_1_file_handle.html#adc4e830cd01b7283dec31109c978d950">internalHandle</a>;</div><div class="line"><a name="l05138"></a><span class="lineno"> 5138</span>&#160;                DWORD bytesRead = 0;</div><div class="line"><a name="l05139"></a><span class="lineno"> 5139</span>&#160;                if (ReadFile(win32FileHandle, targetBuffer, (DWORD)sizeToRead, &amp;bytesRead, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) == TRUE) {</div><div class="line"><a name="l05140"></a><span class="lineno"> 5140</span>&#160;                    result = bytesRead;</div><div class="line"><a name="l05141"></a><span class="lineno"> 5141</span>&#160;                }</div><div class="line"><a name="l05142"></a><span class="lineno"> 5142</span>&#160;            }</div><div class="line"><a name="l05143"></a><span class="lineno"> 5143</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05144"></a><span class="lineno"> 5144</span>&#160;        }</div><div class="line"><a name="l05145"></a><span class="lineno"> 5145</span>&#160;</div><div class="line"><a name="l05146"></a><span class="lineno"> 5146</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint32_t <a class="code" href="group___files.html#ga14d97136914889a756685ab47b7699c2">WriteFileBlock32</a>(<span class="keyword">const</span> <a class="code" href="structfpl_1_1files_1_1_file_handle.html">FileHandle</a> &amp;fileHandle, <span class="keywordtype">void</span> *sourceBuffer, <span class="keyword">const</span> uint32_t sourceSize) {</div><div class="line"><a name="l05147"></a><span class="lineno"> 5147</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(sourceBuffer != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05148"></a><span class="lineno"> 5148</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(sourceSize &gt; 0);</div><div class="line"><a name="l05149"></a><span class="lineno"> 5149</span>&#160;            uint32_t result = 0;</div><div class="line"><a name="l05150"></a><span class="lineno"> 5150</span>&#160;            <span class="keywordflow">if</span> (fileHandle.<a class="code" href="structfpl_1_1files_1_1_file_handle.html#aaf9e97915a9adf8f803eceae29a7c870">isValid</a>) {</div><div class="line"><a name="l05151"></a><span class="lineno"> 5151</span>&#160;                <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(fileHandle.<a class="code" href="structfpl_1_1files_1_1_file_handle.html#adc4e830cd01b7283dec31109c978d950">internalHandle</a> != INVALID_HANDLE_VALUE);</div><div class="line"><a name="l05152"></a><span class="lineno"> 5152</span>&#160;                HANDLE win32FileHandle = (<span class="keywordtype">void</span> *)fileHandle.<a class="code" href="structfpl_1_1files_1_1_file_handle.html#adc4e830cd01b7283dec31109c978d950">internalHandle</a>;</div><div class="line"><a name="l05153"></a><span class="lineno"> 5153</span>&#160;                DWORD bytesWritten = 0;</div><div class="line"><a name="l05154"></a><span class="lineno"> 5154</span>&#160;                if (WriteFile(win32FileHandle, sourceBuffer, (DWORD)sourceSize, &amp;bytesWritten, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) == TRUE) {</div><div class="line"><a name="l05155"></a><span class="lineno"> 5155</span>&#160;                    result = bytesWritten;</div><div class="line"><a name="l05156"></a><span class="lineno"> 5156</span>&#160;                }</div><div class="line"><a name="l05157"></a><span class="lineno"> 5157</span>&#160;            }</div><div class="line"><a name="l05158"></a><span class="lineno"> 5158</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05159"></a><span class="lineno"> 5159</span>&#160;        }</div><div class="line"><a name="l05160"></a><span class="lineno"> 5160</span>&#160;</div><div class="line"><a name="l05161"></a><span class="lineno"> 5161</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___files.html#gab5939727e72dd37ec7ad8bf2f0f9a077">SetFilePosition32</a>(<span class="keyword">const</span> <a class="code" href="structfpl_1_1files_1_1_file_handle.html">FileHandle</a> &amp;fileHandle, <span class="keyword">const</span> uint32_t position, <span class="keyword">const</span> <a class="code" href="namespacefpl_1_1files_1_1_file_position_modes.html#a8cbd0d70c12d2d153dbbe61b36a55200">FilePositionMode</a> mode) {</div><div class="line"><a name="l05162"></a><span class="lineno"> 5162</span>&#160;            <span class="keywordflow">if</span> (fileHandle.<a class="code" href="structfpl_1_1files_1_1_file_handle.html#aaf9e97915a9adf8f803eceae29a7c870">isValid</a>) {</div><div class="line"><a name="l05163"></a><span class="lineno"> 5163</span>&#160;                <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(fileHandle.<a class="code" href="structfpl_1_1files_1_1_file_handle.html#adc4e830cd01b7283dec31109c978d950">internalHandle</a> != INVALID_HANDLE_VALUE);</div><div class="line"><a name="l05164"></a><span class="lineno"> 5164</span>&#160;                HANDLE win32FileHandle = (<span class="keywordtype">void</span> *)fileHandle.<a class="code" href="structfpl_1_1files_1_1_file_handle.html#adc4e830cd01b7283dec31109c978d950">internalHandle</a>;</div><div class="line"><a name="l05165"></a><span class="lineno"> 5165</span>&#160;                DWORD moveMethod = FILE_BEGIN;</div><div class="line"><a name="l05166"></a><span class="lineno"> 5166</span>&#160;                if (mode == <a class="code" href="namespacefpl_1_1files_1_1_file_position_modes.html#a8cbd0d70c12d2d153dbbe61b36a55200a1fc239c87fbef73d8758ed7b7be69571">FilePositionMode::Current</a>) {</div><div class="line"><a name="l05167"></a><span class="lineno"> 5167</span>&#160;                    moveMethod = FILE_CURRENT;</div><div class="line"><a name="l05168"></a><span class="lineno"> 5168</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mode == <a class="code" href="namespacefpl_1_1files_1_1_file_position_modes.html#a8cbd0d70c12d2d153dbbe61b36a55200ac59d81b1369316d6906016cc8b767f4c">FilePositionMode::End</a>) {</div><div class="line"><a name="l05169"></a><span class="lineno"> 5169</span>&#160;                    moveMethod = FILE_END;</div><div class="line"><a name="l05170"></a><span class="lineno"> 5170</span>&#160;                }</div><div class="line"><a name="l05171"></a><span class="lineno"> 5171</span>&#160;                SetFilePointer(win32FileHandle, (LONG)position, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, moveMethod);</div><div class="line"><a name="l05172"></a><span class="lineno"> 5172</span>&#160;            }</div><div class="line"><a name="l05173"></a><span class="lineno"> 5173</span>&#160;        }</div><div class="line"><a name="l05174"></a><span class="lineno"> 5174</span>&#160;</div><div class="line"><a name="l05175"></a><span class="lineno"> 5175</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint32_t <a class="code" href="group___files.html#ga991df8158e3abcd8b03930562bd118ba">GetFilePosition32</a>(<span class="keyword">const</span> <a class="code" href="structfpl_1_1files_1_1_file_handle.html">FileHandle</a> &amp;fileHandle) {</div><div class="line"><a name="l05176"></a><span class="lineno"> 5176</span>&#160;            uint32_t result = 0;</div><div class="line"><a name="l05177"></a><span class="lineno"> 5177</span>&#160;            <span class="keywordflow">if</span> (fileHandle.<a class="code" href="structfpl_1_1files_1_1_file_handle.html#aaf9e97915a9adf8f803eceae29a7c870">isValid</a>) {</div><div class="line"><a name="l05178"></a><span class="lineno"> 5178</span>&#160;                <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(fileHandle.<a class="code" href="structfpl_1_1files_1_1_file_handle.html#adc4e830cd01b7283dec31109c978d950">internalHandle</a> != INVALID_HANDLE_VALUE);</div><div class="line"><a name="l05179"></a><span class="lineno"> 5179</span>&#160;                HANDLE win32FileHandle = (<span class="keywordtype">void</span> *)fileHandle.<a class="code" href="structfpl_1_1files_1_1_file_handle.html#adc4e830cd01b7283dec31109c978d950">internalHandle</a>;</div><div class="line"><a name="l05180"></a><span class="lineno"> 5180</span>&#160;                DWORD filePosition = SetFilePointer(win32FileHandle, 0L, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, FILE_CURRENT);</div><div class="line"><a name="l05181"></a><span class="lineno"> 5181</span>&#160;                <span class="keywordflow">if</span> (filePosition != INVALID_SET_FILE_POINTER) {</div><div class="line"><a name="l05182"></a><span class="lineno"> 5182</span>&#160;                    result = filePosition;</div><div class="line"><a name="l05183"></a><span class="lineno"> 5183</span>&#160;                }</div><div class="line"><a name="l05184"></a><span class="lineno"> 5184</span>&#160;            }</div><div class="line"><a name="l05185"></a><span class="lineno"> 5185</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05186"></a><span class="lineno"> 5186</span>&#160;        }</div><div class="line"><a name="l05187"></a><span class="lineno"> 5187</span>&#160;</div><div class="line"><a name="l05188"></a><span class="lineno"> 5188</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___files.html#gadf8a868ce8399951d94368b2a6efe9ad">CloseFile</a>(<a class="code" href="structfpl_1_1files_1_1_file_handle.html">FileHandle</a> &amp;fileHandle) {</div><div class="line"><a name="l05189"></a><span class="lineno"> 5189</span>&#160;            <span class="keywordflow">if</span> (fileHandle.<a class="code" href="structfpl_1_1files_1_1_file_handle.html#aaf9e97915a9adf8f803eceae29a7c870">isValid</a>) {</div><div class="line"><a name="l05190"></a><span class="lineno"> 5190</span>&#160;                <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(fileHandle.<a class="code" href="structfpl_1_1files_1_1_file_handle.html#adc4e830cd01b7283dec31109c978d950">internalHandle</a> != INVALID_HANDLE_VALUE);</div><div class="line"><a name="l05191"></a><span class="lineno"> 5191</span>&#160;                HANDLE win32FileHandle = (<span class="keywordtype">void</span> *)fileHandle.<a class="code" href="structfpl_1_1files_1_1_file_handle.html#adc4e830cd01b7283dec31109c978d950">internalHandle</a>;</div><div class="line"><a name="l05192"></a><span class="lineno"> 5192</span>&#160;                CloseHandle(win32FileHandle);</div><div class="line"><a name="l05193"></a><span class="lineno"> 5193</span>&#160;            }</div><div class="line"><a name="l05194"></a><span class="lineno"> 5194</span>&#160;            fileHandle = {};</div><div class="line"><a name="l05195"></a><span class="lineno"> 5195</span>&#160;        }</div><div class="line"><a name="l05196"></a><span class="lineno"> 5196</span>&#160;</div><div class="line"><a name="l05197"></a><span class="lineno"> 5197</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint32_t <a class="code" href="group___files.html#ga0d2785fac8c42fc55c3dbf02f93204af">GetFileSize32</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filePath) {</div><div class="line"><a name="l05198"></a><span class="lineno"> 5198</span>&#160;            uint32_t result = 0;</div><div class="line"><a name="l05199"></a><span class="lineno"> 5199</span>&#160;            HANDLE win32FileHandle = CreateFileA(filePath, GENERIC_READ, FILE_SHARE_READ, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, OPEN_EXISTING, FILE_ATTRIBUTE_NORMAL, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05200"></a><span class="lineno"> 5200</span>&#160;            <span class="keywordflow">if</span> (win32FileHandle != INVALID_HANDLE_VALUE) {</div><div class="line"><a name="l05201"></a><span class="lineno"> 5201</span>&#160;                DWORD fileSize = GetFileSize(win32FileHandle, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05202"></a><span class="lineno"> 5202</span>&#160;                result = fileSize;</div><div class="line"><a name="l05203"></a><span class="lineno"> 5203</span>&#160;                CloseHandle(win32FileHandle);</div><div class="line"><a name="l05204"></a><span class="lineno"> 5204</span>&#160;            }</div><div class="line"><a name="l05205"></a><span class="lineno"> 5205</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05206"></a><span class="lineno"> 5206</span>&#160;        }</div><div class="line"><a name="l05207"></a><span class="lineno"> 5207</span>&#160;</div><div class="line"><a name="l05208"></a><span class="lineno"> 5208</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint32_t <a class="code" href="group___files.html#ga0d2785fac8c42fc55c3dbf02f93204af">GetFileSize32</a>(<span class="keyword">const</span> <a class="code" href="structfpl_1_1files_1_1_file_handle.html">FileHandle</a> &amp;fileHandle) {</div><div class="line"><a name="l05209"></a><span class="lineno"> 5209</span>&#160;            uint32_t result = 0;</div><div class="line"><a name="l05210"></a><span class="lineno"> 5210</span>&#160;            <span class="keywordflow">if</span> (fileHandle.<a class="code" href="structfpl_1_1files_1_1_file_handle.html#aaf9e97915a9adf8f803eceae29a7c870">isValid</a>) {</div><div class="line"><a name="l05211"></a><span class="lineno"> 5211</span>&#160;                <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(fileHandle.<a class="code" href="structfpl_1_1files_1_1_file_handle.html#adc4e830cd01b7283dec31109c978d950">internalHandle</a> != INVALID_HANDLE_VALUE);</div><div class="line"><a name="l05212"></a><span class="lineno"> 5212</span>&#160;                HANDLE win32FileHandle = (<span class="keywordtype">void</span> *)fileHandle.<a class="code" href="structfpl_1_1files_1_1_file_handle.html#adc4e830cd01b7283dec31109c978d950">internalHandle</a>;</div><div class="line"><a name="l05213"></a><span class="lineno"> 5213</span>&#160;                DWORD fileSize = GetFileSize(win32FileHandle, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05214"></a><span class="lineno"> 5214</span>&#160;                result = fileSize;</div><div class="line"><a name="l05215"></a><span class="lineno"> 5215</span>&#160;            }</div><div class="line"><a name="l05216"></a><span class="lineno"> 5216</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05217"></a><span class="lineno"> 5217</span>&#160;        }</div><div class="line"><a name="l05218"></a><span class="lineno"> 5218</span>&#160;</div><div class="line"><a name="l05219"></a><span class="lineno"> 5219</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___files.html#ga48b28a1bb885afecf015b348961d09ce">FileExists</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filePath) {</div><div class="line"><a name="l05220"></a><span class="lineno"> 5220</span>&#160;            <span class="keywordtype">bool</span> result = <span class="keyword">false</span>;</div><div class="line"><a name="l05221"></a><span class="lineno"> 5221</span>&#160;            WIN32_FIND_DATAA findData;</div><div class="line"><a name="l05222"></a><span class="lineno"> 5222</span>&#160;            HANDLE searchHandle = FindFirstFileA(filePath, &amp;findData);</div><div class="line"><a name="l05223"></a><span class="lineno"> 5223</span>&#160;            <span class="keywordflow">if</span> (searchHandle != INVALID_HANDLE_VALUE) {</div><div class="line"><a name="l05224"></a><span class="lineno"> 5224</span>&#160;                result = !(findData.dwFileAttributes &amp; FILE_ATTRIBUTE_DIRECTORY);</div><div class="line"><a name="l05225"></a><span class="lineno"> 5225</span>&#160;                FindClose(searchHandle);</div><div class="line"><a name="l05226"></a><span class="lineno"> 5226</span>&#160;            }</div><div class="line"><a name="l05227"></a><span class="lineno"> 5227</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05228"></a><span class="lineno"> 5228</span>&#160;        }</div><div class="line"><a name="l05229"></a><span class="lineno"> 5229</span>&#160;</div><div class="line"><a name="l05230"></a><span class="lineno"> 5230</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___files.html#gaa3e7bb92f93e300d549a2fbf5bec740d">FileCopy</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *sourceFilePath, <span class="keyword">const</span> <span class="keywordtype">char</span> *targetFilePath, <span class="keyword">const</span> <span class="keywordtype">bool</span> overwrite) {</div><div class="line"><a name="l05231"></a><span class="lineno"> 5231</span>&#160;            <span class="keywordtype">bool</span> result = (CopyFileA(sourceFilePath, targetFilePath, !overwrite) == TRUE);</div><div class="line"><a name="l05232"></a><span class="lineno"> 5232</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05233"></a><span class="lineno"> 5233</span>&#160;        }</div><div class="line"><a name="l05234"></a><span class="lineno"> 5234</span>&#160;</div><div class="line"><a name="l05235"></a><span class="lineno"> 5235</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___files.html#ga7e8d74c15138b08866e0182d4e3e53af">FileDelete</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filePath) {</div><div class="line"><a name="l05236"></a><span class="lineno"> 5236</span>&#160;            <span class="keywordtype">bool</span> result = (DeleteFileA(filePath) == TRUE);</div><div class="line"><a name="l05237"></a><span class="lineno"> 5237</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05238"></a><span class="lineno"> 5238</span>&#160;        }</div><div class="line"><a name="l05239"></a><span class="lineno"> 5239</span>&#160;</div><div class="line"><a name="l05240"></a><span class="lineno"> 5240</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___files.html#ga81077ac3e1713d50f12cc1767ca96326">DirectoryExists</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *path) {</div><div class="line"><a name="l05241"></a><span class="lineno"> 5241</span>&#160;            <span class="keywordtype">bool</span> result = <span class="keyword">false</span>;</div><div class="line"><a name="l05242"></a><span class="lineno"> 5242</span>&#160;            WIN32_FIND_DATAA findData;</div><div class="line"><a name="l05243"></a><span class="lineno"> 5243</span>&#160;            HANDLE searchHandle = FindFirstFileA(path, &amp;findData);</div><div class="line"><a name="l05244"></a><span class="lineno"> 5244</span>&#160;            <span class="keywordflow">if</span> (searchHandle != INVALID_HANDLE_VALUE) {</div><div class="line"><a name="l05245"></a><span class="lineno"> 5245</span>&#160;                result = (findData.dwFileAttributes &amp; FILE_ATTRIBUTE_DIRECTORY) &gt; 0;</div><div class="line"><a name="l05246"></a><span class="lineno"> 5246</span>&#160;                FindClose(searchHandle);</div><div class="line"><a name="l05247"></a><span class="lineno"> 5247</span>&#160;            }</div><div class="line"><a name="l05248"></a><span class="lineno"> 5248</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05249"></a><span class="lineno"> 5249</span>&#160;        }</div><div class="line"><a name="l05250"></a><span class="lineno"> 5250</span>&#160;</div><div class="line"><a name="l05251"></a><span class="lineno"> 5251</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___files.html#gad6815e384d0fcce318c752c2126fb4fe">CreateDirectories</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *path) {</div><div class="line"><a name="l05252"></a><span class="lineno"> 5252</span>&#160;            BOOL result = CreateDirectoryA(path, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05253"></a><span class="lineno"> 5253</span>&#160;            <span class="keywordflow">return</span>(result &gt; 0 ? 1 : 0);</div><div class="line"><a name="l05254"></a><span class="lineno"> 5254</span>&#160;        }</div><div class="line"><a name="l05255"></a><span class="lineno"> 5255</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___files.html#gacc26bd5324fee12541bd61ff384df9ed">RemoveEmptyDirectory</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *path) {</div><div class="line"><a name="l05256"></a><span class="lineno"> 5256</span>&#160;            BOOL result = RemoveDirectoryA(path);</div><div class="line"><a name="l05257"></a><span class="lineno"> 5257</span>&#160;            <span class="keywordflow">return</span>(result &gt; 0 ? 1 : 0);</div><div class="line"><a name="l05258"></a><span class="lineno"> 5258</span>&#160;        }</div><div class="line"><a name="l05259"></a><span class="lineno"> 5259</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a2cde79ef58944162158c81a4d5b754dd">fpl_internal_inline</a> <span class="keywordtype">void</span> Win32FillFileEntry(WIN32_FIND_DATAA *findData, <a class="code" href="structfpl_1_1files_1_1_file_entry.html">FileEntry</a> *entry) {</div><div class="line"><a name="l05260"></a><span class="lineno"> 5260</span>&#160;            <span class="keyword">using namespace </span>strings;</div><div class="line"><a name="l05261"></a><span class="lineno"> 5261</span>&#160;</div><div class="line"><a name="l05262"></a><span class="lineno"> 5262</span>&#160;            <a class="code" href="group___strings.html#ga13b6ef7d3fd687e16fa4db1a58a0cb60">CopyAnsiString</a>(findData-&gt;cFileName, <a class="code" href="group___strings.html#ga388ca55dd073575074821c146a585e2d">GetAnsiStringLength</a>(findData-&gt;cFileName), entry-&gt;<a class="code" href="structfpl_1_1files_1_1_file_entry.html#a9d8deb2bfc9b9ead6cef76c70c66057f">path</a>, <a class="code" href="final__platform__layer_8hpp.html#a1b604d8132880ef082abb67661670eb8">FPL_ARRAYCOUNT</a>(entry-&gt;<a class="code" href="structfpl_1_1files_1_1_file_entry.html#a9d8deb2bfc9b9ead6cef76c70c66057f">path</a>));</div><div class="line"><a name="l05263"></a><span class="lineno"> 5263</span>&#160;</div><div class="line"><a name="l05264"></a><span class="lineno"> 5264</span>&#160;            entry-&gt;<a class="code" href="structfpl_1_1files_1_1_file_entry.html#afa11bffe1b30ae51ebd18a67a0996dc5">type</a> = <a class="code" href="namespacefpl_1_1files_1_1_file_entry_types.html#ab340319655afa9567100787edb58aca5a7eb29991dc46e972737ae2584fc6a682">FileEntryType::Unknown</a>;</div><div class="line"><a name="l05265"></a><span class="lineno"> 5265</span>&#160;            <span class="keywordflow">if</span> (findData-&gt;dwFileAttributes &amp; FILE_ATTRIBUTE_DIRECTORY) {</div><div class="line"><a name="l05266"></a><span class="lineno"> 5266</span>&#160;                entry-&gt;<a class="code" href="structfpl_1_1files_1_1_file_entry.html#afa11bffe1b30ae51ebd18a67a0996dc5">type</a> = <a class="code" href="namespacefpl_1_1files_1_1_file_entry_types.html#ab340319655afa9567100787edb58aca5ae455af0784c7e1940deb56e6e90db239">FileEntryType::Directory</a>;</div><div class="line"><a name="l05267"></a><span class="lineno"> 5267</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (</div><div class="line"><a name="l05268"></a><span class="lineno"> 5268</span>&#160;                (findData-&gt;dwFileAttributes &amp; FILE_ATTRIBUTE_NORMAL) ||</div><div class="line"><a name="l05269"></a><span class="lineno"> 5269</span>&#160;                (findData-&gt;dwFileAttributes &amp; FILE_ATTRIBUTE_HIDDEN) ||</div><div class="line"><a name="l05270"></a><span class="lineno"> 5270</span>&#160;                (findData-&gt;dwFileAttributes &amp; FILE_ATTRIBUTE_READONLY) ||</div><div class="line"><a name="l05271"></a><span class="lineno"> 5271</span>&#160;                (findData-&gt;dwFileAttributes &amp; FILE_ATTRIBUTE_ARCHIVE) ||</div><div class="line"><a name="l05272"></a><span class="lineno"> 5272</span>&#160;                (findData-&gt;dwFileAttributes &amp; FILE_ATTRIBUTE_SYSTEM)) {</div><div class="line"><a name="l05273"></a><span class="lineno"> 5273</span>&#160;                entry-&gt;<a class="code" href="structfpl_1_1files_1_1_file_entry.html#afa11bffe1b30ae51ebd18a67a0996dc5">type</a> = <a class="code" href="namespacefpl_1_1files_1_1_file_entry_types.html#ab340319655afa9567100787edb58aca5a10cd8e0a94894ea1a36eea9fa94227cf">FileEntryType::File</a>;</div><div class="line"><a name="l05274"></a><span class="lineno"> 5274</span>&#160;            }</div><div class="line"><a name="l05275"></a><span class="lineno"> 5275</span>&#160;</div><div class="line"><a name="l05276"></a><span class="lineno"> 5276</span>&#160;            entry-&gt;<a class="code" href="structfpl_1_1files_1_1_file_entry.html#a05335d9b8f326cc337bb9d274fc9d2a2">attributes</a> = <a class="code" href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6afc310a3cf2b78b9d8ac95038bacb25c7">FileAttributeFlags::None</a>;</div><div class="line"><a name="l05277"></a><span class="lineno"> 5277</span>&#160;            <span class="keywordflow">if</span> (findData-&gt;dwFileAttributes &amp; FILE_ATTRIBUTE_NORMAL) {</div><div class="line"><a name="l05278"></a><span class="lineno"> 5278</span>&#160;                entry-&gt;<a class="code" href="structfpl_1_1files_1_1_file_entry.html#a05335d9b8f326cc337bb9d274fc9d2a2">attributes</a> = <a class="code" href="namespacefpl_1_1files_1_1_file_attribute_flags.html#a35ecb1521633ae298b52680df677b660a02a2b5243b6ea68073442da3f47e6d26">FileAttributeFlags::Normal</a>;</div><div class="line"><a name="l05279"></a><span class="lineno"> 5279</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05280"></a><span class="lineno"> 5280</span>&#160;                <span class="keywordflow">if</span> (findData-&gt;dwFileAttributes &amp; FILE_ATTRIBUTE_HIDDEN) {</div><div class="line"><a name="l05281"></a><span class="lineno"> 5281</span>&#160;                    entry-&gt;<a class="code" href="structfpl_1_1files_1_1_file_entry.html#a05335d9b8f326cc337bb9d274fc9d2a2">attributes</a> |= <a class="code" href="namespacefpl_1_1files_1_1_file_attribute_flags.html#a35ecb1521633ae298b52680df677b660a92cb4dc164446097f896d2a6d38acde3">FileAttributeFlags::Hidden</a>;</div><div class="line"><a name="l05282"></a><span class="lineno"> 5282</span>&#160;                }</div><div class="line"><a name="l05283"></a><span class="lineno"> 5283</span>&#160;                <span class="keywordflow">if</span> (findData-&gt;dwFileAttributes &amp; FILE_ATTRIBUTE_READONLY) {</div><div class="line"><a name="l05284"></a><span class="lineno"> 5284</span>&#160;                    entry-&gt;<a class="code" href="structfpl_1_1files_1_1_file_entry.html#a05335d9b8f326cc337bb9d274fc9d2a2">attributes</a> |= <a class="code" href="namespacefpl_1_1files_1_1_file_attribute_flags.html#a35ecb1521633ae298b52680df677b660a2c116bbe1c88fc7cb4aadd4dc93aeac3">FileAttributeFlags::ReadOnly</a>;</div><div class="line"><a name="l05285"></a><span class="lineno"> 5285</span>&#160;                }</div><div class="line"><a name="l05286"></a><span class="lineno"> 5286</span>&#160;                <span class="keywordflow">if</span> (findData-&gt;dwFileAttributes &amp; FILE_ATTRIBUTE_ARCHIVE) {</div><div class="line"><a name="l05287"></a><span class="lineno"> 5287</span>&#160;                    entry-&gt;<a class="code" href="structfpl_1_1files_1_1_file_entry.html#a05335d9b8f326cc337bb9d274fc9d2a2">attributes</a> |= <a class="code" href="namespacefpl_1_1files_1_1_file_attribute_flags.html#a35ecb1521633ae298b52680df677b660a7e5a9556594478a6296b3a499c789c61">FileAttributeFlags::Archive</a>;</div><div class="line"><a name="l05288"></a><span class="lineno"> 5288</span>&#160;                }</div><div class="line"><a name="l05289"></a><span class="lineno"> 5289</span>&#160;                <span class="keywordflow">if</span> (findData-&gt;dwFileAttributes &amp; FILE_ATTRIBUTE_SYSTEM) {</div><div class="line"><a name="l05290"></a><span class="lineno"> 5290</span>&#160;                    entry-&gt;<a class="code" href="structfpl_1_1files_1_1_file_entry.html#a05335d9b8f326cc337bb9d274fc9d2a2">attributes</a> |= <a class="code" href="namespacefpl_1_1files_1_1_file_attribute_flags.html#a35ecb1521633ae298b52680df677b660a04b4472ee71e0c6b755ddcf9f5c10a83">FileAttributeFlags::System</a>;</div><div class="line"><a name="l05291"></a><span class="lineno"> 5291</span>&#160;                }</div><div class="line"><a name="l05292"></a><span class="lineno"> 5292</span>&#160;            }</div><div class="line"><a name="l05293"></a><span class="lineno"> 5293</span>&#160;        }</div><div class="line"><a name="l05294"></a><span class="lineno"> 5294</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___files.html#ga5301d3a70c015b9f17a55d285537a7c6">ListFilesBegin</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *pathAndFilter, <a class="code" href="structfpl_1_1files_1_1_file_entry.html">FileEntry</a> *firstEntry) {</div><div class="line"><a name="l05295"></a><span class="lineno"> 5295</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(pathAndFilter != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05296"></a><span class="lineno"> 5296</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(firstEntry != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05297"></a><span class="lineno"> 5297</span>&#160;            <span class="keywordtype">bool</span> result = <span class="keyword">false</span>;</div><div class="line"><a name="l05298"></a><span class="lineno"> 5298</span>&#160;            WIN32_FIND_DATAA findData;</div><div class="line"><a name="l05299"></a><span class="lineno"> 5299</span>&#160;            HANDLE searchHandle = FindFirstFileA(pathAndFilter, &amp;findData);</div><div class="line"><a name="l05300"></a><span class="lineno"> 5300</span>&#160;            *firstEntry = {};</div><div class="line"><a name="l05301"></a><span class="lineno"> 5301</span>&#160;            <span class="keywordflow">if</span> (searchHandle != INVALID_HANDLE_VALUE) {</div><div class="line"><a name="l05302"></a><span class="lineno"> 5302</span>&#160;                firstEntry-&gt;<a class="code" href="structfpl_1_1files_1_1_file_entry.html#a976d5e74bcd8b60fb0728922cc863499">internalHandle</a> = (<span class="keywordtype">void</span> *)searchHandle;</div><div class="line"><a name="l05303"></a><span class="lineno"> 5303</span>&#160;                Win32FillFileEntry(&amp;findData, firstEntry);</div><div class="line"><a name="l05304"></a><span class="lineno"> 5304</span>&#160;                result = <span class="keyword">true</span>;</div><div class="line"><a name="l05305"></a><span class="lineno"> 5305</span>&#160;            }</div><div class="line"><a name="l05306"></a><span class="lineno"> 5306</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05307"></a><span class="lineno"> 5307</span>&#160;        }</div><div class="line"><a name="l05308"></a><span class="lineno"> 5308</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___files.html#ga12fbf9ae3b535bcd362d55588de4c0ce">ListFilesNext</a>(<a class="code" href="structfpl_1_1files_1_1_file_entry.html">FileEntry</a> *nextEntry) {</div><div class="line"><a name="l05309"></a><span class="lineno"> 5309</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(nextEntry != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05310"></a><span class="lineno"> 5310</span>&#160;            <span class="keywordtype">bool</span> result = <span class="keyword">false</span>;</div><div class="line"><a name="l05311"></a><span class="lineno"> 5311</span>&#160;            <span class="keywordflow">if</span> (nextEntry-&gt;<a class="code" href="structfpl_1_1files_1_1_file_entry.html#a976d5e74bcd8b60fb0728922cc863499">internalHandle</a> != INVALID_HANDLE_VALUE) {</div><div class="line"><a name="l05312"></a><span class="lineno"> 5312</span>&#160;                HANDLE searchHandle = (HANDLE)nextEntry-&gt;<a class="code" href="structfpl_1_1files_1_1_file_entry.html#a976d5e74bcd8b60fb0728922cc863499">internalHandle</a>;</div><div class="line"><a name="l05313"></a><span class="lineno"> 5313</span>&#160;                WIN32_FIND_DATAA findData;</div><div class="line"><a name="l05314"></a><span class="lineno"> 5314</span>&#160;                if (FindNextFileA(searchHandle, &amp;findData)) {</div><div class="line"><a name="l05315"></a><span class="lineno"> 5315</span>&#160;                    Win32FillFileEntry(&amp;findData, nextEntry);</div><div class="line"><a name="l05316"></a><span class="lineno"> 5316</span>&#160;                    result = <span class="keyword">true</span>;</div><div class="line"><a name="l05317"></a><span class="lineno"> 5317</span>&#160;                }</div><div class="line"><a name="l05318"></a><span class="lineno"> 5318</span>&#160;            }</div><div class="line"><a name="l05319"></a><span class="lineno"> 5319</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05320"></a><span class="lineno"> 5320</span>&#160;        }</div><div class="line"><a name="l05321"></a><span class="lineno"> 5321</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___files.html#ga1fe4036fdf8efdad20c3f297bc91955f">ListFilesEnd</a>(<a class="code" href="structfpl_1_1files_1_1_file_entry.html">FileEntry</a> *lastEntry) {</div><div class="line"><a name="l05322"></a><span class="lineno"> 5322</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(lastEntry != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05323"></a><span class="lineno"> 5323</span>&#160;            <span class="keywordflow">if</span> (lastEntry-&gt;<a class="code" href="structfpl_1_1files_1_1_file_entry.html#a976d5e74bcd8b60fb0728922cc863499">internalHandle</a> != INVALID_HANDLE_VALUE) {</div><div class="line"><a name="l05324"></a><span class="lineno"> 5324</span>&#160;                HANDLE searchHandle = (HANDLE)lastEntry-&gt;<a class="code" href="structfpl_1_1files_1_1_file_entry.html#a976d5e74bcd8b60fb0728922cc863499">internalHandle</a>;</div><div class="line"><a name="l05325"></a><span class="lineno"> 5325</span>&#160;                FindClose(searchHandle);</div><div class="line"><a name="l05326"></a><span class="lineno"> 5326</span>&#160;            }</div><div class="line"><a name="l05327"></a><span class="lineno"> 5327</span>&#160;            *lastEntry = {};</div><div class="line"><a name="l05328"></a><span class="lineno"> 5328</span>&#160;        }</div><div class="line"><a name="l05329"></a><span class="lineno"> 5329</span>&#160;    } <span class="comment">// files</span></div><div class="line"><a name="l05330"></a><span class="lineno"> 5330</span>&#160;</div><div class="line"><a name="l05331"></a><span class="lineno"> 5331</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l05332"></a><span class="lineno"> 5332</span>&#160;    <span class="comment">// Win32 Path/Directories</span></div><div class="line"><a name="l05333"></a><span class="lineno"> 5333</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l05334"></a><span class="lineno"> 5334</span>&#160;    <span class="keyword">namespace </span>paths {</div><div class="line"><a name="l05335"></a><span class="lineno"> 5335</span>&#160;<span class="preprocessor">#   if defined(UNICODE)</span></div><div class="line"><a name="l05336"></a><span class="lineno"> 5336</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">char</span> *<a class="code" href="group___paths.html#gabcbdbb5ec3ed0c49922bb3ebb5a85e0d">GetExecutableFilePath</a>(<span class="keywordtype">char</span> *destPath, <span class="keyword">const</span> uint32_t maxDestLen) {</div><div class="line"><a name="l05337"></a><span class="lineno"> 5337</span>&#160;            <span class="keywordtype">wchar_t</span> modulePath[MAX_PATH];</div><div class="line"><a name="l05338"></a><span class="lineno"> 5338</span>&#160;            GetModuleFileNameW(<a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, modulePath, MAX_PATH);</div><div class="line"><a name="l05339"></a><span class="lineno"> 5339</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(destPath != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05340"></a><span class="lineno"> 5340</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(maxDestLen &gt;= (MAX_PATH + 1));</div><div class="line"><a name="l05341"></a><span class="lineno"> 5341</span>&#160;            <a class="code" href="group___strings.html#ga5deb86f97d22b96c050f1dddbeb8b153">strings::WideStringToAnsiString</a>(modulePath, <a class="code" href="group___strings.html#ga2f5f224289b7bf9d19bb5684cd19fac1">strings::GetWideStringLength</a>(modulePath), destPath, maxDestLen);</div><div class="line"><a name="l05342"></a><span class="lineno"> 5342</span>&#160;            <span class="keywordflow">return</span>(destPath);</div><div class="line"><a name="l05343"></a><span class="lineno"> 5343</span>&#160;        }</div><div class="line"><a name="l05344"></a><span class="lineno"> 5344</span>&#160;<span class="preprocessor">#   else</span></div><div class="line"><a name="l05345"></a><span class="lineno"> 5345</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">char</span> *<a class="code" href="group___paths.html#gabcbdbb5ec3ed0c49922bb3ebb5a85e0d">GetExecutableFilePath</a>(<span class="keywordtype">char</span> *destPath, <span class="keyword">const</span> uint32_t maxDestLen) {</div><div class="line"><a name="l05346"></a><span class="lineno"> 5346</span>&#160;            <span class="keywordtype">char</span> modulePath[MAX_PATH];</div><div class="line"><a name="l05347"></a><span class="lineno"> 5347</span>&#160;            GetModuleFileNameA(<a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, modulePath, MAX_PATH);</div><div class="line"><a name="l05348"></a><span class="lineno"> 5348</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(destPath != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05349"></a><span class="lineno"> 5349</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(maxDestLen &gt;= (MAX_PATH + 1));</div><div class="line"><a name="l05350"></a><span class="lineno"> 5350</span>&#160;            <a class="code" href="group___strings.html#ga4540f0bb0f47aeba1a0900f9f107c188">strings::CopyAnsiString</a>(modulePath, <a class="code" href="group___strings.html#ga388ca55dd073575074821c146a585e2d">strings::GetAnsiStringLength</a>(modulePath), destPath, maxDestLen);</div><div class="line"><a name="l05351"></a><span class="lineno"> 5351</span>&#160;            <span class="keywordflow">return</span>(destPath);</div><div class="line"><a name="l05352"></a><span class="lineno"> 5352</span>&#160;        }</div><div class="line"><a name="l05353"></a><span class="lineno"> 5353</span>&#160;<span class="preprocessor">#   endif // UNICODE</span></div><div class="line"><a name="l05354"></a><span class="lineno"> 5354</span>&#160;</div><div class="line"><a name="l05355"></a><span class="lineno"> 5355</span>&#160;<span class="preprocessor">#   if defined(UNICODE)</span></div><div class="line"><a name="l05356"></a><span class="lineno"> 5356</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">char</span> *<a class="code" href="group___paths.html#gaf8e72dff34e3ab55bed53daafc27a503">GetHomePath</a>(<span class="keywordtype">char</span> *destPath, <span class="keyword">const</span> uint32_t maxDestLen) {</div><div class="line"><a name="l05357"></a><span class="lineno"> 5357</span>&#160;            platform::Win32APIFunctions &amp;api = platform::global__Win32__API__Functions;</div><div class="line"><a name="l05358"></a><span class="lineno"> 5358</span>&#160;            <span class="keywordtype">wchar_t</span> homePath[MAX_PATH];</div><div class="line"><a name="l05359"></a><span class="lineno"> 5359</span>&#160;            api.shell.shGetFolderPathW(<a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, CSIDL_PROFILE, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, 0, homePath);</div><div class="line"><a name="l05360"></a><span class="lineno"> 5360</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(destPath != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05361"></a><span class="lineno"> 5361</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(maxDestLen &gt;= (MAX_PATH + 1));</div><div class="line"><a name="l05362"></a><span class="lineno"> 5362</span>&#160;            <a class="code" href="group___strings.html#ga5deb86f97d22b96c050f1dddbeb8b153">strings::WideStringToAnsiString</a>(homePath, <a class="code" href="group___strings.html#ga2f5f224289b7bf9d19bb5684cd19fac1">strings::GetWideStringLength</a>(homePath), destPath, maxDestLen);</div><div class="line"><a name="l05363"></a><span class="lineno"> 5363</span>&#160;            <span class="keywordflow">return</span>(destPath);</div><div class="line"><a name="l05364"></a><span class="lineno"> 5364</span>&#160;        }</div><div class="line"><a name="l05365"></a><span class="lineno"> 5365</span>&#160;<span class="preprocessor">#   else</span></div><div class="line"><a name="l05366"></a><span class="lineno"> 5366</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">char</span> *<a class="code" href="group___paths.html#gaf8e72dff34e3ab55bed53daafc27a503">GetHomePath</a>(<span class="keywordtype">char</span> *destPath, <span class="keyword">const</span> uint32_t maxDestLen) {</div><div class="line"><a name="l05367"></a><span class="lineno"> 5367</span>&#160;            platform::Win32APIFunctions &amp;api = platform::global__Win32__API__Functions;</div><div class="line"><a name="l05368"></a><span class="lineno"> 5368</span>&#160;            <span class="keywordtype">char</span> homePath[MAX_PATH];</div><div class="line"><a name="l05369"></a><span class="lineno"> 5369</span>&#160;            api.shell.shGetFolderPathA(<a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, CSIDL_PROFILE, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, 0, homePath);</div><div class="line"><a name="l05370"></a><span class="lineno"> 5370</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(destPath != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05371"></a><span class="lineno"> 5371</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(maxDestLen &gt;= (MAX_PATH + 1));</div><div class="line"><a name="l05372"></a><span class="lineno"> 5372</span>&#160;            <a class="code" href="group___strings.html#ga4540f0bb0f47aeba1a0900f9f107c188">strings::CopyAnsiString</a>(homePath, <a class="code" href="group___strings.html#ga388ca55dd073575074821c146a585e2d">strings::GetAnsiStringLength</a>(homePath), destPath, maxDestLen);</div><div class="line"><a name="l05373"></a><span class="lineno"> 5373</span>&#160;            <span class="keywordflow">return</span>(destPath);</div><div class="line"><a name="l05374"></a><span class="lineno"> 5374</span>&#160;        }</div><div class="line"><a name="l05375"></a><span class="lineno"> 5375</span>&#160;<span class="preprocessor">#   endif // UNICODE</span></div><div class="line"><a name="l05376"></a><span class="lineno"> 5376</span>&#160;    } <span class="comment">// paths</span></div><div class="line"><a name="l05377"></a><span class="lineno"> 5377</span>&#160;</div><div class="line"><a name="l05378"></a><span class="lineno"> 5378</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l05379"></a><span class="lineno"> 5379</span>&#160;    <span class="comment">// Win32 Timings</span></div><div class="line"><a name="l05380"></a><span class="lineno"> 5380</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l05381"></a><span class="lineno"> 5381</span>&#160;    <span class="keyword">namespace </span>timings {</div><div class="line"><a name="l05382"></a><span class="lineno"> 5382</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">double</span> <a class="code" href="group___timings.html#ga7eb269311586671fb064ae58e4c0c765">GetHighResolutionTimeInSeconds</a>() {</div><div class="line"><a name="l05383"></a><span class="lineno"> 5383</span>&#160;            LARGE_INTEGER time;</div><div class="line"><a name="l05384"></a><span class="lineno"> 5384</span>&#160;            QueryPerformanceCounter(&amp;time);</div><div class="line"><a name="l05385"></a><span class="lineno"> 5385</span>&#160;            <span class="keywordtype">double</span> result = time.QuadPart / (double)platform::global__Win32__AppState.performanceFrequency.QuadPart;</div><div class="line"><a name="l05386"></a><span class="lineno"> 5386</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05387"></a><span class="lineno"> 5387</span>&#160;        }</div><div class="line"><a name="l05388"></a><span class="lineno"> 5388</span>&#160;    } <span class="comment">// timings</span></div><div class="line"><a name="l05389"></a><span class="lineno"> 5389</span>&#160;</div><div class="line"><a name="l05390"></a><span class="lineno"> 5390</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l05391"></a><span class="lineno"> 5391</span>&#160;    <span class="comment">// Win32 Strings</span></div><div class="line"><a name="l05392"></a><span class="lineno"> 5392</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l05393"></a><span class="lineno"> 5393</span>&#160;    <span class="keyword">namespace </span>strings {</div><div class="line"><a name="l05394"></a><span class="lineno"> 5394</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">char</span> *<a class="code" href="group___strings.html#ga5deb86f97d22b96c050f1dddbeb8b153">WideStringToAnsiString</a>(<span class="keyword">const</span> <span class="keywordtype">wchar_t</span> *wideSource, <span class="keyword">const</span> uint32_t maxWideSourceLen, <span class="keywordtype">char</span> *ansiDest, <span class="keyword">const</span> uint32_t maxAnsiDestLen) {</div><div class="line"><a name="l05395"></a><span class="lineno"> 5395</span>&#160;            uint32_t requiredLen = WideCharToMultiByte(CP_ACP, 0, wideSource, maxWideSourceLen, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, 0, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05396"></a><span class="lineno"> 5396</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(maxAnsiDestLen &gt;= (requiredLen + 1));</div><div class="line"><a name="l05397"></a><span class="lineno"> 5397</span>&#160;            WideCharToMultiByte(CP_ACP, 0, wideSource, maxWideSourceLen, ansiDest, maxAnsiDestLen, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05398"></a><span class="lineno"> 5398</span>&#160;            ansiDest[requiredLen] = 0;</div><div class="line"><a name="l05399"></a><span class="lineno"> 5399</span>&#160;            <span class="keywordflow">return</span>(ansiDest);</div><div class="line"><a name="l05400"></a><span class="lineno"> 5400</span>&#160;        }</div><div class="line"><a name="l05401"></a><span class="lineno"> 5401</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">char</span> *<a class="code" href="group___strings.html#gaa465c26a8a2d2514f723144ad8de8e42">WideStringToUTF8String</a>(<span class="keyword">const</span> <span class="keywordtype">wchar_t</span> *wideSource, <span class="keyword">const</span> uint32_t maxWideSourceLen, <span class="keywordtype">char</span> *utf8Dest, <span class="keyword">const</span> uint32_t maxUtf8DestLen) {</div><div class="line"><a name="l05402"></a><span class="lineno"> 5402</span>&#160;            uint32_t requiredLen = WideCharToMultiByte(CP_UTF8, 0, wideSource, maxWideSourceLen, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, 0, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05403"></a><span class="lineno"> 5403</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(maxUtf8DestLen &gt;= (requiredLen + 1));</div><div class="line"><a name="l05404"></a><span class="lineno"> 5404</span>&#160;            WideCharToMultiByte(CP_UTF8, 0, wideSource, maxWideSourceLen, utf8Dest, maxUtf8DestLen, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05405"></a><span class="lineno"> 5405</span>&#160;            utf8Dest[requiredLen] = 0;</div><div class="line"><a name="l05406"></a><span class="lineno"> 5406</span>&#160;            <span class="keywordflow">return</span>(utf8Dest);</div><div class="line"><a name="l05407"></a><span class="lineno"> 5407</span>&#160;        }</div><div class="line"><a name="l05408"></a><span class="lineno"> 5408</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">wchar_t</span> *<a class="code" href="group___strings.html#gacf1b68cc61d41d0e2be20b198d013dc6">AnsiStringToWideString</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *ansiSource, <span class="keyword">const</span> uint32_t ansiSourceLen, <span class="keywordtype">wchar_t</span> *wideDest, <span class="keyword">const</span> uint32_t maxWideDestLen) {</div><div class="line"><a name="l05409"></a><span class="lineno"> 5409</span>&#160;            uint32_t requiredLen = MultiByteToWideChar(CP_ACP, 0, ansiSource, ansiSourceLen, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, 0);</div><div class="line"><a name="l05410"></a><span class="lineno"> 5410</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(maxWideDestLen &gt;= (requiredLen + 1));</div><div class="line"><a name="l05411"></a><span class="lineno"> 5411</span>&#160;            MultiByteToWideChar(CP_ACP, 0, ansiSource, ansiSourceLen, wideDest, maxWideDestLen);</div><div class="line"><a name="l05412"></a><span class="lineno"> 5412</span>&#160;            wideDest[requiredLen] = 0;</div><div class="line"><a name="l05413"></a><span class="lineno"> 5413</span>&#160;            <span class="keywordflow">return</span>(wideDest);</div><div class="line"><a name="l05414"></a><span class="lineno"> 5414</span>&#160;        }</div><div class="line"><a name="l05415"></a><span class="lineno"> 5415</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">wchar_t</span> *<a class="code" href="group___strings.html#ga01c5c0fb7305308d62cfde2620598ece">UTF8StringToWideString</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *utf8Source, <span class="keyword">const</span> uint32_t utf8SourceLen, <span class="keywordtype">wchar_t</span> *wideDest, <span class="keyword">const</span> uint32_t maxWideDestLen) {</div><div class="line"><a name="l05416"></a><span class="lineno"> 5416</span>&#160;            uint32_t requiredLen = MultiByteToWideChar(CP_UTF8, 0, utf8Source, utf8SourceLen, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, 0);</div><div class="line"><a name="l05417"></a><span class="lineno"> 5417</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(maxWideDestLen &gt;= (requiredLen + 1));</div><div class="line"><a name="l05418"></a><span class="lineno"> 5418</span>&#160;            MultiByteToWideChar(CP_UTF8, 0, utf8Source, utf8SourceLen, wideDest, maxWideDestLen);</div><div class="line"><a name="l05419"></a><span class="lineno"> 5419</span>&#160;            wideDest[requiredLen] = 0;</div><div class="line"><a name="l05420"></a><span class="lineno"> 5420</span>&#160;            <span class="keywordflow">return</span>(wideDest);</div><div class="line"><a name="l05421"></a><span class="lineno"> 5421</span>&#160;        }</div><div class="line"><a name="l05422"></a><span class="lineno"> 5422</span>&#160;    } <span class="comment">// strings</span></div><div class="line"><a name="l05423"></a><span class="lineno"> 5423</span>&#160;</div><div class="line"><a name="l05424"></a><span class="lineno"> 5424</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l05425"></a><span class="lineno"> 5425</span>&#160;    <span class="comment">// Win32 Library</span></div><div class="line"><a name="l05426"></a><span class="lineno"> 5426</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l05427"></a><span class="lineno"> 5427</span>&#160;    <span class="keyword">namespace </span>library {</div><div class="line"><a name="l05428"></a><span class="lineno"> 5428</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <a class="code" href="structfpl_1_1library_1_1_dynamic_library_handle.html">DynamicLibraryHandle</a> <a class="code" href="group___dynamic_library.html#ga92e0b63d13ed16c4f9fb065b6962a4b3">DynamicLibraryLoad</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *libraryFilePath) {</div><div class="line"><a name="l05429"></a><span class="lineno"> 5429</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(libraryFilePath != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05430"></a><span class="lineno"> 5430</span>&#160;            <a class="code" href="structfpl_1_1library_1_1_dynamic_library_handle.html">DynamicLibraryHandle</a> result = {};</div><div class="line"><a name="l05431"></a><span class="lineno"> 5431</span>&#160;            HMODULE libModule = LoadLibraryA(libraryFilePath);</div><div class="line"><a name="l05432"></a><span class="lineno"> 5432</span>&#160;            <span class="keywordflow">if</span> (libModule != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l05433"></a><span class="lineno"> 5433</span>&#160;                result.<a class="code" href="structfpl_1_1library_1_1_dynamic_library_handle.html#a738a384257e20524ca75ecc48397a35e">internalHandle</a> = (<span class="keywordtype">void</span> *)libModule;</div><div class="line"><a name="l05434"></a><span class="lineno"> 5434</span>&#160;                result.<a class="code" href="structfpl_1_1library_1_1_dynamic_library_handle.html#ac7c12c02a587d3e4969fdd1100faa4c5">isValid</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l05435"></a><span class="lineno"> 5435</span>&#160;            }</div><div class="line"><a name="l05436"></a><span class="lineno"> 5436</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05437"></a><span class="lineno"> 5437</span>&#160;        }</div><div class="line"><a name="l05438"></a><span class="lineno"> 5438</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> *<a class="code" href="group___dynamic_library.html#ga12045d7ac370414026e73bd5cbb2a1b1">GetDynamicLibraryProc</a>(<span class="keyword">const</span> <a class="code" href="structfpl_1_1library_1_1_dynamic_library_handle.html">DynamicLibraryHandle</a> &amp;handle, <span class="keyword">const</span> <span class="keywordtype">char</span> *name) {</div><div class="line"><a name="l05439"></a><span class="lineno"> 5439</span>&#160;            <span class="keywordtype">void</span> *result = <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>;</div><div class="line"><a name="l05440"></a><span class="lineno"> 5440</span>&#160;            <span class="keywordflow">if</span> (handle.<a class="code" href="structfpl_1_1library_1_1_dynamic_library_handle.html#ac7c12c02a587d3e4969fdd1100faa4c5">isValid</a>) {</div><div class="line"><a name="l05441"></a><span class="lineno"> 5441</span>&#160;                <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(handle.<a class="code" href="structfpl_1_1library_1_1_dynamic_library_handle.html#a738a384257e20524ca75ecc48397a35e">internalHandle</a> != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05442"></a><span class="lineno"> 5442</span>&#160;                HMODULE libModule = (HMODULE)handle.<a class="code" href="structfpl_1_1library_1_1_dynamic_library_handle.html#a738a384257e20524ca75ecc48397a35e">internalHandle</a>;</div><div class="line"><a name="l05443"></a><span class="lineno"> 5443</span>&#160;                result = (<span class="keywordtype">void</span> *)GetProcAddress(libModule, name);</div><div class="line"><a name="l05444"></a><span class="lineno"> 5444</span>&#160;            }</div><div class="line"><a name="l05445"></a><span class="lineno"> 5445</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05446"></a><span class="lineno"> 5446</span>&#160;        }</div><div class="line"><a name="l05447"></a><span class="lineno"> 5447</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___dynamic_library.html#ga1bcd31bbe30503b4021bc86327c1605f">DynamicLibraryUnload</a>(<a class="code" href="structfpl_1_1library_1_1_dynamic_library_handle.html">DynamicLibraryHandle</a> &amp;handle) {</div><div class="line"><a name="l05448"></a><span class="lineno"> 5448</span>&#160;            <span class="keywordflow">if</span> (handle.<a class="code" href="structfpl_1_1library_1_1_dynamic_library_handle.html#ac7c12c02a587d3e4969fdd1100faa4c5">isValid</a>) {</div><div class="line"><a name="l05449"></a><span class="lineno"> 5449</span>&#160;                <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(handle.<a class="code" href="structfpl_1_1library_1_1_dynamic_library_handle.html#a738a384257e20524ca75ecc48397a35e">internalHandle</a> != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05450"></a><span class="lineno"> 5450</span>&#160;                HMODULE libModule = (HMODULE)handle.<a class="code" href="structfpl_1_1library_1_1_dynamic_library_handle.html#a738a384257e20524ca75ecc48397a35e">internalHandle</a>;</div><div class="line"><a name="l05451"></a><span class="lineno"> 5451</span>&#160;                FreeLibrary(libModule);</div><div class="line"><a name="l05452"></a><span class="lineno"> 5452</span>&#160;            }</div><div class="line"><a name="l05453"></a><span class="lineno"> 5453</span>&#160;            handle = {};</div><div class="line"><a name="l05454"></a><span class="lineno"> 5454</span>&#160;        }</div><div class="line"><a name="l05455"></a><span class="lineno"> 5455</span>&#160;    } <span class="comment">// library</span></div><div class="line"><a name="l05456"></a><span class="lineno"> 5456</span>&#160;</div><div class="line"><a name="l05457"></a><span class="lineno"> 5457</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l05458"></a><span class="lineno"> 5458</span>&#160;    <span class="comment">// Win32 Video</span></div><div class="line"><a name="l05459"></a><span class="lineno"> 5459</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l05460"></a><span class="lineno"> 5460</span>&#160;<span class="preprocessor">#if defined(FPL_ENABLE_VIDEO)</span></div><div class="line"><a name="l05461"></a><span class="lineno"> 5461</span>&#160;    <span class="keyword">namespace </span>video {</div><div class="line"><a name="l05462"></a><span class="lineno"> 5462</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <a class="code" href="structfpl_1_1video_1_1_video_back_buffer.html">VideoBackBuffer</a> *<a class="code" href="group___video.html#ga66afa77e909dab32517268006e8da8da">GetVideoBackBuffer</a>() {</div><div class="line"><a name="l05463"></a><span class="lineno"> 5463</span>&#160;            <a class="code" href="structfpl_1_1video_1_1_video_back_buffer.html">VideoBackBuffer</a> *result = <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>;</div><div class="line"><a name="l05464"></a><span class="lineno"> 5464</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(platform::global__Win32__State != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05465"></a><span class="lineno"> 5465</span>&#160;            platform::Win32State *state = platform::global__Win32__State;</div><div class="line"><a name="l05466"></a><span class="lineno"> 5466</span>&#160;<span class="preprocessor">#       if defined(FPL_ENABLE_VIDEO_SOFTWARE)</span></div><div class="line"><a name="l05467"></a><span class="lineno"> 5467</span>&#160;            platform::Win32VideoState &amp;video = state-&gt;video;</div><div class="line"><a name="l05468"></a><span class="lineno"> 5468</span>&#160;            <span class="keywordflow">if</span> (video.activeVideoDriver == <a class="code" href="namespacefpl_1_1_video_driver_types.html#a258cb7cd4b12cc998472708f70d55f7facec18deb73c81ed6ac84319bfb4311db">VideoDriverType::Software</a>) {</div><div class="line"><a name="l05469"></a><span class="lineno"> 5469</span>&#160;                result = &amp;video.software.context;</div><div class="line"><a name="l05470"></a><span class="lineno"> 5470</span>&#160;            }</div><div class="line"><a name="l05471"></a><span class="lineno"> 5471</span>&#160;<span class="preprocessor">#       endif</span></div><div class="line"><a name="l05472"></a><span class="lineno"> 5472</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05473"></a><span class="lineno"> 5473</span>&#160;        }</div><div class="line"><a name="l05474"></a><span class="lineno"> 5474</span>&#160;</div><div class="line"><a name="l05475"></a><span class="lineno"> 5475</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___video.html#gaa607597cd1e9dab0e6ffeaa7cbbd395c">ResizeVideoBackBuffer</a>(<span class="keyword">const</span> uint32_t width, <span class="keyword">const</span> uint32_t height) {</div><div class="line"><a name="l05476"></a><span class="lineno"> 5476</span>&#160;            <span class="keywordtype">bool</span> result = <span class="keyword">false</span>;</div><div class="line"><a name="l05477"></a><span class="lineno"> 5477</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(platform::global__Win32__State != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05478"></a><span class="lineno"> 5478</span>&#160;            platform::Win32State *state = platform::global__Win32__State;</div><div class="line"><a name="l05479"></a><span class="lineno"> 5479</span>&#160;<span class="preprocessor">#       if defined(FPL_ENABLE_VIDEO_SOFTWARE)</span></div><div class="line"><a name="l05480"></a><span class="lineno"> 5480</span>&#160;            <span class="keywordflow">if</span> (state-&gt;video.activeVideoDriver == <a class="code" href="namespacefpl_1_1_video_driver_types.html#a258cb7cd4b12cc998472708f70d55f7facec18deb73c81ed6ac84319bfb4311db">VideoDriverType::Software</a>) {</div><div class="line"><a name="l05481"></a><span class="lineno"> 5481</span>&#160;                Win32ReleaseVideoSoftware(state);</div><div class="line"><a name="l05482"></a><span class="lineno"> 5482</span>&#160;                result = Win32InitVideoSoftware(state, width, height);</div><div class="line"><a name="l05483"></a><span class="lineno"> 5483</span>&#160;            }</div><div class="line"><a name="l05484"></a><span class="lineno"> 5484</span>&#160;<span class="preprocessor">#       endif</span></div><div class="line"><a name="l05485"></a><span class="lineno"> 5485</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l05486"></a><span class="lineno"> 5486</span>&#160;        }</div><div class="line"><a name="l05487"></a><span class="lineno"> 5487</span>&#160;    } <span class="comment">// video</span></div><div class="line"><a name="l05488"></a><span class="lineno"> 5488</span>&#160;<span class="preprocessor">#endif // FPL_ENABLE_VIDEO</span></div><div class="line"><a name="l05489"></a><span class="lineno"> 5489</span>&#160;</div><div class="line"><a name="l05490"></a><span class="lineno"> 5490</span>&#160;<span class="preprocessor">#if defined(FPL_ENABLE_WINDOW)</span></div><div class="line"><a name="l05491"></a><span class="lineno"> 5491</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l05492"></a><span class="lineno"> 5492</span>&#160;    <span class="comment">// Win32 Window</span></div><div class="line"><a name="l05493"></a><span class="lineno"> 5493</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l05494"></a><span class="lineno"> 5494</span>&#160;    <span class="keyword">namespace </span>window {</div><div class="line"><a name="l05495"></a><span class="lineno"> 5495</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___window_base.html#gaad836fba746600304f58f1d07d12ab72">WindowFlip</a>() {</div><div class="line"><a name="l05496"></a><span class="lineno"> 5496</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(platform::global__Win32__State != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05497"></a><span class="lineno"> 5497</span>&#160;            platform::Win32State *state = platform::global__Win32__State;</div><div class="line"><a name="l05498"></a><span class="lineno"> 5498</span>&#160;            platform::Win32APIFunctions &amp;wapi = platform::global__Win32__API__Functions;</div><div class="line"><a name="l05499"></a><span class="lineno"> 5499</span>&#160;            platform::Win32VideoState &amp;video = state-&gt;video;</div><div class="line"><a name="l05500"></a><span class="lineno"> 5500</span>&#160;            <span class="keywordflow">switch</span> (video.activeVideoDriver) {</div><div class="line"><a name="l05501"></a><span class="lineno"> 5501</span>&#160;<span class="preprocessor">#           if defined(FPL_ENABLE_VIDEO_SOFTWARE)</span></div><div class="line"><a name="l05502"></a><span class="lineno"> 5502</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespacefpl_1_1_video_driver_types.html#a258cb7cd4b12cc998472708f70d55f7facec18deb73c81ed6ac84319bfb4311db">VideoDriverType::Software</a>:</div><div class="line"><a name="l05503"></a><span class="lineno"> 5503</span>&#160;                {</div><div class="line"><a name="l05504"></a><span class="lineno"> 5504</span>&#160;                    <a class="code" href="structfpl_1_1window_1_1_window_size.html">WindowSize</a> area = <a class="code" href="group___window_base.html#ga373b828e140954c44c3415f98f9e7e63">GetWindowArea</a>();</div><div class="line"><a name="l05505"></a><span class="lineno"> 5505</span>&#160;                    uint32_t targetWidth = area.<a class="code" href="structfpl_1_1window_1_1_window_size.html#ab87c655d5b68f0e9966aefcd4c3d8bef">width</a>;</div><div class="line"><a name="l05506"></a><span class="lineno"> 5506</span>&#160;                    uint32_t targetHeight = area.<a class="code" href="structfpl_1_1window_1_1_window_size.html#a5d126b1422ad5313a477b3baf0e6fe3a">height</a>;</div><div class="line"><a name="l05507"></a><span class="lineno"> 5507</span>&#160;                    uint32_t sourceWidth = video.software.context.width;</div><div class="line"><a name="l05508"></a><span class="lineno"> 5508</span>&#160;                    uint32_t sourceHeight = video.software.context.height;</div><div class="line"><a name="l05509"></a><span class="lineno"> 5509</span>&#160;                    wapi.gdi.stretchDIBits(state-&gt;window.deviceContext, 0, 0, targetWidth, targetHeight, 0, 0, sourceWidth, sourceHeight, video.software.context.pixels, &amp;video.software.bitmapInfo, DIB_RGB_COLORS, SRCCOPY);</div><div class="line"><a name="l05510"></a><span class="lineno"> 5510</span>&#160;                } <span class="keywordflow">break</span>;</div><div class="line"><a name="l05511"></a><span class="lineno"> 5511</span>&#160;<span class="preprocessor">#           endif</span></div><div class="line"><a name="l05512"></a><span class="lineno"> 5512</span>&#160;</div><div class="line"><a name="l05513"></a><span class="lineno"> 5513</span>&#160;<span class="preprocessor">#           if defined(FPL_ENABLE_VIDEO_OPENGL)</span></div><div class="line"><a name="l05514"></a><span class="lineno"> 5514</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespacefpl_1_1_video_driver_types.html#a258cb7cd4b12cc998472708f70d55f7fac98f1c1841b2c26aaf2cc06c9ce1d5b5">VideoDriverType::OpenGL</a>:</div><div class="line"><a name="l05515"></a><span class="lineno"> 5515</span>&#160;                {</div><div class="line"><a name="l05516"></a><span class="lineno"> 5516</span>&#160;                    wapi.gdi.swapBuffers(state-&gt;window.deviceContext);</div><div class="line"><a name="l05517"></a><span class="lineno"> 5517</span>&#160;                } <span class="keywordflow">break</span>;</div><div class="line"><a name="l05518"></a><span class="lineno"> 5518</span>&#160;<span class="preprocessor">#           endif</span></div><div class="line"><a name="l05519"></a><span class="lineno"> 5519</span>&#160;</div><div class="line"><a name="l05520"></a><span class="lineno"> 5520</span>&#160;                <span class="keywordflow">default</span>:</div><div class="line"><a name="l05521"></a><span class="lineno"> 5521</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l05522"></a><span class="lineno"> 5522</span>&#160;            }</div><div class="line"><a name="l05523"></a><span class="lineno"> 5523</span>&#160;        }</div><div class="line"><a name="l05524"></a><span class="lineno"> 5524</span>&#160;</div><div class="line"><a name="l05525"></a><span class="lineno"> 5525</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <a class="code" href="structfpl_1_1window_1_1_window_size.html">WindowSize</a> <a class="code" href="group___window_base.html#ga373b828e140954c44c3415f98f9e7e63">GetWindowArea</a>() {</div><div class="line"><a name="l05526"></a><span class="lineno"> 5526</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(platform::global__Win32__State != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05527"></a><span class="lineno"> 5527</span>&#160;            platform::Win32State *state = platform::global__Win32__State;</div><div class="line"><a name="l05528"></a><span class="lineno"> 5528</span>&#160;            platform::Win32APIFunctions &amp;wapi = platform::global__Win32__API__Functions;</div><div class="line"><a name="l05529"></a><span class="lineno"> 5529</span>&#160;            <a class="code" href="structfpl_1_1window_1_1_window_size.html">WindowSize</a> result = {};</div><div class="line"><a name="l05530"></a><span class="lineno"> 5530</span>&#160;            RECT windowRect;</div><div class="line"><a name="l05531"></a><span class="lineno"> 5531</span>&#160;            <span class="keywordflow">if</span> (wapi.user.getClientRect(state-&gt;window.windowHandle, &amp;windowRect)) {</div><div class="line"><a name="l05532"></a><span class="lineno"> 5532</span>&#160;                result.<a class="code" href="structfpl_1_1window_1_1_window_size.html#ab87c655d5b68f0e9966aefcd4c3d8bef">width</a> = windowRect.right - windowRect.left;</div><div class="line"><a name="l05533"></a><span class="lineno"> 5533</span>&#160;                result.<a class="code" href="structfpl_1_1window_1_1_window_size.html#a5d126b1422ad5313a477b3baf0e6fe3a">height</a> = windowRect.bottom - windowRect.top;</div><div class="line"><a name="l05534"></a><span class="lineno"> 5534</span>&#160;            }</div><div class="line"><a name="l05535"></a><span class="lineno"> 5535</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05536"></a><span class="lineno"> 5536</span>&#160;        }</div><div class="line"><a name="l05537"></a><span class="lineno"> 5537</span>&#160;</div><div class="line"><a name="l05538"></a><span class="lineno"> 5538</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___window_base.html#ga3437f86381ee1bbe01fdf9f6007fe8b6">SetWindowArea</a>(<span class="keyword">const</span> uint32_t width, <span class="keyword">const</span> uint32_t height) {</div><div class="line"><a name="l05539"></a><span class="lineno"> 5539</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(platform::global__Win32__State != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05540"></a><span class="lineno"> 5540</span>&#160;            platform::Win32State *state = platform::global__Win32__State;</div><div class="line"><a name="l05541"></a><span class="lineno"> 5541</span>&#160;            platform::Win32APIFunctions &amp;wapi = platform::global__Win32__API__Functions;</div><div class="line"><a name="l05542"></a><span class="lineno"> 5542</span>&#160;            RECT clientRect, windowRect;</div><div class="line"><a name="l05543"></a><span class="lineno"> 5543</span>&#160;            <span class="keywordflow">if</span> (wapi.user.getClientRect(state-&gt;window.windowHandle, &amp;clientRect) &amp;&amp;</div><div class="line"><a name="l05544"></a><span class="lineno"> 5544</span>&#160;                wapi.user.getWindowRect(state-&gt;window.windowHandle, &amp;windowRect)) {</div><div class="line"><a name="l05545"></a><span class="lineno"> 5545</span>&#160;                <span class="keywordtype">int</span> borderWidth = (windowRect.right - windowRect.left) - (clientRect.right - clientRect.left);</div><div class="line"><a name="l05546"></a><span class="lineno"> 5546</span>&#160;                <span class="keywordtype">int</span> borderHeight = (windowRect.bottom - windowRect.top) - (clientRect.bottom - clientRect.top);</div><div class="line"><a name="l05547"></a><span class="lineno"> 5547</span>&#160;                <span class="keywordtype">int</span> newWidth = width + borderWidth;</div><div class="line"><a name="l05548"></a><span class="lineno"> 5548</span>&#160;                <span class="keywordtype">int</span> newHeight = height + borderHeight;</div><div class="line"><a name="l05549"></a><span class="lineno"> 5549</span>&#160;                wapi.user.setWindowPos(state-&gt;window.windowHandle, 0, 0, 0, newWidth, newHeight, SWP_NOZORDER | SWP_NOMOVE | SWP_NOACTIVATE);</div><div class="line"><a name="l05550"></a><span class="lineno"> 5550</span>&#160;            }</div><div class="line"><a name="l05551"></a><span class="lineno"> 5551</span>&#160;        }</div><div class="line"><a name="l05552"></a><span class="lineno"> 5552</span>&#160;</div><div class="line"><a name="l05553"></a><span class="lineno"> 5553</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___window_base.html#gaa0a0eb6408cf9201e93dd317e59eec3c">IsWindowResizable</a>() {</div><div class="line"><a name="l05554"></a><span class="lineno"> 5554</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(platform::global__Win32__State != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05555"></a><span class="lineno"> 5555</span>&#160;            platform::Win32State *state = platform::global__Win32__State;</div><div class="line"><a name="l05556"></a><span class="lineno"> 5556</span>&#160;            DWORD style = platform::win32_getWindowLong(state-&gt;window.windowHandle, GWL_STYLE);</div><div class="line"><a name="l05557"></a><span class="lineno"> 5557</span>&#160;            <span class="keywordtype">bool</span> result = (style &amp; WS_THICKFRAME) &gt; 0;</div><div class="line"><a name="l05558"></a><span class="lineno"> 5558</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05559"></a><span class="lineno"> 5559</span>&#160;        }</div><div class="line"><a name="l05560"></a><span class="lineno"> 5560</span>&#160;</div><div class="line"><a name="l05561"></a><span class="lineno"> 5561</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___window_base.html#gae0b3a2e777c7c9fce74c0828455f3de1">SetWindowResizeable</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> value) {</div><div class="line"><a name="l05562"></a><span class="lineno"> 5562</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(platform::global__Win32__State != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05563"></a><span class="lineno"> 5563</span>&#160;            platform::Win32State *state = platform::global__Win32__State;</div><div class="line"><a name="l05564"></a><span class="lineno"> 5564</span>&#160;            <span class="keywordflow">if</span> (!state-&gt;currentSettings.window.isFullscreen) {</div><div class="line"><a name="l05565"></a><span class="lineno"> 5565</span>&#160;                DWORD style;</div><div class="line"><a name="l05566"></a><span class="lineno"> 5566</span>&#160;                DWORD exStyle;</div><div class="line"><a name="l05567"></a><span class="lineno"> 5567</span>&#160;                <span class="keywordflow">if</span> (value) {</div><div class="line"><a name="l05568"></a><span class="lineno"> 5568</span>&#160;                    style = platform::Win32ResizeableWindowStyle;</div><div class="line"><a name="l05569"></a><span class="lineno"> 5569</span>&#160;                    exStyle = platform::Win32ResizeableWindowExtendedStyle;</div><div class="line"><a name="l05570"></a><span class="lineno"> 5570</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05571"></a><span class="lineno"> 5571</span>&#160;                    style = platform::Win32NonResizableWindowStyle;</div><div class="line"><a name="l05572"></a><span class="lineno"> 5572</span>&#160;                    exStyle = platform::Win32NonResizableWindowExtendedStyle;</div><div class="line"><a name="l05573"></a><span class="lineno"> 5573</span>&#160;                }</div><div class="line"><a name="l05574"></a><span class="lineno"> 5574</span>&#160;                platform::win32_setWindowLong(state-&gt;window.windowHandle, GWL_STYLE, style);</div><div class="line"><a name="l05575"></a><span class="lineno"> 5575</span>&#160;                platform::win32_setWindowLong(state-&gt;window.windowHandle, GWL_EXSTYLE, exStyle);</div><div class="line"><a name="l05576"></a><span class="lineno"> 5576</span>&#160;                state-&gt;currentSettings.window.isResizable = value;</div><div class="line"><a name="l05577"></a><span class="lineno"> 5577</span>&#160;            }</div><div class="line"><a name="l05578"></a><span class="lineno"> 5578</span>&#160;        }</div><div class="line"><a name="l05579"></a><span class="lineno"> 5579</span>&#160;</div><div class="line"><a name="l05580"></a><span class="lineno"> 5580</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___window_base.html#gaa9b22d92b69ab7740cafb932270df663">IsWindowFullscreen</a>() {</div><div class="line"><a name="l05581"></a><span class="lineno"> 5581</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(platform::global__Win32__State != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05582"></a><span class="lineno"> 5582</span>&#160;            platform::Win32State *state = platform::global__Win32__State;</div><div class="line"><a name="l05583"></a><span class="lineno"> 5583</span>&#160;            HWND windowHandle = state-&gt;window.windowHandle;</div><div class="line"><a name="l05584"></a><span class="lineno"> 5584</span>&#160;            DWORD style = platform::win32_getWindowLong(windowHandle, GWL_STYLE);</div><div class="line"><a name="l05585"></a><span class="lineno"> 5585</span>&#160;            <span class="keywordtype">bool</span> result = (style &amp; platform::Win32FullscreenWindowStyle) &gt; 0;</div><div class="line"><a name="l05586"></a><span class="lineno"> 5586</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05587"></a><span class="lineno"> 5587</span>&#160;        }</div><div class="line"><a name="l05588"></a><span class="lineno"> 5588</span>&#160;</div><div class="line"><a name="l05589"></a><span class="lineno"> 5589</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___window_base.html#gad44e694b9233bea8dfd3aeb70de3744c">SetWindowFullscreen</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> value, <span class="keyword">const</span> uint32_t fullscreenWidth, <span class="keyword">const</span> uint32_t fullscreenHeight, <span class="keyword">const</span> uint32_t refreshRate) {</div><div class="line"><a name="l05590"></a><span class="lineno"> 5590</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(platform::global__Win32__State != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05591"></a><span class="lineno"> 5591</span>&#160;            platform::Win32State *state = platform::global__Win32__State;</div><div class="line"><a name="l05592"></a><span class="lineno"> 5592</span>&#160;            platform::Win32APIFunctions &amp;wapi = platform::global__Win32__API__Functions;</div><div class="line"><a name="l05593"></a><span class="lineno"> 5593</span>&#160;            <span class="keywordflow">if</span> (value) {</div><div class="line"><a name="l05594"></a><span class="lineno"> 5594</span>&#160;                <a class="code" href="structfpl_1_1_window_settings.html">WindowSettings</a> &amp;windowSettings = state-&gt;currentSettings.window;</div><div class="line"><a name="l05595"></a><span class="lineno"> 5595</span>&#160;</div><div class="line"><a name="l05596"></a><span class="lineno"> 5596</span>&#160;                <span class="comment">// Save window placement and size</span></div><div class="line"><a name="l05597"></a><span class="lineno"> 5597</span>&#160;                HWND windowHandle = state-&gt;window.windowHandle;</div><div class="line"><a name="l05598"></a><span class="lineno"> 5598</span>&#160;                state-&gt;window.lastWindowPlacement = {};</div><div class="line"><a name="l05599"></a><span class="lineno"> 5599</span>&#160;                wapi.user.getWindowPlacement(windowHandle, &amp;state-&gt;window.lastWindowPlacement);</div><div class="line"><a name="l05600"></a><span class="lineno"> 5600</span>&#160;</div><div class="line"><a name="l05601"></a><span class="lineno"> 5601</span>&#160;                RECT windowRect = {};</div><div class="line"><a name="l05602"></a><span class="lineno"> 5602</span>&#160;                wapi.user.getWindowRect(windowHandle, &amp;windowRect);</div><div class="line"><a name="l05603"></a><span class="lineno"> 5603</span>&#160;                state-&gt;window.lastWindowWidth = windowRect.right - windowRect.left;</div><div class="line"><a name="l05604"></a><span class="lineno"> 5604</span>&#160;                state-&gt;window.lastWindowHeight = windowRect.bottom - windowRect.top;</div><div class="line"><a name="l05605"></a><span class="lineno"> 5605</span>&#160;</div><div class="line"><a name="l05606"></a><span class="lineno"> 5606</span>&#160;                <span class="comment">// Enter fullscreen mode or fallback to window mode</span></div><div class="line"><a name="l05607"></a><span class="lineno"> 5607</span>&#160;                windowSettings.<a class="code" href="structfpl_1_1_window_settings.html#a6dd4ff9644d0c66ec29987264ff99ea4">isFullscreen</a> = platform::Win32EnterFullscreen(fullscreenWidth, fullscreenHeight, refreshRate, 0);</div><div class="line"><a name="l05608"></a><span class="lineno"> 5608</span>&#160;                <span class="keywordflow">if</span> (!windowSettings.<a class="code" href="structfpl_1_1_window_settings.html#a6dd4ff9644d0c66ec29987264ff99ea4">isFullscreen</a>) {</div><div class="line"><a name="l05609"></a><span class="lineno"> 5609</span>&#160;                    platform::Win32LeaveFullscreen();</div><div class="line"><a name="l05610"></a><span class="lineno"> 5610</span>&#160;                }</div><div class="line"><a name="l05611"></a><span class="lineno"> 5611</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05612"></a><span class="lineno"> 5612</span>&#160;                platform::Win32LeaveFullscreen();</div><div class="line"><a name="l05613"></a><span class="lineno"> 5613</span>&#160;            }</div><div class="line"><a name="l05614"></a><span class="lineno"> 5614</span>&#160;        }</div><div class="line"><a name="l05615"></a><span class="lineno"> 5615</span>&#160;</div><div class="line"><a name="l05616"></a><span class="lineno"> 5616</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <a class="code" href="structfpl_1_1window_1_1_window_position.html">WindowPosition</a> <a class="code" href="group___window_base.html#ga802a660426beab88fcf3835aa0491a8b">GetWindowPosition</a>() {</div><div class="line"><a name="l05617"></a><span class="lineno"> 5617</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(platform::global__Win32__State != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05618"></a><span class="lineno"> 5618</span>&#160;            platform::Win32State *state = platform::global__Win32__State;</div><div class="line"><a name="l05619"></a><span class="lineno"> 5619</span>&#160;            platform::Win32APIFunctions &amp;wapi = platform::global__Win32__API__Functions;</div><div class="line"><a name="l05620"></a><span class="lineno"> 5620</span>&#160;            <a class="code" href="structfpl_1_1window_1_1_window_position.html">WindowPosition</a> result = {};</div><div class="line"><a name="l05621"></a><span class="lineno"> 5621</span>&#160;            WINDOWPLACEMENT placement = {};</div><div class="line"><a name="l05622"></a><span class="lineno"> 5622</span>&#160;            placement.length = <span class="keyword">sizeof</span>(WINDOWPLACEMENT);</div><div class="line"><a name="l05623"></a><span class="lineno"> 5623</span>&#160;            <span class="keywordflow">if</span> (wapi.user.getWindowPlacement(state-&gt;window.windowHandle, &amp;placement) == TRUE) {</div><div class="line"><a name="l05624"></a><span class="lineno"> 5624</span>&#160;                <span class="keywordflow">switch</span> (placement.showCmd) {</div><div class="line"><a name="l05625"></a><span class="lineno"> 5625</span>&#160;                    <span class="keywordflow">case</span> SW_MAXIMIZE:</div><div class="line"><a name="l05626"></a><span class="lineno"> 5626</span>&#160;                    {</div><div class="line"><a name="l05627"></a><span class="lineno"> 5627</span>&#160;                        result.<a class="code" href="structfpl_1_1window_1_1_window_position.html#a3a8869384ea2676df0d54ae197574ca0">left</a> = placement.ptMaxPosition.x;</div><div class="line"><a name="l05628"></a><span class="lineno"> 5628</span>&#160;                        result.<a class="code" href="structfpl_1_1window_1_1_window_position.html#a59fb9f01813cb864ffc44a090f05d4a5">top</a> = placement.ptMaxPosition.y;</div><div class="line"><a name="l05629"></a><span class="lineno"> 5629</span>&#160;                    } <span class="keywordflow">break</span>;</div><div class="line"><a name="l05630"></a><span class="lineno"> 5630</span>&#160;                    <span class="keywordflow">case</span> SW_MINIMIZE:</div><div class="line"><a name="l05631"></a><span class="lineno"> 5631</span>&#160;                    {</div><div class="line"><a name="l05632"></a><span class="lineno"> 5632</span>&#160;                        result.<a class="code" href="structfpl_1_1window_1_1_window_position.html#a3a8869384ea2676df0d54ae197574ca0">left</a> = placement.ptMinPosition.x;</div><div class="line"><a name="l05633"></a><span class="lineno"> 5633</span>&#160;                        result.<a class="code" href="structfpl_1_1window_1_1_window_position.html#a59fb9f01813cb864ffc44a090f05d4a5">top</a> = placement.ptMinPosition.y;</div><div class="line"><a name="l05634"></a><span class="lineno"> 5634</span>&#160;                    } <span class="keywordflow">break</span>;</div><div class="line"><a name="l05635"></a><span class="lineno"> 5635</span>&#160;                    <span class="keywordflow">default</span>:</div><div class="line"><a name="l05636"></a><span class="lineno"> 5636</span>&#160;                    {</div><div class="line"><a name="l05637"></a><span class="lineno"> 5637</span>&#160;                        result.<a class="code" href="structfpl_1_1window_1_1_window_position.html#a3a8869384ea2676df0d54ae197574ca0">left</a> = placement.rcNormalPosition.left;</div><div class="line"><a name="l05638"></a><span class="lineno"> 5638</span>&#160;                        result.<a class="code" href="structfpl_1_1window_1_1_window_position.html#a59fb9f01813cb864ffc44a090f05d4a5">top</a> = placement.rcNormalPosition.top;</div><div class="line"><a name="l05639"></a><span class="lineno"> 5639</span>&#160;                    } <span class="keywordflow">break</span>;</div><div class="line"><a name="l05640"></a><span class="lineno"> 5640</span>&#160;                }</div><div class="line"><a name="l05641"></a><span class="lineno"> 5641</span>&#160;            }</div><div class="line"><a name="l05642"></a><span class="lineno"> 5642</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05643"></a><span class="lineno"> 5643</span>&#160;        }</div><div class="line"><a name="l05644"></a><span class="lineno"> 5644</span>&#160;</div><div class="line"><a name="l05645"></a><span class="lineno"> 5645</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___window_base.html#ga83958a36db0031b265f3b10470b4dade">SetWindowTitle</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *title) {</div><div class="line"><a name="l05646"></a><span class="lineno"> 5646</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(platform::global__Win32__State != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05647"></a><span class="lineno"> 5647</span>&#160;            platform::Win32State *state = platform::global__Win32__State;</div><div class="line"><a name="l05648"></a><span class="lineno"> 5648</span>&#160;            platform::Win32APIFunctions &amp;wapi = platform::global__Win32__API__Functions;</div><div class="line"><a name="l05649"></a><span class="lineno"> 5649</span>&#160;            HWND handle = state-&gt;window.windowHandle;</div><div class="line"><a name="l05650"></a><span class="lineno"> 5650</span>&#160;</div><div class="line"><a name="l05651"></a><span class="lineno"> 5651</span>&#160;            <span class="comment">// @FIXME(final): This is not correct to set a ansi text, in unicode we have to use the Wide version!</span></div><div class="line"><a name="l05652"></a><span class="lineno"> 5652</span>&#160;            wapi.user.setWindowTextA(handle, title);</div><div class="line"><a name="l05653"></a><span class="lineno"> 5653</span>&#160;        }</div><div class="line"><a name="l05654"></a><span class="lineno"> 5654</span>&#160;</div><div class="line"><a name="l05655"></a><span class="lineno"> 5655</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___window_base.html#ga1c3c320dc9e29fa1aa5f86f0fd434e79">SetWindowPosition</a>(<span class="keyword">const</span> int32_t left, <span class="keyword">const</span> int32_t top) {</div><div class="line"><a name="l05656"></a><span class="lineno"> 5656</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(platform::global__Win32__State != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05657"></a><span class="lineno"> 5657</span>&#160;            platform::Win32State *state = platform::global__Win32__State;</div><div class="line"><a name="l05658"></a><span class="lineno"> 5658</span>&#160;            platform::Win32APIFunctions &amp;wapi = platform::global__Win32__API__Functions;</div><div class="line"><a name="l05659"></a><span class="lineno"> 5659</span>&#160;            WINDOWPLACEMENT placement = {};</div><div class="line"><a name="l05660"></a><span class="lineno"> 5660</span>&#160;            placement.length = <span class="keyword">sizeof</span>(WINDOWPLACEMENT);</div><div class="line"><a name="l05661"></a><span class="lineno"> 5661</span>&#160;            RECT windowRect;</div><div class="line"><a name="l05662"></a><span class="lineno"> 5662</span>&#160;            <span class="keywordflow">if</span> (wapi.user.getWindowPlacement(state-&gt;window.windowHandle, &amp;placement) &amp;&amp;</div><div class="line"><a name="l05663"></a><span class="lineno"> 5663</span>&#160;                wapi.user.getWindowRect(state-&gt;window.windowHandle, &amp;windowRect)) {</div><div class="line"><a name="l05664"></a><span class="lineno"> 5664</span>&#160;                <span class="keywordflow">switch</span> (placement.showCmd) {</div><div class="line"><a name="l05665"></a><span class="lineno"> 5665</span>&#160;                    <span class="keywordflow">case</span> SW_NORMAL:</div><div class="line"><a name="l05666"></a><span class="lineno"> 5666</span>&#160;                    <span class="keywordflow">case</span> SW_SHOW:</div><div class="line"><a name="l05667"></a><span class="lineno"> 5667</span>&#160;                    {</div><div class="line"><a name="l05668"></a><span class="lineno"> 5668</span>&#160;                        placement.rcNormalPosition.left = left;</div><div class="line"><a name="l05669"></a><span class="lineno"> 5669</span>&#160;                        placement.rcNormalPosition.top = top;</div><div class="line"><a name="l05670"></a><span class="lineno"> 5670</span>&#160;                        placement.rcNormalPosition.right = placement.rcNormalPosition.left + (windowRect.right - windowRect.left);</div><div class="line"><a name="l05671"></a><span class="lineno"> 5671</span>&#160;                        placement.rcNormalPosition.bottom = placement.rcNormalPosition.top + (windowRect.bottom - windowRect.top);</div><div class="line"><a name="l05672"></a><span class="lineno"> 5672</span>&#160;                        wapi.user.setWindowPlacement(state-&gt;window.windowHandle, &amp;placement);</div><div class="line"><a name="l05673"></a><span class="lineno"> 5673</span>&#160;                    } <span class="keywordflow">break</span>;</div><div class="line"><a name="l05674"></a><span class="lineno"> 5674</span>&#160;                }</div><div class="line"><a name="l05675"></a><span class="lineno"> 5675</span>&#160;            }</div><div class="line"><a name="l05676"></a><span class="lineno"> 5676</span>&#160;        }</div><div class="line"><a name="l05677"></a><span class="lineno"> 5677</span>&#160;</div><div class="line"><a name="l05678"></a><span class="lineno"> 5678</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___window_base.html#gad62349fccf4177acf7e48102d3fab185">SetWindowCursorEnabled</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> value) {</div><div class="line"><a name="l05679"></a><span class="lineno"> 5679</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(platform::global__Win32__State != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05680"></a><span class="lineno"> 5680</span>&#160;            platform::Win32State *state = platform::global__Win32__State;</div><div class="line"><a name="l05681"></a><span class="lineno"> 5681</span>&#160;            state-&gt;window.isCursorActive = value;</div><div class="line"><a name="l05682"></a><span class="lineno"> 5682</span>&#160;        }</div><div class="line"><a name="l05683"></a><span class="lineno"> 5683</span>&#160;</div><div class="line"><a name="l05684"></a><span class="lineno"> 5684</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___window_base.html#ga3b59bf79f2c70c92b61c12741e75ae0a">WindowUpdate</a>() {</div><div class="line"><a name="l05685"></a><span class="lineno"> 5685</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(platform::global__Win32__State != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05686"></a><span class="lineno"> 5686</span>&#160;            platform::Win32State *state = platform::global__Win32__State;</div><div class="line"><a name="l05687"></a><span class="lineno"> 5687</span>&#160;            platform::Win32APIFunctions &amp;wapi = platform::global__Win32__API__Functions;</div><div class="line"><a name="l05688"></a><span class="lineno"> 5688</span>&#160;            <span class="keywordtype">bool</span> result = <span class="keyword">false</span>;</div><div class="line"><a name="l05689"></a><span class="lineno"> 5689</span>&#160;</div><div class="line"><a name="l05690"></a><span class="lineno"> 5690</span>&#160;            <span class="comment">// Poll gamepad controller states</span></div><div class="line"><a name="l05691"></a><span class="lineno"> 5691</span>&#160;            platform::Win32PollControllers(state);</div><div class="line"><a name="l05692"></a><span class="lineno"> 5692</span>&#160;</div><div class="line"><a name="l05693"></a><span class="lineno"> 5693</span>&#160;            <span class="comment">// Poll window events</span></div><div class="line"><a name="l05694"></a><span class="lineno"> 5694</span>&#160;            <span class="keywordflow">if</span> (state-&gt;window.windowHandle != 0) {</div><div class="line"><a name="l05695"></a><span class="lineno"> 5695</span>&#160;                MSG msg;</div><div class="line"><a name="l05696"></a><span class="lineno"> 5696</span>&#160;                <span class="keywordflow">while</span> (platform::win32_peekMessage(&amp;msg, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, 0, 0, PM_REMOVE) != 0) {</div><div class="line"><a name="l05697"></a><span class="lineno"> 5697</span>&#160;                    wapi.user.translateMessage(&amp;msg);</div><div class="line"><a name="l05698"></a><span class="lineno"> 5698</span>&#160;                    platform::win32_dispatchMessage(&amp;msg);</div><div class="line"><a name="l05699"></a><span class="lineno"> 5699</span>&#160;                }</div><div class="line"><a name="l05700"></a><span class="lineno"> 5700</span>&#160;                result = state-&gt;window.isRunning;</div><div class="line"><a name="l05701"></a><span class="lineno"> 5701</span>&#160;            }</div><div class="line"><a name="l05702"></a><span class="lineno"> 5702</span>&#160;</div><div class="line"><a name="l05703"></a><span class="lineno"> 5703</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05704"></a><span class="lineno"> 5704</span>&#160;        }</div><div class="line"><a name="l05705"></a><span class="lineno"> 5705</span>&#160;</div><div class="line"><a name="l05706"></a><span class="lineno"> 5706</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___window_base.html#gae603a20eb995b5887ff055e95b48363b">IsWindowRunning</a>() {</div><div class="line"><a name="l05707"></a><span class="lineno"> 5707</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(platform::global__Win32__State != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05708"></a><span class="lineno"> 5708</span>&#160;            platform::Win32State *state = platform::global__Win32__State;</div><div class="line"><a name="l05709"></a><span class="lineno"> 5709</span>&#160;            <span class="keywordtype">bool</span> result = state-&gt;window.isRunning;</div><div class="line"><a name="l05710"></a><span class="lineno"> 5710</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05711"></a><span class="lineno"> 5711</span>&#160;        }</div><div class="line"><a name="l05712"></a><span class="lineno"> 5712</span>&#160;</div><div class="line"><a name="l05713"></a><span class="lineno"> 5713</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___window_events.html#ga9801762935e9ba7bcb4c1189eb88fbf3">PollWindowEvent</a>(<a class="code" href="structfpl_1_1window_1_1_event.html">Event</a> &amp;ev) {</div><div class="line"><a name="l05714"></a><span class="lineno"> 5714</span>&#160;            platform::EventQueue *eventQueue = platform::global__EventQueue;</div><div class="line"><a name="l05715"></a><span class="lineno"> 5715</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(eventQueue != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05716"></a><span class="lineno"> 5716</span>&#160;            <span class="keywordtype">bool</span> result = <span class="keyword">false</span>;</div><div class="line"><a name="l05717"></a><span class="lineno"> 5717</span>&#160;            <span class="keywordflow">if</span> (eventQueue-&gt;pushCount &gt; 0 &amp;&amp; (eventQueue-&gt;pollIndex &lt; eventQueue-&gt;pushCount)) {</div><div class="line"><a name="l05718"></a><span class="lineno"> 5718</span>&#160;                uint32_t eventIndex = <a class="code" href="group___atomics.html#gabedcbf082844800172f4228383c80f75">atomics::AtomicAddU32</a>(&amp;eventQueue-&gt;pollIndex, 1);</div><div class="line"><a name="l05719"></a><span class="lineno"> 5719</span>&#160;                ev = eventQueue-&gt;events[eventIndex];</div><div class="line"><a name="l05720"></a><span class="lineno"> 5720</span>&#160;                result = <span class="keyword">true</span>;</div><div class="line"><a name="l05721"></a><span class="lineno"> 5721</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (eventQueue-&gt;pushCount &gt; 0) {</div><div class="line"><a name="l05722"></a><span class="lineno"> 5722</span>&#160;                <a class="code" href="group___atomics.html#ga55587b1d4c3e9faf96161811a708bee1">atomics::AtomicExchangeU32</a>(&amp;eventQueue-&gt;pollIndex, 0);</div><div class="line"><a name="l05723"></a><span class="lineno"> 5723</span>&#160;                <a class="code" href="group___atomics.html#ga55587b1d4c3e9faf96161811a708bee1">atomics::AtomicExchangeU32</a>(&amp;eventQueue-&gt;pushCount, 0);</div><div class="line"><a name="l05724"></a><span class="lineno"> 5724</span>&#160;            }</div><div class="line"><a name="l05725"></a><span class="lineno"> 5725</span>&#160;            <span class="keywordflow">return</span> result;</div><div class="line"><a name="l05726"></a><span class="lineno"> 5726</span>&#160;        }</div><div class="line"><a name="l05727"></a><span class="lineno"> 5727</span>&#160;</div><div class="line"><a name="l05728"></a><span class="lineno"> 5728</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">char</span> *<a class="code" href="group___window_clipboard.html#ga9ad3697817a0dfdbc2527e4087413c8d">GetClipboardAnsiText</a>(<span class="keywordtype">char</span> *dest, <span class="keyword">const</span> uint32_t maxDestLen) {</div><div class="line"><a name="l05729"></a><span class="lineno"> 5729</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(platform::global__Win32__State != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05730"></a><span class="lineno"> 5730</span>&#160;            platform::Win32State *state = platform::global__Win32__State;</div><div class="line"><a name="l05731"></a><span class="lineno"> 5731</span>&#160;            platform::Win32APIFunctions &amp;wapi = platform::global__Win32__API__Functions;</div><div class="line"><a name="l05732"></a><span class="lineno"> 5732</span>&#160;            <span class="keywordtype">char</span> *result = <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>;</div><div class="line"><a name="l05733"></a><span class="lineno"> 5733</span>&#160;            <span class="keywordflow">if</span> (wapi.user.openClipboard(state-&gt;window.windowHandle)) {</div><div class="line"><a name="l05734"></a><span class="lineno"> 5734</span>&#160;                <span class="keywordflow">if</span> (wapi.user.isClipboardFormatAvailable(CF_TEXT)) {</div><div class="line"><a name="l05735"></a><span class="lineno"> 5735</span>&#160;                    HGLOBAL dataHandle = wapi.user.getClipboardData(CF_TEXT);</div><div class="line"><a name="l05736"></a><span class="lineno"> 5736</span>&#160;                    <span class="keywordflow">if</span> (dataHandle != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l05737"></a><span class="lineno"> 5737</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">char</span> *stringValue = (<span class="keyword">const</span> <span class="keywordtype">char</span> *)GlobalLock(dataHandle);</div><div class="line"><a name="l05738"></a><span class="lineno"> 5738</span>&#160;                        result = <a class="code" href="group___strings.html#ga4540f0bb0f47aeba1a0900f9f107c188">strings::CopyAnsiString</a>(stringValue, dest, maxDestLen);</div><div class="line"><a name="l05739"></a><span class="lineno"> 5739</span>&#160;                        GlobalUnlock(dataHandle);</div><div class="line"><a name="l05740"></a><span class="lineno"> 5740</span>&#160;                    }</div><div class="line"><a name="l05741"></a><span class="lineno"> 5741</span>&#160;                }</div><div class="line"><a name="l05742"></a><span class="lineno"> 5742</span>&#160;                wapi.user.closeClipboard();</div><div class="line"><a name="l05743"></a><span class="lineno"> 5743</span>&#160;            }</div><div class="line"><a name="l05744"></a><span class="lineno"> 5744</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05745"></a><span class="lineno"> 5745</span>&#160;        }</div><div class="line"><a name="l05746"></a><span class="lineno"> 5746</span>&#160;</div><div class="line"><a name="l05747"></a><span class="lineno"> 5747</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">wchar_t</span> *<a class="code" href="group___window_clipboard.html#ga0101008cbd7d81f06a31d76fa0c81840">GetClipboardWideText</a>(<span class="keywordtype">wchar_t</span> *dest, <span class="keyword">const</span> uint32_t maxDestLen) {</div><div class="line"><a name="l05748"></a><span class="lineno"> 5748</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(platform::global__Win32__State != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05749"></a><span class="lineno"> 5749</span>&#160;            platform::Win32State *state = platform::global__Win32__State;</div><div class="line"><a name="l05750"></a><span class="lineno"> 5750</span>&#160;            platform::Win32APIFunctions &amp;wapi = platform::global__Win32__API__Functions;</div><div class="line"><a name="l05751"></a><span class="lineno"> 5751</span>&#160;            <span class="keywordtype">wchar_t</span> *result = <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>;</div><div class="line"><a name="l05752"></a><span class="lineno"> 5752</span>&#160;            <span class="keywordflow">if</span> (wapi.user.openClipboard(state-&gt;window.windowHandle)) {</div><div class="line"><a name="l05753"></a><span class="lineno"> 5753</span>&#160;                <span class="keywordflow">if</span> (wapi.user.isClipboardFormatAvailable(CF_UNICODETEXT)) {</div><div class="line"><a name="l05754"></a><span class="lineno"> 5754</span>&#160;                    HGLOBAL dataHandle = wapi.user.getClipboardData(CF_UNICODETEXT);</div><div class="line"><a name="l05755"></a><span class="lineno"> 5755</span>&#160;                    <span class="keywordflow">if</span> (dataHandle != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l05756"></a><span class="lineno"> 5756</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">wchar_t</span> *stringValue = (<span class="keyword">const</span> <span class="keywordtype">wchar_t</span> *)GlobalLock(dataHandle);</div><div class="line"><a name="l05757"></a><span class="lineno"> 5757</span>&#160;                        result = <a class="code" href="group___strings.html#gaa94f2d8d8590d1625ec8dc147fa115e6">strings::CopyWideString</a>(stringValue, dest, maxDestLen);</div><div class="line"><a name="l05758"></a><span class="lineno"> 5758</span>&#160;                        GlobalUnlock(dataHandle);</div><div class="line"><a name="l05759"></a><span class="lineno"> 5759</span>&#160;                    }</div><div class="line"><a name="l05760"></a><span class="lineno"> 5760</span>&#160;                }</div><div class="line"><a name="l05761"></a><span class="lineno"> 5761</span>&#160;                wapi.user.closeClipboard();</div><div class="line"><a name="l05762"></a><span class="lineno"> 5762</span>&#160;            }</div><div class="line"><a name="l05763"></a><span class="lineno"> 5763</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05764"></a><span class="lineno"> 5764</span>&#160;        }</div><div class="line"><a name="l05765"></a><span class="lineno"> 5765</span>&#160;</div><div class="line"><a name="l05766"></a><span class="lineno"> 5766</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___window_clipboard.html#ga195d6d724a7ad034189368770bf1466b">SetClipboardText</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *ansiSource) {</div><div class="line"><a name="l05767"></a><span class="lineno"> 5767</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(platform::global__Win32__State != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05768"></a><span class="lineno"> 5768</span>&#160;            platform::Win32State *state = platform::global__Win32__State;</div><div class="line"><a name="l05769"></a><span class="lineno"> 5769</span>&#160;            platform::Win32APIFunctions &amp;wapi = platform::global__Win32__API__Functions;</div><div class="line"><a name="l05770"></a><span class="lineno"> 5770</span>&#160;            <span class="keywordtype">bool</span> result = <span class="keyword">false</span>;</div><div class="line"><a name="l05771"></a><span class="lineno"> 5771</span>&#160;            <span class="keywordflow">if</span> (wapi.user.openClipboard(state-&gt;window.windowHandle)) {</div><div class="line"><a name="l05772"></a><span class="lineno"> 5772</span>&#160;                <span class="keyword">const</span> uint32_t ansiLen = <a class="code" href="group___strings.html#ga388ca55dd073575074821c146a585e2d">strings::GetAnsiStringLength</a>(ansiSource);</div><div class="line"><a name="l05773"></a><span class="lineno"> 5773</span>&#160;                <span class="keyword">const</span> uint32_t ansiBufferLen = ansiLen + 1;</div><div class="line"><a name="l05774"></a><span class="lineno"> 5774</span>&#160;                HGLOBAL handle = GlobalAlloc(GMEM_MOVEABLE, (SIZE_T)ansiBufferLen * <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));</div><div class="line"><a name="l05775"></a><span class="lineno"> 5775</span>&#160;                <span class="keywordflow">if</span> (handle != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l05776"></a><span class="lineno"> 5776</span>&#160;                    <span class="keywordtype">char</span> *target = (<span class="keywordtype">char</span>*)GlobalLock(handle);</div><div class="line"><a name="l05777"></a><span class="lineno"> 5777</span>&#160;                    <a class="code" href="group___strings.html#ga4540f0bb0f47aeba1a0900f9f107c188">strings::CopyAnsiString</a>(ansiSource, ansiLen, target, ansiBufferLen);</div><div class="line"><a name="l05778"></a><span class="lineno"> 5778</span>&#160;                    GlobalUnlock(handle);</div><div class="line"><a name="l05779"></a><span class="lineno"> 5779</span>&#160;                    wapi.user.emptyClipboard();</div><div class="line"><a name="l05780"></a><span class="lineno"> 5780</span>&#160;                    wapi.user.setClipboardData(CF_TEXT, handle);</div><div class="line"><a name="l05781"></a><span class="lineno"> 5781</span>&#160;                    result = <span class="keyword">true</span>;</div><div class="line"><a name="l05782"></a><span class="lineno"> 5782</span>&#160;                }</div><div class="line"><a name="l05783"></a><span class="lineno"> 5783</span>&#160;                wapi.user.closeClipboard();</div><div class="line"><a name="l05784"></a><span class="lineno"> 5784</span>&#160;            }</div><div class="line"><a name="l05785"></a><span class="lineno"> 5785</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05786"></a><span class="lineno"> 5786</span>&#160;        }</div><div class="line"><a name="l05787"></a><span class="lineno"> 5787</span>&#160;</div><div class="line"><a name="l05788"></a><span class="lineno"> 5788</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___window_clipboard.html#ga195d6d724a7ad034189368770bf1466b">SetClipboardText</a>(<span class="keyword">const</span> <span class="keywordtype">wchar_t</span> *wideSource) {</div><div class="line"><a name="l05789"></a><span class="lineno"> 5789</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(platform::global__Win32__State != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05790"></a><span class="lineno"> 5790</span>&#160;            platform::Win32State *state = platform::global__Win32__State;</div><div class="line"><a name="l05791"></a><span class="lineno"> 5791</span>&#160;            platform::Win32APIFunctions &amp;wapi = platform::global__Win32__API__Functions;</div><div class="line"><a name="l05792"></a><span class="lineno"> 5792</span>&#160;            <span class="keywordtype">bool</span> result = <span class="keyword">false</span>;</div><div class="line"><a name="l05793"></a><span class="lineno"> 5793</span>&#160;            <span class="keywordflow">if</span> (wapi.user.openClipboard(state-&gt;window.windowHandle)) {</div><div class="line"><a name="l05794"></a><span class="lineno"> 5794</span>&#160;                <span class="keyword">const</span> uint32_t wideLen = <a class="code" href="group___strings.html#ga2f5f224289b7bf9d19bb5684cd19fac1">strings::GetWideStringLength</a>(wideSource);</div><div class="line"><a name="l05795"></a><span class="lineno"> 5795</span>&#160;                <span class="keyword">const</span> uint32_t wideBufferLen = wideLen + 1;</div><div class="line"><a name="l05796"></a><span class="lineno"> 5796</span>&#160;                HGLOBAL handle = GlobalAlloc(GMEM_MOVEABLE, (SIZE_T)wideBufferLen * <span class="keyword">sizeof</span>(<span class="keywordtype">wchar_t</span>));</div><div class="line"><a name="l05797"></a><span class="lineno"> 5797</span>&#160;                <span class="keywordflow">if</span> (handle != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l05798"></a><span class="lineno"> 5798</span>&#160;                    <span class="keywordtype">wchar_t</span> *wideTarget = (<span class="keywordtype">wchar_t</span>*)GlobalLock(handle);</div><div class="line"><a name="l05799"></a><span class="lineno"> 5799</span>&#160;                    <a class="code" href="group___strings.html#gaa94f2d8d8590d1625ec8dc147fa115e6">strings::CopyWideString</a>(wideSource, wideLen, wideTarget, wideBufferLen);</div><div class="line"><a name="l05800"></a><span class="lineno"> 5800</span>&#160;                    GlobalUnlock(handle);</div><div class="line"><a name="l05801"></a><span class="lineno"> 5801</span>&#160;                    wapi.user.emptyClipboard();</div><div class="line"><a name="l05802"></a><span class="lineno"> 5802</span>&#160;                    wapi.user.setClipboardData(CF_UNICODETEXT, handle);</div><div class="line"><a name="l05803"></a><span class="lineno"> 5803</span>&#160;                    result = <span class="keyword">true</span>;</div><div class="line"><a name="l05804"></a><span class="lineno"> 5804</span>&#160;                }</div><div class="line"><a name="l05805"></a><span class="lineno"> 5805</span>&#160;                wapi.user.closeClipboard();</div><div class="line"><a name="l05806"></a><span class="lineno"> 5806</span>&#160;            }</div><div class="line"><a name="l05807"></a><span class="lineno"> 5807</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l05808"></a><span class="lineno"> 5808</span>&#160;        }</div><div class="line"><a name="l05809"></a><span class="lineno"> 5809</span>&#160;    } <span class="comment">// window</span></div><div class="line"><a name="l05810"></a><span class="lineno"> 5810</span>&#160;<span class="preprocessor">#endif // FPL_ENABLE_WINDOW</span></div><div class="line"><a name="l05811"></a><span class="lineno"> 5811</span>&#160;</div><div class="line"><a name="l05812"></a><span class="lineno"> 5812</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l05813"></a><span class="lineno"> 5813</span>&#160;<span class="comment">// Core Win32</span></div><div class="line"><a name="l05814"></a><span class="lineno"> 5814</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l05815"></a><span class="lineno"> 5815</span>&#160;    <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="group___error_handling.html#ga21d84c13e805a5fc41be6602615bc099">GetPlatformLastError</a>() {</div><div class="line"><a name="l05816"></a><span class="lineno"> 5816</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *result = <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>;</div><div class="line"><a name="l05817"></a><span class="lineno"> 5817</span>&#160;        <span class="keywordflow">if</span> (common::global__LastErrorState != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l05818"></a><span class="lineno"> 5818</span>&#160;<span class="preprocessor">#       if defined(FPL_ENABLE_MULTIPLE_ERRORSTATES)</span></div><div class="line"><a name="l05819"></a><span class="lineno"> 5819</span>&#160;            <span class="keywordflow">if</span> (common::global__LastErrorState-&gt;count &gt; 0) {</div><div class="line"><a name="l05820"></a><span class="lineno"> 5820</span>&#160;                <span class="keywordtype">size_t</span> index = common::global__LastErrorState-&gt;count - 1;</div><div class="line"><a name="l05821"></a><span class="lineno"> 5821</span>&#160;                result = <a class="code" href="group___error_handling.html#ga21d84c13e805a5fc41be6602615bc099">GetPlatformLastError</a>(index);</div><div class="line"><a name="l05822"></a><span class="lineno"> 5822</span>&#160;            }</div><div class="line"><a name="l05823"></a><span class="lineno"> 5823</span>&#160;<span class="preprocessor">#       else</span></div><div class="line"><a name="l05824"></a><span class="lineno"> 5824</span>&#160;            result = global__LastErrorState-&gt;errors[0];</div><div class="line"><a name="l05825"></a><span class="lineno"> 5825</span>&#160;<span class="preprocessor">#       endif // FPL_ENABLE_MULTIPLE_ERRORSTATES</span></div><div class="line"><a name="l05826"></a><span class="lineno"> 5826</span>&#160;        }</div><div class="line"><a name="l05827"></a><span class="lineno"> 5827</span>&#160;        <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l05828"></a><span class="lineno"> 5828</span>&#160;    }</div><div class="line"><a name="l05829"></a><span class="lineno"> 5829</span>&#160;</div><div class="line"><a name="l05830"></a><span class="lineno"> 5830</span>&#160;    <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="group___error_handling.html#ga21d84c13e805a5fc41be6602615bc099">GetPlatformLastError</a>(<span class="keyword">const</span> <span class="keywordtype">size_t</span> index) {</div><div class="line"><a name="l05831"></a><span class="lineno"> 5831</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *result = <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>;</div><div class="line"><a name="l05832"></a><span class="lineno"> 5832</span>&#160;        <span class="keywordflow">if</span> (common::global__LastErrorState != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l05833"></a><span class="lineno"> 5833</span>&#160;<span class="preprocessor">#       if defined(FPL_ENABLE_MULTIPLE_ERRORSTATES)</span></div><div class="line"><a name="l05834"></a><span class="lineno"> 5834</span>&#160;            <span class="keywordflow">if</span> (index &gt; -1 &amp;&amp; index &lt; (int32_t)common::global__LastErrorState-&gt;count) {</div><div class="line"><a name="l05835"></a><span class="lineno"> 5835</span>&#160;                result = common::global__LastErrorState-&gt;errors[index];</div><div class="line"><a name="l05836"></a><span class="lineno"> 5836</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l05837"></a><span class="lineno"> 5837</span>&#160;                result = common::global__LastErrorState-&gt;errors[common::global__LastErrorState-&gt;count - 1];</div><div class="line"><a name="l05838"></a><span class="lineno"> 5838</span>&#160;            }</div><div class="line"><a name="l05839"></a><span class="lineno"> 5839</span>&#160;<span class="preprocessor">#       else</span></div><div class="line"><a name="l05840"></a><span class="lineno"> 5840</span>&#160;            result = global__LastErrorState-&gt;errors[0];</div><div class="line"><a name="l05841"></a><span class="lineno"> 5841</span>&#160;<span class="preprocessor">#       endif // FPL_ENABLE_MULTIPLE_ERRORSTATES</span></div><div class="line"><a name="l05842"></a><span class="lineno"> 5842</span>&#160;        }</div><div class="line"><a name="l05843"></a><span class="lineno"> 5843</span>&#160;        <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l05844"></a><span class="lineno"> 5844</span>&#160;    }</div><div class="line"><a name="l05845"></a><span class="lineno"> 5845</span>&#160;</div><div class="line"><a name="l05846"></a><span class="lineno"> 5846</span>&#160;    <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">size_t</span> <a class="code" href="group___error_handling.html#gac3b46af437dae868f37f36e0d0837655">GetPlatformLastErrorCount</a>() {</div><div class="line"><a name="l05847"></a><span class="lineno"> 5847</span>&#160;        <span class="keywordtype">size_t</span> result = 0;</div><div class="line"><a name="l05848"></a><span class="lineno"> 5848</span>&#160;        <span class="keywordflow">if</span> (common::global__LastErrorState != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l05849"></a><span class="lineno"> 5849</span>&#160;<span class="preprocessor">#       if defined(FPL_ENABLE_MULTIPLE_ERRORSTATES)</span></div><div class="line"><a name="l05850"></a><span class="lineno"> 5850</span>&#160;            result = common::global__LastErrorState-&gt;count;</div><div class="line"><a name="l05851"></a><span class="lineno"> 5851</span>&#160;<span class="preprocessor">#       else</span></div><div class="line"><a name="l05852"></a><span class="lineno"> 5852</span>&#160;            result = <a class="code" href="group___strings.html#ga388ca55dd073575074821c146a585e2d">strings::GetAnsiStringLength</a>(common::global__LastErrorState-&gt;errors[0]) &gt; 0 ? 1 : 0;</div><div class="line"><a name="l05853"></a><span class="lineno"> 5853</span>&#160;<span class="preprocessor">#       endif</span></div><div class="line"><a name="l05854"></a><span class="lineno"> 5854</span>&#160;        }</div><div class="line"><a name="l05855"></a><span class="lineno"> 5855</span>&#160;        <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l05856"></a><span class="lineno"> 5856</span>&#160;    }</div><div class="line"><a name="l05857"></a><span class="lineno"> 5857</span>&#160;</div><div class="line"><a name="l05858"></a><span class="lineno"> 5858</span>&#160;    <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keyword">const</span> <a class="code" href="structfpl_1_1_settings.html">Settings</a> &amp;<a class="code" href="group___settings.html#ga6eecc72936058abdbebfad659b886980">GetCurrentSettings</a>() {</div><div class="line"><a name="l05859"></a><span class="lineno"> 5859</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(platform::global__Win32__State != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05860"></a><span class="lineno"> 5860</span>&#160;        <span class="keyword">const</span> platform::Win32State *state = platform::global__Win32__State;</div><div class="line"><a name="l05861"></a><span class="lineno"> 5861</span>&#160;        <span class="keywordflow">return</span> (state-&gt;currentSettings);</div><div class="line"><a name="l05862"></a><span class="lineno"> 5862</span>&#160;    }</div><div class="line"><a name="l05863"></a><span class="lineno"> 5863</span>&#160;</div><div class="line"><a name="l05864"></a><span class="lineno"> 5864</span>&#160;    <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___initialization.html#ga6687b3ab1ce1d54f30785baf70566ed5">ReleasePlatform</a>() {</div><div class="line"><a name="l05865"></a><span class="lineno"> 5865</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(platform::global__Win32__AppState.isInitialized);</div><div class="line"><a name="l05866"></a><span class="lineno"> 5866</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(platform::global__Win32__State != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05867"></a><span class="lineno"> 5867</span>&#160;        platform::Win32State &amp;win32State = *platform::global__Win32__State;</div><div class="line"><a name="l05868"></a><span class="lineno"> 5868</span>&#160;</div><div class="line"><a name="l05869"></a><span class="lineno"> 5869</span>&#160;<span class="preprocessor">#   if defined(FPL_ENABLE_AUDIO)</span></div><div class="line"><a name="l05870"></a><span class="lineno"> 5870</span>&#160;        audio::ReleaseAudio();</div><div class="line"><a name="l05871"></a><span class="lineno"> 5871</span>&#160;<span class="preprocessor">#   endif</span></div><div class="line"><a name="l05872"></a><span class="lineno"> 5872</span>&#160;</div><div class="line"><a name="l05873"></a><span class="lineno"> 5873</span>&#160;<span class="preprocessor">#   if defined(FPL_ENABLE_WINDOW)</span></div><div class="line"><a name="l05874"></a><span class="lineno"> 5874</span>&#160;        <span class="keywordflow">if</span> (win32State.currentSettings.window.isFullscreen) {</div><div class="line"><a name="l05875"></a><span class="lineno"> 5875</span>&#160;            platform::Win32LeaveFullscreen();</div><div class="line"><a name="l05876"></a><span class="lineno"> 5876</span>&#160;        }</div><div class="line"><a name="l05877"></a><span class="lineno"> 5877</span>&#160;</div><div class="line"><a name="l05878"></a><span class="lineno"> 5878</span>&#160;<span class="preprocessor">#   if defined(FPL_ENABLE_VIDEO)</span></div><div class="line"><a name="l05879"></a><span class="lineno"> 5879</span>&#160;        <span class="keywordflow">switch</span> (win32State.video.activeVideoDriver) {</div><div class="line"><a name="l05880"></a><span class="lineno"> 5880</span>&#160;<span class="preprocessor">#       if defined(FPL_ENABLE_VIDEO_OPENGL)</span></div><div class="line"><a name="l05881"></a><span class="lineno"> 5881</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacefpl_1_1_video_driver_types.html#a258cb7cd4b12cc998472708f70d55f7fac98f1c1841b2c26aaf2cc06c9ce1d5b5">VideoDriverType::OpenGL</a>:</div><div class="line"><a name="l05882"></a><span class="lineno"> 5882</span>&#160;            {</div><div class="line"><a name="l05883"></a><span class="lineno"> 5883</span>&#160;                platform::Win32ReleaseVideoOpenGL(&amp;win32State);</div><div class="line"><a name="l05884"></a><span class="lineno"> 5884</span>&#160;            } <span class="keywordflow">break</span>;</div><div class="line"><a name="l05885"></a><span class="lineno"> 5885</span>&#160;<span class="preprocessor">#       endif</span></div><div class="line"><a name="l05886"></a><span class="lineno"> 5886</span>&#160;</div><div class="line"><a name="l05887"></a><span class="lineno"> 5887</span>&#160;<span class="preprocessor">#       if defined(FPL_ENABLE_VIDEO_SOFTWARE)</span></div><div class="line"><a name="l05888"></a><span class="lineno"> 5888</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacefpl_1_1_video_driver_types.html#a258cb7cd4b12cc998472708f70d55f7facec18deb73c81ed6ac84319bfb4311db">VideoDriverType::Software</a>:</div><div class="line"><a name="l05889"></a><span class="lineno"> 5889</span>&#160;            {</div><div class="line"><a name="l05890"></a><span class="lineno"> 5890</span>&#160;                platform::Win32ReleaseVideoSoftware(&amp;win32State);</div><div class="line"><a name="l05891"></a><span class="lineno"> 5891</span>&#160;            } <span class="keywordflow">break</span>;</div><div class="line"><a name="l05892"></a><span class="lineno"> 5892</span>&#160;<span class="preprocessor">#       endif</span></div><div class="line"><a name="l05893"></a><span class="lineno"> 5893</span>&#160;</div><div class="line"><a name="l05894"></a><span class="lineno"> 5894</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l05895"></a><span class="lineno"> 5895</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l05896"></a><span class="lineno"> 5896</span>&#160;        }</div><div class="line"><a name="l05897"></a><span class="lineno"> 5897</span>&#160;<span class="preprocessor">#   endif // FPL_ENABLE_VIDEO</span></div><div class="line"><a name="l05898"></a><span class="lineno"> 5898</span>&#160;</div><div class="line"><a name="l05899"></a><span class="lineno"> 5899</span>&#160;        platform::Win32ReleaseWindow(win32State);</div><div class="line"><a name="l05900"></a><span class="lineno"> 5900</span>&#160;</div><div class="line"><a name="l05901"></a><span class="lineno"> 5901</span>&#160;        platform::Win32UnloadXInput();</div><div class="line"><a name="l05902"></a><span class="lineno"> 5902</span>&#160;<span class="preprocessor">#   endif // FPL_ENABLE_WINDOW</span></div><div class="line"><a name="l05903"></a><span class="lineno"> 5903</span>&#160;</div><div class="line"><a name="l05904"></a><span class="lineno"> 5904</span>&#160;        platform::Win32UnloadAPI();</div><div class="line"><a name="l05905"></a><span class="lineno"> 5905</span>&#160;</div><div class="line"><a name="l05906"></a><span class="lineno"> 5906</span>&#160;        <a class="code" href="group___memory.html#gafff57ceb6d17787d0bc84d66fd23f433">memory::MemoryAlignedFree</a>(common::global__LastErrorState);</div><div class="line"><a name="l05907"></a><span class="lineno"> 5907</span>&#160;        common::global__LastErrorState = <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>;</div><div class="line"><a name="l05908"></a><span class="lineno"> 5908</span>&#160;</div><div class="line"><a name="l05909"></a><span class="lineno"> 5909</span>&#160;        <a class="code" href="group___memory.html#gafff57ceb6d17787d0bc84d66fd23f433">fpl::memory::MemoryAlignedFree</a>(platform::global__Win32__State);</div><div class="line"><a name="l05910"></a><span class="lineno"> 5910</span>&#160;        platform::global__Win32__State = <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>;</div><div class="line"><a name="l05911"></a><span class="lineno"> 5911</span>&#160;</div><div class="line"><a name="l05912"></a><span class="lineno"> 5912</span>&#160;        platform::global__Win32__AppState.isInitialized = <span class="keyword">false</span>;</div><div class="line"><a name="l05913"></a><span class="lineno"> 5913</span>&#160;    }</div><div class="line"><a name="l05914"></a><span class="lineno"> 5914</span>&#160;</div><div class="line"><a name="l05915"></a><span class="lineno"> 5915</span>&#160;    <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___initialization.html#ga03321db2296b045eee4fec9cd9aac3a2">InitPlatform</a>(<span class="keyword">const</span> <a class="code" href="namespacefpl_1_1_init_flags.html#a3aaa570e446e656cbc2c25d2a1a76db0">InitFlag</a> initFlags, <span class="keyword">const</span> <a class="code" href="structfpl_1_1_settings.html">Settings</a> &amp;initSettings) {</div><div class="line"><a name="l05916"></a><span class="lineno"> 5916</span>&#160;        <span class="keywordflow">if</span> (platform::global__Win32__AppState.isInitialized) {</div><div class="line"><a name="l05917"></a><span class="lineno"> 5917</span>&#160;            common::PushError(<span class="stringliteral">&quot;[Win32] Platform is already initialized!&quot;</span>);</div><div class="line"><a name="l05918"></a><span class="lineno"> 5918</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l05919"></a><span class="lineno"> 5919</span>&#160;        }</div><div class="line"><a name="l05920"></a><span class="lineno"> 5920</span>&#160;</div><div class="line"><a name="l05921"></a><span class="lineno"> 5921</span>&#160;        platform::global__Win32__AppState.appInstance = GetModuleHandleA(<a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05922"></a><span class="lineno"> 5922</span>&#160;</div><div class="line"><a name="l05923"></a><span class="lineno"> 5923</span>&#160;        <span class="comment">// @NOTE(final): Expect kernel32.lib to be linked always, so VirtualAlloc and LoadLibrary will always work.</span></div><div class="line"><a name="l05924"></a><span class="lineno"> 5924</span>&#160;</div><div class="line"><a name="l05925"></a><span class="lineno"> 5925</span>&#160;        <span class="comment">// Allocate win32 state</span></div><div class="line"><a name="l05926"></a><span class="lineno"> 5926</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(platform::global__Win32__State == <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05927"></a><span class="lineno"> 5927</span>&#160;        <span class="keywordtype">void</span> *win32StateMemory = <a class="code" href="group___memory.html#gaf5ad819b0045c31a72d86c20d8f8dd34">fpl::memory::MemoryAlignedAllocate</a>(<span class="keyword">sizeof</span>(platform::Win32State), 16);</div><div class="line"><a name="l05928"></a><span class="lineno"> 5928</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(win32StateMemory != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05929"></a><span class="lineno"> 5929</span>&#160;        platform::global__Win32__State = (platform::Win32State *)win32StateMemory;</div><div class="line"><a name="l05930"></a><span class="lineno"> 5930</span>&#160;        platform::Win32State &amp;win32State = *platform::global__Win32__State;</div><div class="line"><a name="l05931"></a><span class="lineno"> 5931</span>&#160;        win32State.initSettings = initSettings;</div><div class="line"><a name="l05932"></a><span class="lineno"> 5932</span>&#160;        win32State.initFlags = initFlags;</div><div class="line"><a name="l05933"></a><span class="lineno"> 5933</span>&#160;        win32State.currentSettings = initSettings;</div><div class="line"><a name="l05934"></a><span class="lineno"> 5934</span>&#160;        win32State.<a class="code" href="structfpl_1_1_settings.html#a8b742bb057a9113af5b547fe610f00ac">video</a> = {};</div><div class="line"><a name="l05935"></a><span class="lineno"> 5935</span>&#160;</div><div class="line"><a name="l05936"></a><span class="lineno"> 5936</span>&#160;        <span class="comment">// Allocate last error state</span></div><div class="line"><a name="l05937"></a><span class="lineno"> 5937</span>&#160;        <span class="keywordtype">void</span> *lastErrorStateMemory = <a class="code" href="group___memory.html#gaf5ad819b0045c31a72d86c20d8f8dd34">memory::MemoryAlignedAllocate</a>(<span class="keyword">sizeof</span>(common::ErrorState), 16);</div><div class="line"><a name="l05938"></a><span class="lineno"> 5938</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(lastErrorStateMemory != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l05939"></a><span class="lineno"> 5939</span>&#160;        common::global__LastErrorState = (common::ErrorState *)lastErrorStateMemory;</div><div class="line"><a name="l05940"></a><span class="lineno"> 5940</span>&#160;</div><div class="line"><a name="l05941"></a><span class="lineno"> 5941</span>&#160;        <span class="comment">// Timing</span></div><div class="line"><a name="l05942"></a><span class="lineno"> 5942</span>&#160;        QueryPerformanceFrequency(&amp;platform::global__Win32__AppState.performanceFrequency);</div><div class="line"><a name="l05943"></a><span class="lineno"> 5943</span>&#160;</div><div class="line"><a name="l05944"></a><span class="lineno"> 5944</span>&#160;        <span class="comment">// Get main thread infos</span></div><div class="line"><a name="l05945"></a><span class="lineno"> 5945</span>&#160;        HANDLE mainThreadHandle = GetCurrentThread();</div><div class="line"><a name="l05946"></a><span class="lineno"> 5946</span>&#160;        DWORD mainThreadHandleId = GetCurrentThreadId();</div><div class="line"><a name="l05947"></a><span class="lineno"> 5947</span>&#160;        <a class="code" href="structfpl_1_1threading_1_1_thread_context.html">threading::ThreadContext</a> *context = &amp;common::global__ThreadState.mainThread;</div><div class="line"><a name="l05948"></a><span class="lineno"> 5948</span>&#160;        *context = {};</div><div class="line"><a name="l05949"></a><span class="lineno"> 5949</span>&#160;        context-&gt;<a class="code" href="structfpl_1_1threading_1_1_thread_context.html#af8cfcaa0345ee279f8979eec94a121c5">id</a> = mainThreadHandleId;</div><div class="line"><a name="l05950"></a><span class="lineno"> 5950</span>&#160;        context-&gt;<a class="code" href="structfpl_1_1threading_1_1_thread_context.html#a1d22580a4aa61dc8b20b516f81eef84f">internalHandle</a> = (<span class="keywordtype">void</span> *)mainThreadHandle;</div><div class="line"><a name="l05951"></a><span class="lineno"> 5951</span>&#160;        context-&gt;<a class="code" href="structfpl_1_1threading_1_1_thread_context.html#a37c92f45870583481685fdc629f83e75">currentState</a> = <a class="code" href="namespacefpl_1_1threading_1_1_thread_states.html#a8126df665987eab3a5d4d85806095082a2bd4d661f638779fa553b7593a1bdc57">threading::ThreadState::Running</a>;</div><div class="line"><a name="l05952"></a><span class="lineno"> 5952</span>&#160;</div><div class="line"><a name="l05953"></a><span class="lineno"> 5953</span>&#160;<span class="preprocessor">#   if defined(FPL_ENABLE_WINDOW)</span></div><div class="line"><a name="l05954"></a><span class="lineno"> 5954</span>&#160;        <span class="comment">// Window is required for video always</span></div><div class="line"><a name="l05955"></a><span class="lineno"> 5955</span>&#160;        <span class="keywordflow">if</span> (win32State.initFlags &amp; <a class="code" href="namespacefpl_1_1_init_flags.html#a3aaa570e446e656cbc2c25d2a1a76db0a2fe2ed7e92f03819bb19ee67ba71605e">InitFlags::Video</a>) {</div><div class="line"><a name="l05956"></a><span class="lineno"> 5956</span>&#160;            win32State.initFlags |= <a class="code" href="namespacefpl_1_1_init_flags.html#a3aaa570e446e656cbc2c25d2a1a76db0aaf987c21d9199178e8a48f4105309eaf">InitFlags::Window</a>;</div><div class="line"><a name="l05957"></a><span class="lineno"> 5957</span>&#160;        }</div><div class="line"><a name="l05958"></a><span class="lineno"> 5958</span>&#160;<span class="preprocessor">#   endif</span></div><div class="line"><a name="l05959"></a><span class="lineno"> 5959</span>&#160;</div><div class="line"><a name="l05960"></a><span class="lineno"> 5960</span>&#160;        <span class="comment">// Load windows api library</span></div><div class="line"><a name="l05961"></a><span class="lineno"> 5961</span>&#160;        <span class="keywordflow">if</span> (!Win32LoadAPI(win32State)) {</div><div class="line"><a name="l05962"></a><span class="lineno"> 5962</span>&#160;            <span class="comment">// @NOTE(final): Assume that errors are pushed on already.</span></div><div class="line"><a name="l05963"></a><span class="lineno"> 5963</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l05964"></a><span class="lineno"> 5964</span>&#160;        }</div><div class="line"><a name="l05965"></a><span class="lineno"> 5965</span>&#160;</div><div class="line"><a name="l05966"></a><span class="lineno"> 5966</span>&#160;<span class="preprocessor">#   if defined(FPL_ENABLE_WINDOW)</span></div><div class="line"><a name="l05967"></a><span class="lineno"> 5967</span>&#160;        <span class="comment">// Load XInput</span></div><div class="line"><a name="l05968"></a><span class="lineno"> 5968</span>&#160;        platform::Win32LoadXInput();</div><div class="line"><a name="l05969"></a><span class="lineno"> 5969</span>&#160;</div><div class="line"><a name="l05970"></a><span class="lineno"> 5970</span>&#160;        <span class="keywordflow">if</span> (win32State.initFlags &amp; <a class="code" href="namespacefpl_1_1_init_flags.html#a3aaa570e446e656cbc2c25d2a1a76db0aaf987c21d9199178e8a48f4105309eaf">InitFlags::Window</a>) {</div><div class="line"><a name="l05971"></a><span class="lineno"> 5971</span>&#160;            <span class="keywordflow">if</span> (!platform::Win32InitWindow(win32State, initSettings)) {</div><div class="line"><a name="l05972"></a><span class="lineno"> 5972</span>&#160;                common::PushError(<span class="stringliteral">&quot;[Win32] Failed creating a window with flags &#39;%d&#39; and settings (Width=%d, Height=%d, Videoprofile=%d)&quot;</span>, win32State.initFlags, initSettings.<a class="code" href="structfpl_1_1_settings.html#aadb06288e16db965235bdb22ff8c0ba9">window</a>.<a class="code" href="structfpl_1_1_window_settings.html#a31f86bfc3450f5e82388fffb8c433b37">windowWidth</a>, initSettings.<a class="code" href="structfpl_1_1_settings.html#aadb06288e16db965235bdb22ff8c0ba9">window</a>.<a class="code" href="structfpl_1_1_window_settings.html#a88c6f32b1c14458bb428c51ed58a14a8">windowHeight</a>, initSettings.<a class="code" href="structfpl_1_1_settings.html#a8b742bb057a9113af5b547fe610f00ac">video</a>.<a class="code" href="structfpl_1_1_video_settings.html#ac4088c2f193c99b722963acba7c919cd">profile</a>);</div><div class="line"><a name="l05973"></a><span class="lineno"> 5973</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l05974"></a><span class="lineno"> 5974</span>&#160;            }</div><div class="line"><a name="l05975"></a><span class="lineno"> 5975</span>&#160;        }</div><div class="line"><a name="l05976"></a><span class="lineno"> 5976</span>&#160;<span class="preprocessor">#   endif // FPL_ENABLE_WINDOW</span></div><div class="line"><a name="l05977"></a><span class="lineno"> 5977</span>&#160;</div><div class="line"><a name="l05978"></a><span class="lineno"> 5978</span>&#160;<span class="preprocessor">#   if defined(FPL_ENABLE_AUDIO)</span></div><div class="line"><a name="l05979"></a><span class="lineno"> 5979</span>&#160;        <span class="keywordflow">if</span> (win32State.initFlags &amp; <a class="code" href="namespacefpl_1_1_init_flags.html#a3aaa570e446e656cbc2c25d2a1a76db0aa6f3ee9288c3c80c0a838cc7ef7459e1">InitFlags::Audio</a>) {</div><div class="line"><a name="l05980"></a><span class="lineno"> 5980</span>&#160;            <span class="keywordflow">if</span> (audio::InitAudio(initSettings.<a class="code" href="structfpl_1_1_settings.html#a396c3076134d4c6650a9f8985d28717c">audio</a>) != audio::AudioResult::Success) {</div><div class="line"><a name="l05981"></a><span class="lineno"> 5981</span>&#160;                common::PushError(<span class="stringliteral">&quot;[Win32] Failed initialization audio with settings (Driver=%s, Format=%s, SampleRate=%lu, Channels=%lu, BufferSize=%lu)!&quot;</span>, audio::GetAudioDriverString(initSettings.<a class="code" href="structfpl_1_1_settings.html#a396c3076134d4c6650a9f8985d28717c">audio</a>.<a class="code" href="structfpl_1_1_audio_settings.html#a67df3146815aa36f2d0389da88090ad1">driver</a>), audio::GetAudioFormatString(initSettings.<a class="code" href="structfpl_1_1_settings.html#a396c3076134d4c6650a9f8985d28717c">audio</a>.<a class="code" href="structfpl_1_1_audio_settings.html#a6eced4e689d091d5c64aa68215ac0541">desiredFormat</a>.<a class="code" href="structfpl_1_1_audio_device_format.html#a1216ea77c930dc846b682bbaa3979f8f">type</a>), initSettings.<a class="code" href="structfpl_1_1_settings.html#a396c3076134d4c6650a9f8985d28717c">audio</a>.<a class="code" href="structfpl_1_1_audio_settings.html#a6eced4e689d091d5c64aa68215ac0541">desiredFormat</a>.<a class="code" href="structfpl_1_1_audio_device_format.html#ac43f3e139b09c5c38d0b6a0863c0ac1f">sampleRate</a>, initSettings.<a class="code" href="structfpl_1_1_settings.html#a396c3076134d4c6650a9f8985d28717c">audio</a>.<a class="code" href="structfpl_1_1_audio_settings.html#a6eced4e689d091d5c64aa68215ac0541">desiredFormat</a>.<a class="code" href="structfpl_1_1_audio_device_format.html#a6d9ffc868ca9b121f3c39f73e495d0eb">channels</a>);</div><div class="line"><a name="l05982"></a><span class="lineno"> 5982</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l05983"></a><span class="lineno"> 5983</span>&#160;            }</div><div class="line"><a name="l05984"></a><span class="lineno"> 5984</span>&#160;        }</div><div class="line"><a name="l05985"></a><span class="lineno"> 5985</span>&#160;<span class="preprocessor">#   endif</span></div><div class="line"><a name="l05986"></a><span class="lineno"> 5986</span>&#160;</div><div class="line"><a name="l05987"></a><span class="lineno"> 5987</span>&#160;        platform::global__Win32__AppState.isInitialized = <span class="keyword">true</span>;</div><div class="line"><a name="l05988"></a><span class="lineno"> 5988</span>&#160;</div><div class="line"><a name="l05989"></a><span class="lineno"> 5989</span>&#160;        <span class="keywordflow">return</span> (<span class="keyword">true</span>);</div><div class="line"><a name="l05990"></a><span class="lineno"> 5990</span>&#160;    }</div><div class="line"><a name="l05991"></a><span class="lineno"> 5991</span>&#160;</div><div class="line"><a name="l05992"></a><span class="lineno"> 5992</span>&#160;} <span class="comment">// fpl</span></div><div class="line"><a name="l05993"></a><span class="lineno"> 5993</span>&#160;</div><div class="line"><a name="l05994"></a><span class="lineno"> 5994</span>&#160;<span class="preprocessor">#   if defined(FPL_ENABLE_WINDOW)</span></div><div class="line"><a name="l05995"></a><span class="lineno"> 5995</span>&#160;</div><div class="line"><a name="l05996"></a><span class="lineno"> 5996</span>&#160;<span class="preprocessor">#       if defined(UNICODE)</span></div><div class="line"><a name="l05997"></a><span class="lineno"> 5997</span>&#160;</div><div class="line"><a name="l05998"></a><span class="lineno"> 5998</span>&#160;<span class="keywordtype">int</span> WINAPI wWinMain(HINSTANCE appInstance, HINSTANCE prevInstance, LPWSTR cmdLine, <span class="keywordtype">int</span> cmdShow) {</div><div class="line"><a name="l05999"></a><span class="lineno"> 5999</span>&#160;    fpl::platform::Win32CommandLineUTF8Arguments args = fpl::platform::Win32ParseWideArguments(cmdLine);</div><div class="line"><a name="l06000"></a><span class="lineno"> 6000</span>&#160;    <span class="keywordtype">int</span> result = main(args.count, args.args);</div><div class="line"><a name="l06001"></a><span class="lineno"> 6001</span>&#160;    <a class="code" href="group___memory.html#ga62c8cc6c740a8089309c6e28ec03d83a">fpl::memory::MemoryFree</a>(args.mem);</div><div class="line"><a name="l06002"></a><span class="lineno"> 6002</span>&#160;    <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l06003"></a><span class="lineno"> 6003</span>&#160;}</div><div class="line"><a name="l06004"></a><span class="lineno"> 6004</span>&#160;</div><div class="line"><a name="l06005"></a><span class="lineno"> 6005</span>&#160;<span class="preprocessor">#       else</span></div><div class="line"><a name="l06006"></a><span class="lineno"> 6006</span>&#160;</div><div class="line"><a name="l06007"></a><span class="lineno"> 6007</span>&#160;<span class="keywordtype">int</span> WINAPI WinMain(HINSTANCE appInstance, HINSTANCE prevInstance, LPSTR cmdLine, <span class="keywordtype">int</span> cmdShow) {</div><div class="line"><a name="l06008"></a><span class="lineno"> 6008</span>&#160;    fpl::platform::Win32CommandLineUTF8Arguments args = fpl::platform::Win32ParseAnsiArguments(cmdLine);</div><div class="line"><a name="l06009"></a><span class="lineno"> 6009</span>&#160;    <span class="keywordtype">int</span> result = main(args.count, args.args);</div><div class="line"><a name="l06010"></a><span class="lineno"> 6010</span>&#160;    <a class="code" href="group___memory.html#ga62c8cc6c740a8089309c6e28ec03d83a">fpl::memory::MemoryFree</a>(args.mem);</div><div class="line"><a name="l06011"></a><span class="lineno"> 6011</span>&#160;    <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l06012"></a><span class="lineno"> 6012</span>&#160;}</div><div class="line"><a name="l06013"></a><span class="lineno"> 6013</span>&#160;<span class="preprocessor">#       endif // UNICODE</span></div><div class="line"><a name="l06014"></a><span class="lineno"> 6014</span>&#160;</div><div class="line"><a name="l06015"></a><span class="lineno"> 6015</span>&#160;<span class="preprocessor">#   endif // FPL_ENABLE_WINDOW</span></div><div class="line"><a name="l06016"></a><span class="lineno"> 6016</span>&#160;</div><div class="line"><a name="l06017"></a><span class="lineno"> 6017</span>&#160;<span class="preprocessor">#endif // FPL_PLATFORM_WIN32</span></div><div class="line"><a name="l06018"></a><span class="lineno"> 6018</span>&#160;</div><div class="line"><a name="l06019"></a><span class="lineno"> 6019</span>&#160;<span class="comment">// ****************************************************************************</span></div><div class="line"><a name="l06020"></a><span class="lineno"> 6020</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l06021"></a><span class="lineno"> 6021</span>&#160;<span class="comment">// Linux Platform</span></div><div class="line"><a name="l06022"></a><span class="lineno"> 6022</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l06023"></a><span class="lineno"> 6023</span>&#160;<span class="comment">// ****************************************************************************</span></div><div class="line"><a name="l06024"></a><span class="lineno"> 6024</span>&#160;<span class="preprocessor">#if defined(FPL_PLATFORM_LINUX)</span></div><div class="line"><a name="l06025"></a><span class="lineno"> 6025</span>&#160;</div><div class="line"><a name="l06026"></a><span class="lineno"> 6026</span>&#160;<span class="preprocessor">#   include &lt;sys/mman.h&gt;</span> <span class="comment">// mmap, munmap</span></div><div class="line"><a name="l06027"></a><span class="lineno"> 6027</span>&#160;</div><div class="line"><a name="l06028"></a><span class="lineno"> 6028</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacefpl.html">fpl</a> {</div><div class="line"><a name="l06029"></a><span class="lineno"> 6029</span>&#160;    <span class="comment">// Linux Atomics</span></div><div class="line"><a name="l06030"></a><span class="lineno"> 6030</span>&#160;    <span class="keyword">namespace </span>atomics {</div><div class="line"><a name="l06031"></a><span class="lineno"> 6031</span>&#160;<span class="preprocessor">#   if defined(FPL_COMPILER_GCC)</span></div><div class="line"><a name="l06032"></a><span class="lineno"> 6032</span>&#160;<span class="comment">// @NOTE(final): See: https://gcc.gnu.org/onlinedocs/gcc/_005f_005fsync-Builtins.html#g_t_005f_005fsync-Builtins</span></div><div class="line"><a name="l06033"></a><span class="lineno"> 6033</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___atomics.html#gad73f549eac689a46e21e30aedae93c49">AtomicReadFence</a>() {</div><div class="line"><a name="l06034"></a><span class="lineno"> 6034</span>&#160;            <span class="comment">// @TODO(final): Wrong to ensure a full memory fence here!</span></div><div class="line"><a name="l06035"></a><span class="lineno"> 6035</span>&#160;            __sync_synchronize();</div><div class="line"><a name="l06036"></a><span class="lineno"> 6036</span>&#160;        }</div><div class="line"><a name="l06037"></a><span class="lineno"> 6037</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___atomics.html#gaff68c1ca29565939b4e289e14918d31a">AtomicWriteFence</a>() {</div><div class="line"><a name="l06038"></a><span class="lineno"> 6038</span>&#160;            <span class="comment">// @TODO(final): Wrong to ensure a full memory fence here!</span></div><div class="line"><a name="l06039"></a><span class="lineno"> 6039</span>&#160;            __sync_synchronize();</div><div class="line"><a name="l06040"></a><span class="lineno"> 6040</span>&#160;        }</div><div class="line"><a name="l06041"></a><span class="lineno"> 6041</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___atomics.html#gabd9be2027753569ed78026d6c6b4ba5b">AtomicReadWriteFence</a>() {</div><div class="line"><a name="l06042"></a><span class="lineno"> 6042</span>&#160;            __sync_synchronize();</div><div class="line"><a name="l06043"></a><span class="lineno"> 6043</span>&#160;        }</div><div class="line"><a name="l06044"></a><span class="lineno"> 6044</span>&#160;</div><div class="line"><a name="l06045"></a><span class="lineno"> 6045</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint32_t <a class="code" href="group___atomics.html#ga55587b1d4c3e9faf96161811a708bee1">AtomicExchangeU32</a>(<span class="keyword">volatile</span> uint32_t *target, <span class="keyword">const</span> uint32_t value) {</div><div class="line"><a name="l06046"></a><span class="lineno"> 6046</span>&#160;            uint32_t result = __sync_lock_test_and_set(target, value);</div><div class="line"><a name="l06047"></a><span class="lineno"> 6047</span>&#160;            __sync_synchronize();</div><div class="line"><a name="l06048"></a><span class="lineno"> 6048</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l06049"></a><span class="lineno"> 6049</span>&#160;        }</div><div class="line"><a name="l06050"></a><span class="lineno"> 6050</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> int32_t <a class="code" href="group___atomics.html#gaa337659a4c9820f43542b8f81c4f66f4">AtomicExchangeS32</a>(<span class="keyword">volatile</span> int32_t *target, <span class="keyword">const</span> int32_t value) {</div><div class="line"><a name="l06051"></a><span class="lineno"> 6051</span>&#160;            int32_t result = __sync_lock_test_and_set(target, value);</div><div class="line"><a name="l06052"></a><span class="lineno"> 6052</span>&#160;            __sync_synchronize();</div><div class="line"><a name="l06053"></a><span class="lineno"> 6053</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l06054"></a><span class="lineno"> 6054</span>&#160;        }</div><div class="line"><a name="l06055"></a><span class="lineno"> 6055</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint64_t <a class="code" href="group___atomics.html#ga99cbc21105a6d9c3f91c8d14a8ec68dc">AtomicExchangeU64</a>(<span class="keyword">volatile</span> uint64_t *target, <span class="keyword">const</span> uint64_t value) {</div><div class="line"><a name="l06056"></a><span class="lineno"> 6056</span>&#160;            uint64_t result = __sync_lock_test_and_set(target, value);</div><div class="line"><a name="l06057"></a><span class="lineno"> 6057</span>&#160;            __sync_synchronize();</div><div class="line"><a name="l06058"></a><span class="lineno"> 6058</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l06059"></a><span class="lineno"> 6059</span>&#160;        }</div><div class="line"><a name="l06060"></a><span class="lineno"> 6060</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> int64_t <a class="code" href="group___atomics.html#ga08d3bf3244f49659b51c512ea149e37a">AtomicExchangeS64</a>(<span class="keyword">volatile</span> int64_t *target, <span class="keyword">const</span> int64_t value) {</div><div class="line"><a name="l06061"></a><span class="lineno"> 6061</span>&#160;            int64_t result = __sync_lock_test_and_set(target, value);</div><div class="line"><a name="l06062"></a><span class="lineno"> 6062</span>&#160;            __sync_synchronize();</div><div class="line"><a name="l06063"></a><span class="lineno"> 6063</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l06064"></a><span class="lineno"> 6064</span>&#160;        }</div><div class="line"><a name="l06065"></a><span class="lineno"> 6065</span>&#160;</div><div class="line"><a name="l06066"></a><span class="lineno"> 6066</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint32_t <a class="code" href="group___atomics.html#gabedcbf082844800172f4228383c80f75">AtomicAddU32</a>(<span class="keyword">volatile</span> uint32_t *value, <span class="keyword">const</span> uint32_t addend) {</div><div class="line"><a name="l06067"></a><span class="lineno"> 6067</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(value != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l06068"></a><span class="lineno"> 6068</span>&#160;            uint32_t result = __sync_fetch_and_add(value, addend);</div><div class="line"><a name="l06069"></a><span class="lineno"> 6069</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l06070"></a><span class="lineno"> 6070</span>&#160;        }</div><div class="line"><a name="l06071"></a><span class="lineno"> 6071</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> int32_t <a class="code" href="group___atomics.html#ga93df5e810594beb7c9d50d30f2ee4a79">AtomicAddS32</a>(<span class="keyword">volatile</span> int32_t *value, <span class="keyword">const</span> int32_t addend) {</div><div class="line"><a name="l06072"></a><span class="lineno"> 6072</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(value != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l06073"></a><span class="lineno"> 6073</span>&#160;            uint32_t result = __sync_fetch_and_add(value, addend);</div><div class="line"><a name="l06074"></a><span class="lineno"> 6074</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l06075"></a><span class="lineno"> 6075</span>&#160;        }</div><div class="line"><a name="l06076"></a><span class="lineno"> 6076</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint64_t <a class="code" href="group___atomics.html#ga4cd97f257c9c9d6c5ae9c7fb28805627">AtomicAddU64</a>(<span class="keyword">volatile</span> uint64_t *value, <span class="keyword">const</span> uint64_t addend) {</div><div class="line"><a name="l06077"></a><span class="lineno"> 6077</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(value != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l06078"></a><span class="lineno"> 6078</span>&#160;            uint32_t result = __sync_fetch_and_add(value, addend);</div><div class="line"><a name="l06079"></a><span class="lineno"> 6079</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l06080"></a><span class="lineno"> 6080</span>&#160;        }</div><div class="line"><a name="l06081"></a><span class="lineno"> 6081</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> int64_t <a class="code" href="group___atomics.html#ga49173aa8fa9ba12740fedc24260ae7c5">AtomicAddS64</a>(<span class="keyword">volatile</span> int64_t *value, <span class="keyword">const</span> int64_t addend) {</div><div class="line"><a name="l06082"></a><span class="lineno"> 6082</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(value != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l06083"></a><span class="lineno"> 6083</span>&#160;            uint32_t result = __sync_fetch_and_add(value, addend);</div><div class="line"><a name="l06084"></a><span class="lineno"> 6084</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l06085"></a><span class="lineno"> 6085</span>&#160;        }</div><div class="line"><a name="l06086"></a><span class="lineno"> 6086</span>&#160;</div><div class="line"><a name="l06087"></a><span class="lineno"> 6087</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint32_t <a class="code" href="group___atomics.html#ga7e1a4ac48629ab93ad035c6bd6612d84">AtomicCompareAndExchangeU32</a>(<span class="keyword">volatile</span> uint32_t *dest, <span class="keyword">const</span> uint32_t comparand, <span class="keyword">const</span> uint32_t exchange) {</div><div class="line"><a name="l06088"></a><span class="lineno"> 6088</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(dest != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l06089"></a><span class="lineno"> 6089</span>&#160;            uint32_t result = __sync_val_compare_and_swap(dest, comparand, exchange);</div><div class="line"><a name="l06090"></a><span class="lineno"> 6090</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l06091"></a><span class="lineno"> 6091</span>&#160;        }</div><div class="line"><a name="l06092"></a><span class="lineno"> 6092</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> int32_t <a class="code" href="group___atomics.html#ga208837a8141ca1b63f288071224dbc53">AtomicCompareAndExchangeS32</a>(<span class="keyword">volatile</span> int32_t *dest, <span class="keyword">const</span> int32_t comparand, <span class="keyword">const</span> int32_t exchange) {</div><div class="line"><a name="l06093"></a><span class="lineno"> 6093</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(dest != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l06094"></a><span class="lineno"> 6094</span>&#160;            int32_t result = __sync_val_compare_and_swap(dest, comparand, exchange);</div><div class="line"><a name="l06095"></a><span class="lineno"> 6095</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l06096"></a><span class="lineno"> 6096</span>&#160;        }</div><div class="line"><a name="l06097"></a><span class="lineno"> 6097</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint64_t <a class="code" href="group___atomics.html#gac6e8ef4b3f4c8cb95586af436a05c0b5">AtomicCompareAndExchangeU64</a>(<span class="keyword">volatile</span> uint64_t *dest, <span class="keyword">const</span> uint64_t comparand, <span class="keyword">const</span> uint64_t exchange) {</div><div class="line"><a name="l06098"></a><span class="lineno"> 6098</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(dest != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l06099"></a><span class="lineno"> 6099</span>&#160;            uint64_t result = __sync_val_compare_and_swap(dest, comparand, exchange);</div><div class="line"><a name="l06100"></a><span class="lineno"> 6100</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l06101"></a><span class="lineno"> 6101</span>&#160;        }</div><div class="line"><a name="l06102"></a><span class="lineno"> 6102</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> int64_t <a class="code" href="group___atomics.html#ga06586790bcd6bd9944c47372e3cef2ad">AtomicCompareAndExchangeS64</a>(<span class="keyword">volatile</span> int64_t *dest, <span class="keyword">const</span> int64_t comparand, <span class="keyword">const</span> int64_t exchange) {</div><div class="line"><a name="l06103"></a><span class="lineno"> 6103</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(dest != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l06104"></a><span class="lineno"> 6104</span>&#160;            int64_t result = __sync_val_compare_and_swap(dest, comparand, exchange);</div><div class="line"><a name="l06105"></a><span class="lineno"> 6105</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l06106"></a><span class="lineno"> 6106</span>&#160;        }</div><div class="line"><a name="l06107"></a><span class="lineno"> 6107</span>&#160;</div><div class="line"><a name="l06108"></a><span class="lineno"> 6108</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___atomics.html#gaa489434b89fc006c043d41e8a3ac19b0">IsAtomicCompareAndExchangeU32</a>(<span class="keyword">volatile</span> uint32_t *dest, <span class="keyword">const</span> uint32_t comparand, <span class="keyword">const</span> uint32_t exchange) {</div><div class="line"><a name="l06109"></a><span class="lineno"> 6109</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(dest != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l06110"></a><span class="lineno"> 6110</span>&#160;            <span class="keywordtype">bool</span> result = __sync_bool_compare_and_swap(dest, comparand, exchange);</div><div class="line"><a name="l06111"></a><span class="lineno"> 6111</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l06112"></a><span class="lineno"> 6112</span>&#160;        }</div><div class="line"><a name="l06113"></a><span class="lineno"> 6113</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___atomics.html#ga8cddb961f4b1f9e3738894cb9626bf9f">IsAtomicCompareAndExchangeS32</a>(<span class="keyword">volatile</span> int32_t *dest, <span class="keyword">const</span> int32_t comparand, <span class="keyword">const</span> int32_t exchange) {</div><div class="line"><a name="l06114"></a><span class="lineno"> 6114</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(dest != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l06115"></a><span class="lineno"> 6115</span>&#160;            <span class="keywordtype">bool</span> result = __sync_bool_compare_and_swap(dest, comparand, exchange);</div><div class="line"><a name="l06116"></a><span class="lineno"> 6116</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l06117"></a><span class="lineno"> 6117</span>&#160;        }</div><div class="line"><a name="l06118"></a><span class="lineno"> 6118</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___atomics.html#gafcc9f50de85f288d137ef28f199b8a43">IsAtomicCompareAndExchangeU64</a>(<span class="keyword">volatile</span> uint64_t *dest, <span class="keyword">const</span> uint64_t comparand, <span class="keyword">const</span> uint64_t exchange) {</div><div class="line"><a name="l06119"></a><span class="lineno"> 6119</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(dest != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l06120"></a><span class="lineno"> 6120</span>&#160;            <span class="keywordtype">bool</span> result = __sync_bool_compare_and_swap(dest, comparand, exchange);</div><div class="line"><a name="l06121"></a><span class="lineno"> 6121</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l06122"></a><span class="lineno"> 6122</span>&#160;        }</div><div class="line"><a name="l06123"></a><span class="lineno"> 6123</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___atomics.html#ga906723d4ae40442122864b0016e165ea">IsAtomicCompareAndExchangeS64</a>(<span class="keyword">volatile</span> int64_t *dest, <span class="keyword">const</span> int64_t comparand, <span class="keyword">const</span> int64_t exchange) {</div><div class="line"><a name="l06124"></a><span class="lineno"> 6124</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(dest != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l06125"></a><span class="lineno"> 6125</span>&#160;            <span class="keywordtype">bool</span> result = __sync_bool_compare_and_swap(dest, comparand, exchange);</div><div class="line"><a name="l06126"></a><span class="lineno"> 6126</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l06127"></a><span class="lineno"> 6127</span>&#160;        }</div><div class="line"><a name="l06128"></a><span class="lineno"> 6128</span>&#160;</div><div class="line"><a name="l06129"></a><span class="lineno"> 6129</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint32_t <a class="code" href="group___atomics.html#ga2460e7047ec012a5859992fbf05aa29f">AtomicLoadU32</a>(<span class="keyword">volatile</span> uint32_t *source) {</div><div class="line"><a name="l06130"></a><span class="lineno"> 6130</span>&#160;            uint32_t result = __sync_fetch_and_or(source, 0);</div><div class="line"><a name="l06131"></a><span class="lineno"> 6131</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l06132"></a><span class="lineno"> 6132</span>&#160;        }</div><div class="line"><a name="l06133"></a><span class="lineno"> 6133</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> uint64_t <a class="code" href="group___atomics.html#ga2576254de8d52495002128f0abd0a45e">AtomicLoadU64</a>(<span class="keyword">volatile</span> uint64_t *source) {</div><div class="line"><a name="l06134"></a><span class="lineno"> 6134</span>&#160;            uint64_t result = __sync_fetch_and_or(source, 0);</div><div class="line"><a name="l06135"></a><span class="lineno"> 6135</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l06136"></a><span class="lineno"> 6136</span>&#160;        }</div><div class="line"><a name="l06137"></a><span class="lineno"> 6137</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> int32_t <a class="code" href="group___atomics.html#gae9f418fb1d62ae7595983caac6464d06">AtomicLoadS32</a>(<span class="keyword">volatile</span> int32_t *source) {</div><div class="line"><a name="l06138"></a><span class="lineno"> 6138</span>&#160;            int32_t result = __sync_fetch_and_or(source, 0);</div><div class="line"><a name="l06139"></a><span class="lineno"> 6139</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l06140"></a><span class="lineno"> 6140</span>&#160;        }</div><div class="line"><a name="l06141"></a><span class="lineno"> 6141</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> int64_t <a class="code" href="group___atomics.html#ga12eabfd1b3473e2750879bd6efe5add2">AtomicLoadS64</a>(<span class="keyword">volatile</span> int64_t *source) {</div><div class="line"><a name="l06142"></a><span class="lineno"> 6142</span>&#160;            int64_t result = __sync_fetch_and_or(source, 0);</div><div class="line"><a name="l06143"></a><span class="lineno"> 6143</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l06144"></a><span class="lineno"> 6144</span>&#160;        }</div><div class="line"><a name="l06145"></a><span class="lineno"> 6145</span>&#160;</div><div class="line"><a name="l06146"></a><span class="lineno"> 6146</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___atomics.html#ga01905a5db859475f4b394ed469af0c5a">AtomicStoreU32</a>(<span class="keyword">volatile</span> uint32_t *dest, <span class="keyword">const</span> uint32_t value) {</div><div class="line"><a name="l06147"></a><span class="lineno"> 6147</span>&#160;            __sync_lock_test_and_set(dest, value);</div><div class="line"><a name="l06148"></a><span class="lineno"> 6148</span>&#160;            __sync_synchronize();</div><div class="line"><a name="l06149"></a><span class="lineno"> 6149</span>&#160;        }</div><div class="line"><a name="l06150"></a><span class="lineno"> 6150</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___atomics.html#gaa9c7bf288268d469be98e19a163ed636">AtomicStoreU64</a>(<span class="keyword">volatile</span> uint64_t *dest, <span class="keyword">const</span> uint64_t value) {</div><div class="line"><a name="l06151"></a><span class="lineno"> 6151</span>&#160;            __sync_lock_test_and_set(dest, value);</div><div class="line"><a name="l06152"></a><span class="lineno"> 6152</span>&#160;            __sync_synchronize();</div><div class="line"><a name="l06153"></a><span class="lineno"> 6153</span>&#160;        }</div><div class="line"><a name="l06154"></a><span class="lineno"> 6154</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___atomics.html#ga6045f0c89cb08843e824d1209064afba">AtomicStoreS32</a>(<span class="keyword">volatile</span> int32_t *dest, <span class="keyword">const</span> int32_t value) {</div><div class="line"><a name="l06155"></a><span class="lineno"> 6155</span>&#160;            __sync_lock_test_and_set(dest, value);</div><div class="line"><a name="l06156"></a><span class="lineno"> 6156</span>&#160;            __sync_synchronize();</div><div class="line"><a name="l06157"></a><span class="lineno"> 6157</span>&#160;        }</div><div class="line"><a name="l06158"></a><span class="lineno"> 6158</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___atomics.html#ga6a2897035fe8ae0fd64084f98012e2e6">AtomicStoreS64</a>(<span class="keyword">volatile</span> int64_t *dest, <span class="keyword">const</span> int64_t value) {</div><div class="line"><a name="l06159"></a><span class="lineno"> 6159</span>&#160;            __sync_lock_test_and_set(dest, value);</div><div class="line"><a name="l06160"></a><span class="lineno"> 6160</span>&#160;            __sync_synchronize();</div><div class="line"><a name="l06161"></a><span class="lineno"> 6161</span>&#160;        }</div><div class="line"><a name="l06162"></a><span class="lineno"> 6162</span>&#160;<span class="preprocessor">#   else</span></div><div class="line"><a name="l06163"></a><span class="lineno"> 6163</span>&#160;<span class="preprocessor">#       error &quot;This linux compiler/platform is supported!&quot;</span></div><div class="line"><a name="l06164"></a><span class="lineno"> 6164</span>&#160;<span class="preprocessor">#   endif</span></div><div class="line"><a name="l06165"></a><span class="lineno"> 6165</span>&#160;    }</div><div class="line"><a name="l06166"></a><span class="lineno"> 6166</span>&#160;</div><div class="line"><a name="l06167"></a><span class="lineno"> 6167</span>&#160;    <span class="comment">// Linux Console</span></div><div class="line"><a name="l06168"></a><span class="lineno"> 6168</span>&#160;    <span class="keyword">namespace </span>console {</div><div class="line"><a name="l06169"></a><span class="lineno"> 6169</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___console.html#ga5c6818646bf4500afb78745d63e00469">ConsoleOut</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *text) {</div><div class="line"><a name="l06170"></a><span class="lineno"> 6170</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(text != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l06171"></a><span class="lineno"> 6171</span>&#160;            fprintf(stdout, <span class="stringliteral">&quot;%s&quot;</span>, text);</div><div class="line"><a name="l06172"></a><span class="lineno"> 6172</span>&#160;        }</div><div class="line"><a name="l06173"></a><span class="lineno"> 6173</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___console.html#gad6e322c2dc4df3e2424979bde28d97aa">ConsoleFormatOut</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *format, ...) {</div><div class="line"><a name="l06174"></a><span class="lineno"> 6174</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(format != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l06175"></a><span class="lineno"> 6175</span>&#160;            va_list vaList;</div><div class="line"><a name="l06176"></a><span class="lineno"> 6176</span>&#160;            va_start(vaList, format);</div><div class="line"><a name="l06177"></a><span class="lineno"> 6177</span>&#160;            vfprintf(stdout, format, vaList);</div><div class="line"><a name="l06178"></a><span class="lineno"> 6178</span>&#160;            va_end(vaList);</div><div class="line"><a name="l06179"></a><span class="lineno"> 6179</span>&#160;        }</div><div class="line"><a name="l06180"></a><span class="lineno"> 6180</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___console.html#gaf9a2aff1071c86843688e16b8ee0431f">ConsoleError</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *text) {</div><div class="line"><a name="l06181"></a><span class="lineno"> 6181</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(text != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l06182"></a><span class="lineno"> 6182</span>&#160;            fprintf(stderr, <span class="stringliteral">&quot;%s&quot;</span>, text);</div><div class="line"><a name="l06183"></a><span class="lineno"> 6183</span>&#160;        }</div><div class="line"><a name="l06184"></a><span class="lineno"> 6184</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___console.html#gab30929f059d4467a70dc0269c9fb380b">ConsoleFormatError</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *format, ...) {</div><div class="line"><a name="l06185"></a><span class="lineno"> 6185</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(format != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l06186"></a><span class="lineno"> 6186</span>&#160;            va_list vaList;</div><div class="line"><a name="l06187"></a><span class="lineno"> 6187</span>&#160;            va_start(vaList, format);</div><div class="line"><a name="l06188"></a><span class="lineno"> 6188</span>&#160;            vfprintf(stderr, format, vaList);</div><div class="line"><a name="l06189"></a><span class="lineno"> 6189</span>&#160;            va_end(vaList);</div><div class="line"><a name="l06190"></a><span class="lineno"> 6190</span>&#160;        }</div><div class="line"><a name="l06191"></a><span class="lineno"> 6191</span>&#160;    }</div><div class="line"><a name="l06192"></a><span class="lineno"> 6192</span>&#160;</div><div class="line"><a name="l06193"></a><span class="lineno"> 6193</span>&#160;    <span class="comment">// Linux Memory</span></div><div class="line"><a name="l06194"></a><span class="lineno"> 6194</span>&#160;    <span class="keyword">namespace </span>memory {</div><div class="line"><a name="l06195"></a><span class="lineno"> 6195</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> *<a class="code" href="group___memory.html#gaabe256ab34794ac0f3f1633674de97f5">MemoryAllocate</a>(<span class="keyword">const</span> <span class="keywordtype">size_t</span> size) {</div><div class="line"><a name="l06196"></a><span class="lineno"> 6196</span>&#160;            <span class="comment">// @NOTE(final): MAP_ANONYMOUS ensures that the memory is cleared to zero.</span></div><div class="line"><a name="l06197"></a><span class="lineno"> 6197</span>&#160;</div><div class="line"><a name="l06198"></a><span class="lineno"> 6198</span>&#160;            <span class="comment">// Allocate empty memory to hold the size + some arbitary padding + the actual data</span></div><div class="line"><a name="l06199"></a><span class="lineno"> 6199</span>&#160;            <span class="keywordtype">size_t</span> newSize = <span class="keyword">sizeof</span>(size_t) + <span class="keyword">sizeof</span>(uintptr_t) + size;</div><div class="line"><a name="l06200"></a><span class="lineno"> 6200</span>&#160;            <span class="keywordtype">void</span> *basePtr = mmap(<a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, newSize, PROT_READ | PROT_WRITE, MAP_PRIVATE | MAP_ANONYMOUS, -1, 0);</div><div class="line"><a name="l06201"></a><span class="lineno"> 6201</span>&#160;</div><div class="line"><a name="l06202"></a><span class="lineno"> 6202</span>&#160;            <span class="comment">// Write the size at the beginning</span></div><div class="line"><a name="l06203"></a><span class="lineno"> 6203</span>&#160;            *(<span class="keywordtype">size_t</span> *)basePtr = newSize;</div><div class="line"><a name="l06204"></a><span class="lineno"> 6204</span>&#160;</div><div class="line"><a name="l06205"></a><span class="lineno"> 6205</span>&#160;            <span class="comment">// The resulting address starts after the arbitary padding</span></div><div class="line"><a name="l06206"></a><span class="lineno"> 6206</span>&#160;            <span class="keywordtype">void</span> *result = (uint8_t *)basePtr + <span class="keyword">sizeof</span>(<span class="keywordtype">size_t</span>) + <span class="keyword">sizeof</span>(uintptr_t);</div><div class="line"><a name="l06207"></a><span class="lineno"> 6207</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l06208"></a><span class="lineno"> 6208</span>&#160;        }</div><div class="line"><a name="l06209"></a><span class="lineno"> 6209</span>&#160;</div><div class="line"><a name="l06210"></a><span class="lineno"> 6210</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___memory.html#ga62c8cc6c740a8089309c6e28ec03d83a">MemoryFree</a>(<span class="keywordtype">void</span> *ptr) {</div><div class="line"><a name="l06211"></a><span class="lineno"> 6211</span>&#160;            <span class="comment">// Free the base pointer which is stored to the left at the start of the size_t</span></div><div class="line"><a name="l06212"></a><span class="lineno"> 6212</span>&#160;            <span class="keywordtype">void</span> *basePtr = (<span class="keywordtype">void</span> *)((uint8_t *)ptr - (<span class="keyword">sizeof</span>(uintptr_t) + <span class="keyword">sizeof</span>(<span class="keywordtype">size_t</span>)));</div><div class="line"><a name="l06213"></a><span class="lineno"> 6213</span>&#160;            <span class="keywordtype">size_t</span> storedSize = *(<span class="keywordtype">size_t</span> *)basePtr;</div><div class="line"><a name="l06214"></a><span class="lineno"> 6214</span>&#160;            munmap(basePtr, storedSize);</div><div class="line"><a name="l06215"></a><span class="lineno"> 6215</span>&#160;        }</div><div class="line"><a name="l06216"></a><span class="lineno"> 6216</span>&#160;    }</div><div class="line"><a name="l06217"></a><span class="lineno"> 6217</span>&#160;</div><div class="line"><a name="l06218"></a><span class="lineno"> 6218</span>&#160;    <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">bool</span> <a class="code" href="group___initialization.html#ga03321db2296b045eee4fec9cd9aac3a2">InitPlatform</a>(<span class="keyword">const</span> <a class="code" href="namespacefpl_1_1_init_flags.html#a3aaa570e446e656cbc2c25d2a1a76db0">InitFlag</a> initFlags, <span class="keyword">const</span> <a class="code" href="structfpl_1_1_settings.html">Settings</a> &amp;initSettings) {</div><div class="line"><a name="l06219"></a><span class="lineno"> 6219</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l06220"></a><span class="lineno"> 6220</span>&#160;    }</div><div class="line"><a name="l06221"></a><span class="lineno"> 6221</span>&#160;</div><div class="line"><a name="l06222"></a><span class="lineno"> 6222</span>&#160;    <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___initialization.html#ga6687b3ab1ce1d54f30785baf70566ed5">ReleasePlatform</a>() {</div><div class="line"><a name="l06223"></a><span class="lineno"> 6223</span>&#160;    }</div><div class="line"><a name="l06224"></a><span class="lineno"> 6224</span>&#160;}</div><div class="line"><a name="l06225"></a><span class="lineno"> 6225</span>&#160;<span class="preprocessor">#endif // FPL_PLATFORM_LINUX</span></div><div class="line"><a name="l06226"></a><span class="lineno"> 6226</span>&#160;</div><div class="line"><a name="l06227"></a><span class="lineno"> 6227</span>&#160;<span class="comment">// ****************************************************************************</span></div><div class="line"><a name="l06228"></a><span class="lineno"> 6228</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l06229"></a><span class="lineno"> 6229</span>&#160;<span class="comment">// Audio Drivers</span></div><div class="line"><a name="l06230"></a><span class="lineno"> 6230</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l06231"></a><span class="lineno"> 6231</span>&#160;<span class="comment">// ****************************************************************************</span></div><div class="line"><a name="l06232"></a><span class="lineno"> 6232</span>&#160;<span class="preprocessor">#if defined(FPL_ENABLE_AUDIO_DIRECTSOUND)</span></div><div class="line"><a name="l06233"></a><span class="lineno"> 6233</span>&#160;<span class="preprocessor">#   include &lt;mmreg.h&gt;</span></div><div class="line"><a name="l06234"></a><span class="lineno"> 6234</span>&#160;<span class="preprocessor">#   include &lt;dsound.h&gt;</span></div><div class="line"><a name="l06235"></a><span class="lineno"> 6235</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l06236"></a><span class="lineno"> 6236</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacefpl.html">fpl</a> {</div><div class="line"><a name="l06237"></a><span class="lineno"> 6237</span>&#160;    <span class="keyword">namespace </span>drivers {</div><div class="line"><a name="l06238"></a><span class="lineno"> 6238</span>&#160;</div><div class="line"><a name="l06239"></a><span class="lineno"> 6239</span>&#160;<span class="preprocessor">#   if defined(FPL_ENABLE_AUDIO_DIRECTSOUND)</span></div><div class="line"><a name="l06240"></a><span class="lineno"> 6240</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l06241"></a><span class="lineno"> 6241</span>&#160;        <span class="comment">// DirectSound</span></div><div class="line"><a name="l06242"></a><span class="lineno"> 6242</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l06243"></a><span class="lineno"> 6243</span>&#160;<span class="preprocessor">#       define FPL_FUNC_DIRECT_SOUND_CREATE(name) HRESULT WINAPI name(const GUID* pcGuidDevice, LPDIRECTSOUND *ppDS8, LPUNKNOWN pUnkOuter)</span></div><div class="line"><a name="l06244"></a><span class="lineno"> 6244</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_DIRECT_SOUND_CREATE(func_DirectSoundCreate);</div><div class="line"><a name="l06245"></a><span class="lineno"> 6245</span>&#160;<span class="preprocessor">#       define FPL_FUNC_DIRECT_SOUND_ENUMERATE_A(name) HRESULT WINAPI name(LPDSENUMCALLBACKA pDSEnumCallback, LPVOID pContext)</span></div><div class="line"><a name="l06246"></a><span class="lineno"> 6246</span>&#160;        <span class="keyword">typedef</span> FPL_FUNC_DIRECT_SOUND_ENUMERATE_A(func_DirectSoundEnumerateA);</div><div class="line"><a name="l06247"></a><span class="lineno"> 6247</span>&#160;</div><div class="line"><a name="l06248"></a><span class="lineno"> 6248</span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> GUID FPL_IID_IDirectSoundNotify = { 0xb0210783, 0x89cd, 0x11d0, {0xaf, 0x08, 0x00, 0xa0, 0xc9, 0x25, 0xcd, 0x16} };</div><div class="line"><a name="l06249"></a><span class="lineno"> 6249</span>&#160;</div><div class="line"><a name="l06250"></a><span class="lineno"> 6250</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aa3d38e49c90082e1638fe199347c35c5">fpl_constant</a> uint32_t FPL_DIRECTSOUND_MAX_PERIODS = 4;</div><div class="line"><a name="l06251"></a><span class="lineno"> 6251</span>&#160;</div><div class="line"><a name="l06252"></a><span class="lineno"> 6252</span>&#160;        <span class="keyword">struct </span>DirectSoundState {</div><div class="line"><a name="l06253"></a><span class="lineno"> 6253</span>&#160;            HMODULE dsoundLibrary;</div><div class="line"><a name="l06254"></a><span class="lineno"> 6254</span>&#160;            LPDIRECTSOUND directSound;</div><div class="line"><a name="l06255"></a><span class="lineno"> 6255</span>&#160;            LPDIRECTSOUNDBUFFER primaryBuffer;</div><div class="line"><a name="l06256"></a><span class="lineno"> 6256</span>&#160;            LPDIRECTSOUNDBUFFER secondaryBuffer;</div><div class="line"><a name="l06257"></a><span class="lineno"> 6257</span>&#160;            LPDIRECTSOUNDNOTIFY notify;</div><div class="line"><a name="l06258"></a><span class="lineno"> 6258</span>&#160;            HANDLE notifyEvents[FPL_DIRECTSOUND_MAX_PERIODS];</div><div class="line"><a name="l06259"></a><span class="lineno"> 6259</span>&#160;            HANDLE stopEvent;</div><div class="line"><a name="l06260"></a><span class="lineno"> 6260</span>&#160;            uint32_t lastProcessedFrame;</div><div class="line"><a name="l06261"></a><span class="lineno"> 6261</span>&#160;            <span class="keywordtype">bool</span> breakMainLoop;</div><div class="line"><a name="l06262"></a><span class="lineno"> 6262</span>&#160;        };</div><div class="line"><a name="l06263"></a><span class="lineno"> 6263</span>&#160;</div><div class="line"><a name="l06264"></a><span class="lineno"> 6264</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> <span class="keywordtype">bool</span> ReleaseDirectSound(<span class="keyword">const</span> audio::CommonAudioState &amp;commonAudio, DirectSoundState &amp;dsoundState) {</div><div class="line"><a name="l06265"></a><span class="lineno"> 6265</span>&#160;            <span class="keywordflow">if</span> (dsoundState.dsoundLibrary != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l06266"></a><span class="lineno"> 6266</span>&#160;                <span class="keywordflow">if</span> (dsoundState.stopEvent != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l06267"></a><span class="lineno"> 6267</span>&#160;                    CloseHandle(dsoundState.stopEvent);</div><div class="line"><a name="l06268"></a><span class="lineno"> 6268</span>&#160;                }</div><div class="line"><a name="l06269"></a><span class="lineno"> 6269</span>&#160;</div><div class="line"><a name="l06270"></a><span class="lineno"> 6270</span>&#160;                <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; commonAudio.internalFormat.periods; ++i) {</div><div class="line"><a name="l06271"></a><span class="lineno"> 6271</span>&#160;                    <span class="keywordflow">if</span> (dsoundState.notifyEvents[i]) {</div><div class="line"><a name="l06272"></a><span class="lineno"> 6272</span>&#160;                        CloseHandle(dsoundState.notifyEvents[i]);</div><div class="line"><a name="l06273"></a><span class="lineno"> 6273</span>&#160;                    }</div><div class="line"><a name="l06274"></a><span class="lineno"> 6274</span>&#160;                }</div><div class="line"><a name="l06275"></a><span class="lineno"> 6275</span>&#160;</div><div class="line"><a name="l06276"></a><span class="lineno"> 6276</span>&#160;                <span class="keywordflow">if</span> (dsoundState.notify != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l06277"></a><span class="lineno"> 6277</span>&#160;                    dsoundState.notify-&gt;Release();</div><div class="line"><a name="l06278"></a><span class="lineno"> 6278</span>&#160;                }</div><div class="line"><a name="l06279"></a><span class="lineno"> 6279</span>&#160;</div><div class="line"><a name="l06280"></a><span class="lineno"> 6280</span>&#160;                <span class="keywordflow">if</span> (dsoundState.secondaryBuffer != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l06281"></a><span class="lineno"> 6281</span>&#160;                    dsoundState.secondaryBuffer-&gt;Release();</div><div class="line"><a name="l06282"></a><span class="lineno"> 6282</span>&#160;                }</div><div class="line"><a name="l06283"></a><span class="lineno"> 6283</span>&#160;</div><div class="line"><a name="l06284"></a><span class="lineno"> 6284</span>&#160;                <span class="keywordflow">if</span> (dsoundState.primaryBuffer != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l06285"></a><span class="lineno"> 6285</span>&#160;                    dsoundState.primaryBuffer-&gt;Release();</div><div class="line"><a name="l06286"></a><span class="lineno"> 6286</span>&#160;                }</div><div class="line"><a name="l06287"></a><span class="lineno"> 6287</span>&#160;</div><div class="line"><a name="l06288"></a><span class="lineno"> 6288</span>&#160;                <span class="keywordflow">if</span> (dsoundState.directSound != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l06289"></a><span class="lineno"> 6289</span>&#160;                    dsoundState.directSound-&gt;Release();</div><div class="line"><a name="l06290"></a><span class="lineno"> 6290</span>&#160;                }</div><div class="line"><a name="l06291"></a><span class="lineno"> 6291</span>&#160;</div><div class="line"><a name="l06292"></a><span class="lineno"> 6292</span>&#160;                FreeLibrary(dsoundState.dsoundLibrary);</div><div class="line"><a name="l06293"></a><span class="lineno"> 6293</span>&#160;                dsoundState = {};</div><div class="line"><a name="l06294"></a><span class="lineno"> 6294</span>&#160;            }</div><div class="line"><a name="l06295"></a><span class="lineno"> 6295</span>&#160;</div><div class="line"><a name="l06296"></a><span class="lineno"> 6296</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l06297"></a><span class="lineno"> 6297</span>&#160;        }</div><div class="line"><a name="l06298"></a><span class="lineno"> 6298</span>&#160;</div><div class="line"><a name="l06299"></a><span class="lineno"> 6299</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> <a class="code" href="namespacefpl_1_1audio_1_1_audio_results.html#aa2612a356f6a8c7001e6e91eb1fd09b0">audio::AudioResult</a> InitDirectSound(<span class="keyword">const</span> <a class="code" href="structfpl_1_1_audio_settings.html">AudioSettings</a> &amp;audioSettings, audio::CommonAudioState &amp;commonAudio, DirectSoundState &amp;dsoundState) {</div><div class="line"><a name="l06300"></a><span class="lineno"> 6300</span>&#160;            <span class="comment">// Load direct sound library</span></div><div class="line"><a name="l06301"></a><span class="lineno"> 6301</span>&#160;            dsoundState.dsoundLibrary = LoadLibraryA(<span class="stringliteral">&quot;dsound.dll&quot;</span>);</div><div class="line"><a name="l06302"></a><span class="lineno"> 6302</span>&#160;            func_DirectSoundCreate *directSoundCreate = (func_DirectSoundCreate *)GetProcAddress(dsoundState.dsoundLibrary, <span class="stringliteral">&quot;DirectSoundCreate&quot;</span>);</div><div class="line"><a name="l06303"></a><span class="lineno"> 6303</span>&#160;            <span class="keywordflow">if</span> (directSoundCreate == <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l06304"></a><span class="lineno"> 6304</span>&#160;                ReleaseDirectSound(commonAudio, dsoundState);</div><div class="line"><a name="l06305"></a><span class="lineno"> 6305</span>&#160;                <span class="keywordflow">return</span> audio::AudioResult::Failed;</div><div class="line"><a name="l06306"></a><span class="lineno"> 6306</span>&#160;            }</div><div class="line"><a name="l06307"></a><span class="lineno"> 6307</span>&#160;</div><div class="line"><a name="l06308"></a><span class="lineno"> 6308</span>&#160;            <span class="comment">// Load direct sound object</span></div><div class="line"><a name="l06309"></a><span class="lineno"> 6309</span>&#160;            <span class="keywordflow">if</span> (!SUCCEEDED(directSoundCreate(<a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, &amp;dsoundState.directSound, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>))) {</div><div class="line"><a name="l06310"></a><span class="lineno"> 6310</span>&#160;                ReleaseDirectSound(commonAudio, dsoundState);</div><div class="line"><a name="l06311"></a><span class="lineno"> 6311</span>&#160;                <span class="keywordflow">return</span> audio::AudioResult::Failed;</div><div class="line"><a name="l06312"></a><span class="lineno"> 6312</span>&#160;            }</div><div class="line"><a name="l06313"></a><span class="lineno"> 6313</span>&#160;</div><div class="line"><a name="l06314"></a><span class="lineno"> 6314</span>&#160;            <span class="comment">// Setup wave format ex</span></div><div class="line"><a name="l06315"></a><span class="lineno"> 6315</span>&#160;            WAVEFORMATEXTENSIBLE wf = {};</div><div class="line"><a name="l06316"></a><span class="lineno"> 6316</span>&#160;            wf.Format.cbSize = <span class="keyword">sizeof</span>(wf);</div><div class="line"><a name="l06317"></a><span class="lineno"> 6317</span>&#160;            wf.Format.wFormatTag = WAVE_FORMAT_EXTENSIBLE;</div><div class="line"><a name="l06318"></a><span class="lineno"> 6318</span>&#160;            wf.Format.nChannels = (WORD)audioSettings.<a class="code" href="structfpl_1_1_audio_settings.html#a6eced4e689d091d5c64aa68215ac0541">desiredFormat</a>.<a class="code" href="structfpl_1_1_audio_device_format.html#a6d9ffc868ca9b121f3c39f73e495d0eb">channels</a>;</div><div class="line"><a name="l06319"></a><span class="lineno"> 6319</span>&#160;            wf.Format.nSamplesPerSec = (DWORD)audioSettings.<a class="code" href="structfpl_1_1_audio_settings.html#a6eced4e689d091d5c64aa68215ac0541">desiredFormat</a>.<a class="code" href="structfpl_1_1_audio_device_format.html#ac43f3e139b09c5c38d0b6a0863c0ac1f">sampleRate</a>;</div><div class="line"><a name="l06320"></a><span class="lineno"> 6320</span>&#160;            wf.Format.wBitsPerSample = audio::GetAudioSampleSizeInBytes(audioSettings.<a class="code" href="structfpl_1_1_audio_settings.html#a6eced4e689d091d5c64aa68215ac0541">desiredFormat</a>.<a class="code" href="structfpl_1_1_audio_device_format.html#a1216ea77c930dc846b682bbaa3979f8f">type</a>) * 8;</div><div class="line"><a name="l06321"></a><span class="lineno"> 6321</span>&#160;            wf.Format.nBlockAlign = (wf.Format.nChannels * wf.Format.wBitsPerSample) / 8;</div><div class="line"><a name="l06322"></a><span class="lineno"> 6322</span>&#160;            wf.Format.nAvgBytesPerSec = wf.Format.nBlockAlign * wf.Format.nSamplesPerSec;</div><div class="line"><a name="l06323"></a><span class="lineno"> 6323</span>&#160;            wf.Samples.wValidBitsPerSample = wf.Format.wBitsPerSample;</div><div class="line"><a name="l06324"></a><span class="lineno"> 6324</span>&#160;            <span class="keywordflow">if</span> (audioSettings.<a class="code" href="structfpl_1_1_audio_settings.html#a6eced4e689d091d5c64aa68215ac0541">desiredFormat</a>.<a class="code" href="structfpl_1_1_audio_device_format.html#a1216ea77c930dc846b682bbaa3979f8f">type</a> == AudioFormatType::F32) {</div><div class="line"><a name="l06325"></a><span class="lineno"> 6325</span>&#160;                wf.SubFormat = KSDATAFORMAT_SUBTYPE_IEEE_FLOAT;</div><div class="line"><a name="l06326"></a><span class="lineno"> 6326</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06327"></a><span class="lineno"> 6327</span>&#160;                wf.SubFormat = KSDATAFORMAT_SUBTYPE_PCM;</div><div class="line"><a name="l06328"></a><span class="lineno"> 6328</span>&#160;            }</div><div class="line"><a name="l06329"></a><span class="lineno"> 6329</span>&#160;</div><div class="line"><a name="l06330"></a><span class="lineno"> 6330</span>&#160;            <span class="comment">// Get either local window handle or desktop handle</span></div><div class="line"><a name="l06331"></a><span class="lineno"> 6331</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(platform::global__Win32__State != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l06332"></a><span class="lineno"> 6332</span>&#160;            HWND windowHandle = <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>;</div><div class="line"><a name="l06333"></a><span class="lineno"> 6333</span>&#160;<span class="preprocessor">#if defined(FPL_ENABLE_WINDOW)</span></div><div class="line"><a name="l06334"></a><span class="lineno"> 6334</span>&#160;            <span class="keywordflow">if</span> (platform::global__Win32__State-&gt;initFlags &amp; <a class="code" href="namespacefpl_1_1_init_flags.html#a3aaa570e446e656cbc2c25d2a1a76db0aaf987c21d9199178e8a48f4105309eaf">InitFlags::Window</a>) {</div><div class="line"><a name="l06335"></a><span class="lineno"> 6335</span>&#160;                windowHandle = platform::global__Win32__State-&gt;window.windowHandle;</div><div class="line"><a name="l06336"></a><span class="lineno"> 6336</span>&#160;            }</div><div class="line"><a name="l06337"></a><span class="lineno"> 6337</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l06338"></a><span class="lineno"> 6338</span>&#160;            <span class="keywordflow">if</span> (windowHandle == <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l06339"></a><span class="lineno"> 6339</span>&#160;                windowHandle = platform::global__Win32__API__Functions.user.getDesktopWindow();</div><div class="line"><a name="l06340"></a><span class="lineno"> 6340</span>&#160;            }</div><div class="line"><a name="l06341"></a><span class="lineno"> 6341</span>&#160;</div><div class="line"><a name="l06342"></a><span class="lineno"> 6342</span>&#160;            <span class="comment">// The cooperative level must be set before doing anything else</span></div><div class="line"><a name="l06343"></a><span class="lineno"> 6343</span>&#160;            <span class="keywordflow">if</span> (FAILED(dsoundState.directSound-&gt;SetCooperativeLevel(windowHandle, (audioSettings.<a class="code" href="structfpl_1_1_audio_settings.html#ac1eeab3aa3571fbf8bc5f5ab2a7381b4">preferExclusiveMode</a>) ? DSSCL_EXCLUSIVE : DSSCL_PRIORITY))) {</div><div class="line"><a name="l06344"></a><span class="lineno"> 6344</span>&#160;                ReleaseDirectSound(commonAudio, dsoundState);</div><div class="line"><a name="l06345"></a><span class="lineno"> 6345</span>&#160;                <span class="keywordflow">return</span> audio::AudioResult::Failed;</div><div class="line"><a name="l06346"></a><span class="lineno"> 6346</span>&#160;            }</div><div class="line"><a name="l06347"></a><span class="lineno"> 6347</span>&#160;</div><div class="line"><a name="l06348"></a><span class="lineno"> 6348</span>&#160;            <span class="comment">// Create primary buffer</span></div><div class="line"><a name="l06349"></a><span class="lineno"> 6349</span>&#160;            DSBUFFERDESC descDSPrimary = {};</div><div class="line"><a name="l06350"></a><span class="lineno"> 6350</span>&#160;            descDSPrimary.dwSize = <span class="keyword">sizeof</span>(DSBUFFERDESC);</div><div class="line"><a name="l06351"></a><span class="lineno"> 6351</span>&#160;            descDSPrimary.dwFlags = DSBCAPS_PRIMARYBUFFER | DSBCAPS_CTRLVOLUME;</div><div class="line"><a name="l06352"></a><span class="lineno"> 6352</span>&#160;            <span class="keywordflow">if</span> (FAILED(dsoundState.directSound-&gt;CreateSoundBuffer(&amp;descDSPrimary, &amp;dsoundState.primaryBuffer, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>))) {</div><div class="line"><a name="l06353"></a><span class="lineno"> 6353</span>&#160;                ReleaseDirectSound(commonAudio, dsoundState);</div><div class="line"><a name="l06354"></a><span class="lineno"> 6354</span>&#160;                <span class="keywordflow">return</span> audio::AudioResult::Failed;</div><div class="line"><a name="l06355"></a><span class="lineno"> 6355</span>&#160;            }</div><div class="line"><a name="l06356"></a><span class="lineno"> 6356</span>&#160;</div><div class="line"><a name="l06357"></a><span class="lineno"> 6357</span>&#160;            <span class="comment">// Set format</span></div><div class="line"><a name="l06358"></a><span class="lineno"> 6358</span>&#160;            <span class="keywordflow">if</span> (FAILED(dsoundState.primaryBuffer-&gt;SetFormat((WAVEFORMATEX*)&amp;wf))) {</div><div class="line"><a name="l06359"></a><span class="lineno"> 6359</span>&#160;                ReleaseDirectSound(commonAudio, dsoundState);</div><div class="line"><a name="l06360"></a><span class="lineno"> 6360</span>&#160;                <span class="keywordflow">return</span> audio::AudioResult::Failed;</div><div class="line"><a name="l06361"></a><span class="lineno"> 6361</span>&#160;            }</div><div class="line"><a name="l06362"></a><span class="lineno"> 6362</span>&#160;</div><div class="line"><a name="l06363"></a><span class="lineno"> 6363</span>&#160;            <span class="comment">// Get the required size in bytes</span></div><div class="line"><a name="l06364"></a><span class="lineno"> 6364</span>&#160;            DWORD requiredSize;</div><div class="line"><a name="l06365"></a><span class="lineno"> 6365</span>&#160;            <span class="keywordflow">if</span> (FAILED(dsoundState.primaryBuffer-&gt;GetFormat(<a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, 0, &amp;requiredSize))) {</div><div class="line"><a name="l06366"></a><span class="lineno"> 6366</span>&#160;                ReleaseDirectSound(commonAudio, dsoundState);</div><div class="line"><a name="l06367"></a><span class="lineno"> 6367</span>&#160;                <span class="keywordflow">return</span> audio::AudioResult::Failed;</div><div class="line"><a name="l06368"></a><span class="lineno"> 6368</span>&#160;            }</div><div class="line"><a name="l06369"></a><span class="lineno"> 6369</span>&#160;</div><div class="line"><a name="l06370"></a><span class="lineno"> 6370</span>&#160;            <span class="comment">// Get actual format</span></div><div class="line"><a name="l06371"></a><span class="lineno"> 6371</span>&#160;            <span class="keywordtype">char</span> rawdata[1024];</div><div class="line"><a name="l06372"></a><span class="lineno"> 6372</span>&#160;            WAVEFORMATEXTENSIBLE* pActualFormat = (WAVEFORMATEXTENSIBLE*)rawdata;</div><div class="line"><a name="l06373"></a><span class="lineno"> 6373</span>&#160;            <span class="keywordflow">if</span> (FAILED(dsoundState.primaryBuffer-&gt;GetFormat((WAVEFORMATEX*)pActualFormat, requiredSize, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>))) {</div><div class="line"><a name="l06374"></a><span class="lineno"> 6374</span>&#160;                ReleaseDirectSound(commonAudio, dsoundState);</div><div class="line"><a name="l06375"></a><span class="lineno"> 6375</span>&#160;                <span class="keywordflow">return</span> audio::AudioResult::Failed;</div><div class="line"><a name="l06376"></a><span class="lineno"> 6376</span>&#160;            }</div><div class="line"><a name="l06377"></a><span class="lineno"> 6377</span>&#160;</div><div class="line"><a name="l06378"></a><span class="lineno"> 6378</span>&#160;            <span class="comment">// Set internal format</span></div><div class="line"><a name="l06379"></a><span class="lineno"> 6379</span>&#160;            <a class="code" href="structfpl_1_1_audio_device_format.html">AudioDeviceFormat</a> internalFormat = {};</div><div class="line"><a name="l06380"></a><span class="lineno"> 6380</span>&#160;            <span class="keywordflow">if</span> (IsEqualGUID(pActualFormat-&gt;SubFormat, KSDATAFORMAT_SUBTYPE_IEEE_FLOAT)) {</div><div class="line"><a name="l06381"></a><span class="lineno"> 6381</span>&#160;                internalFormat.<a class="code" href="structfpl_1_1_audio_device_format.html#a1216ea77c930dc846b682bbaa3979f8f">type</a> = AudioFormatType::F32;</div><div class="line"><a name="l06382"></a><span class="lineno"> 6382</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06383"></a><span class="lineno"> 6383</span>&#160;                <span class="keywordflow">switch</span> (pActualFormat-&gt;Format.wBitsPerSample) {</div><div class="line"><a name="l06384"></a><span class="lineno"> 6384</span>&#160;                    <span class="keywordflow">case</span> 8:</div><div class="line"><a name="l06385"></a><span class="lineno"> 6385</span>&#160;                        internalFormat.<a class="code" href="structfpl_1_1_audio_device_format.html#a1216ea77c930dc846b682bbaa3979f8f">type</a> = AudioFormatType::U8;</div><div class="line"><a name="l06386"></a><span class="lineno"> 6386</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l06387"></a><span class="lineno"> 6387</span>&#160;                    <span class="keywordflow">case</span> 16:</div><div class="line"><a name="l06388"></a><span class="lineno"> 6388</span>&#160;                        internalFormat.<a class="code" href="structfpl_1_1_audio_device_format.html#a1216ea77c930dc846b682bbaa3979f8f">type</a> = AudioFormatType::S16;</div><div class="line"><a name="l06389"></a><span class="lineno"> 6389</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l06390"></a><span class="lineno"> 6390</span>&#160;                    <span class="keywordflow">case</span> 24:</div><div class="line"><a name="l06391"></a><span class="lineno"> 6391</span>&#160;                        internalFormat.<a class="code" href="structfpl_1_1_audio_device_format.html#a1216ea77c930dc846b682bbaa3979f8f">type</a> = AudioFormatType::S24;</div><div class="line"><a name="l06392"></a><span class="lineno"> 6392</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l06393"></a><span class="lineno"> 6393</span>&#160;                    <span class="keywordflow">case</span> 32:</div><div class="line"><a name="l06394"></a><span class="lineno"> 6394</span>&#160;                        internalFormat.<a class="code" href="structfpl_1_1_audio_device_format.html#a1216ea77c930dc846b682bbaa3979f8f">type</a> = AudioFormatType::S32;</div><div class="line"><a name="l06395"></a><span class="lineno"> 6395</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l06396"></a><span class="lineno"> 6396</span>&#160;                }</div><div class="line"><a name="l06397"></a><span class="lineno"> 6397</span>&#160;            }</div><div class="line"><a name="l06398"></a><span class="lineno"> 6398</span>&#160;            internalFormat.<a class="code" href="structfpl_1_1_audio_device_format.html#a6d9ffc868ca9b121f3c39f73e495d0eb">channels</a> = pActualFormat-&gt;Format.nChannels;</div><div class="line"><a name="l06399"></a><span class="lineno"> 6399</span>&#160;            internalFormat.<a class="code" href="structfpl_1_1_audio_device_format.html#ac43f3e139b09c5c38d0b6a0863c0ac1f">sampleRate</a> = pActualFormat-&gt;Format.nSamplesPerSec;</div><div class="line"><a name="l06400"></a><span class="lineno"> 6400</span>&#160;</div><div class="line"><a name="l06401"></a><span class="lineno"> 6401</span>&#160;            <span class="comment">// @NOTE(final): We divide up our playback buffer into this number of periods and let directsound notify us when one of it needs to play.</span></div><div class="line"><a name="l06402"></a><span class="lineno"> 6402</span>&#160;            internalFormat.<a class="code" href="structfpl_1_1_audio_device_format.html#ab3706796b4be381973ae595e3155cfdc">periods</a> = 2;</div><div class="line"><a name="l06403"></a><span class="lineno"> 6403</span>&#160;            internalFormat.<a class="code" href="structfpl_1_1_audio_device_format.html#a2a0f46f5c1d9d0bfa869bf3cfd71dbbd">bufferSizeInFrames</a> = audio::GetAudioBufferSizeInFrames(internalFormat.<a class="code" href="structfpl_1_1_audio_device_format.html#ac43f3e139b09c5c38d0b6a0863c0ac1f">sampleRate</a>, audioSettings.<a class="code" href="structfpl_1_1_audio_settings.html#a4171e2de1150225a459177259728ec31">bufferSizeInMilliSeconds</a>);</div><div class="line"><a name="l06404"></a><span class="lineno"> 6404</span>&#160;            internalFormat.<a class="code" href="structfpl_1_1_audio_device_format.html#acaa09150895bec02cf08d2b3b9f6fb7e">bufferSizeInBytes</a> = internalFormat.<a class="code" href="structfpl_1_1_audio_device_format.html#a2a0f46f5c1d9d0bfa869bf3cfd71dbbd">bufferSizeInFrames</a> * internalFormat.<a class="code" href="structfpl_1_1_audio_device_format.html#a6d9ffc868ca9b121f3c39f73e495d0eb">channels</a> * audio::GetAudioSampleSizeInBytes(internalFormat.<a class="code" href="structfpl_1_1_audio_device_format.html#a1216ea77c930dc846b682bbaa3979f8f">type</a>);</div><div class="line"><a name="l06405"></a><span class="lineno"> 6405</span>&#160;</div><div class="line"><a name="l06406"></a><span class="lineno"> 6406</span>&#160;            commonAudio.internalFormat = internalFormat;</div><div class="line"><a name="l06407"></a><span class="lineno"> 6407</span>&#160;</div><div class="line"><a name="l06408"></a><span class="lineno"> 6408</span>&#160;            <span class="comment">// Create secondary buffer</span></div><div class="line"><a name="l06409"></a><span class="lineno"> 6409</span>&#160;            DSBUFFERDESC descDS = {};</div><div class="line"><a name="l06410"></a><span class="lineno"> 6410</span>&#160;            descDS.dwSize = <span class="keyword">sizeof</span>(DSBUFFERDESC);</div><div class="line"><a name="l06411"></a><span class="lineno"> 6411</span>&#160;            descDS.dwFlags = DSBCAPS_CTRLPOSITIONNOTIFY | DSBCAPS_GLOBALFOCUS | DSBCAPS_GETCURRENTPOSITION2;</div><div class="line"><a name="l06412"></a><span class="lineno"> 6412</span>&#160;            descDS.dwBufferBytes = (DWORD)internalFormat.<a class="code" href="structfpl_1_1_audio_device_format.html#acaa09150895bec02cf08d2b3b9f6fb7e">bufferSizeInBytes</a>;</div><div class="line"><a name="l06413"></a><span class="lineno"> 6413</span>&#160;            descDS.lpwfxFormat = (WAVEFORMATEX*)&amp;wf;</div><div class="line"><a name="l06414"></a><span class="lineno"> 6414</span>&#160;            <span class="keywordflow">if</span> (FAILED(dsoundState.directSound-&gt;CreateSoundBuffer(&amp;descDS, &amp;dsoundState.secondaryBuffer, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>))) {</div><div class="line"><a name="l06415"></a><span class="lineno"> 6415</span>&#160;                ReleaseDirectSound(commonAudio, dsoundState);</div><div class="line"><a name="l06416"></a><span class="lineno"> 6416</span>&#160;                <span class="keywordflow">return</span> audio::AudioResult::Failed;</div><div class="line"><a name="l06417"></a><span class="lineno"> 6417</span>&#160;            }</div><div class="line"><a name="l06418"></a><span class="lineno"> 6418</span>&#160;</div><div class="line"><a name="l06419"></a><span class="lineno"> 6419</span>&#160;            <span class="comment">// Notifications are set up via a DIRECTSOUNDNOTIFY object which is retrieved from the buffer.</span></div><div class="line"><a name="l06420"></a><span class="lineno"> 6420</span>&#160;            <span class="keywordflow">if</span> (FAILED(dsoundState.secondaryBuffer-&gt;QueryInterface(FPL_IID_IDirectSoundNotify, (<span class="keywordtype">void</span>**)&amp;dsoundState.notify))) {</div><div class="line"><a name="l06421"></a><span class="lineno"> 6421</span>&#160;                ReleaseDirectSound(commonAudio, dsoundState);</div><div class="line"><a name="l06422"></a><span class="lineno"> 6422</span>&#160;                <span class="keywordflow">return</span> audio::AudioResult::Failed;</div><div class="line"><a name="l06423"></a><span class="lineno"> 6423</span>&#160;            }</div><div class="line"><a name="l06424"></a><span class="lineno"> 6424</span>&#160;</div><div class="line"><a name="l06425"></a><span class="lineno"> 6425</span>&#160;            <span class="comment">// Setup notifications</span></div><div class="line"><a name="l06426"></a><span class="lineno"> 6426</span>&#160;            uint32_t periodSizeInBytes = internalFormat.<a class="code" href="structfpl_1_1_audio_device_format.html#acaa09150895bec02cf08d2b3b9f6fb7e">bufferSizeInBytes</a> / internalFormat.<a class="code" href="structfpl_1_1_audio_device_format.html#ab3706796b4be381973ae595e3155cfdc">periods</a>;</div><div class="line"><a name="l06427"></a><span class="lineno"> 6427</span>&#160;            DSBPOSITIONNOTIFY notifyPoints[FPL_DIRECTSOUND_MAX_PERIODS];</div><div class="line"><a name="l06428"></a><span class="lineno"> 6428</span>&#160;            <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; internalFormat.<a class="code" href="structfpl_1_1_audio_device_format.html#ab3706796b4be381973ae595e3155cfdc">periods</a>; ++i) {</div><div class="line"><a name="l06429"></a><span class="lineno"> 6429</span>&#160;                dsoundState.notifyEvents[i] = CreateEventA(<a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l06430"></a><span class="lineno"> 6430</span>&#160;                <span class="keywordflow">if</span> (dsoundState.notifyEvents[i] == <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l06431"></a><span class="lineno"> 6431</span>&#160;                    ReleaseDirectSound(commonAudio, dsoundState);</div><div class="line"><a name="l06432"></a><span class="lineno"> 6432</span>&#160;                    <span class="keywordflow">return</span> audio::AudioResult::Failed;</div><div class="line"><a name="l06433"></a><span class="lineno"> 6433</span>&#160;                }</div><div class="line"><a name="l06434"></a><span class="lineno"> 6434</span>&#160;</div><div class="line"><a name="l06435"></a><span class="lineno"> 6435</span>&#160;                <span class="comment">// The notification offset is in bytes.</span></div><div class="line"><a name="l06436"></a><span class="lineno"> 6436</span>&#160;                notifyPoints[i].dwOffset = i * periodSizeInBytes;</div><div class="line"><a name="l06437"></a><span class="lineno"> 6437</span>&#160;                notifyPoints[i].hEventNotify = dsoundState.notifyEvents[i];</div><div class="line"><a name="l06438"></a><span class="lineno"> 6438</span>&#160;            }</div><div class="line"><a name="l06439"></a><span class="lineno"> 6439</span>&#160;            <span class="keywordflow">if</span> (FAILED(dsoundState.notify-&gt;SetNotificationPositions(internalFormat.<a class="code" href="structfpl_1_1_audio_device_format.html#ab3706796b4be381973ae595e3155cfdc">periods</a>, notifyPoints))) {</div><div class="line"><a name="l06440"></a><span class="lineno"> 6440</span>&#160;                ReleaseDirectSound(commonAudio, dsoundState);</div><div class="line"><a name="l06441"></a><span class="lineno"> 6441</span>&#160;                <span class="keywordflow">return</span> audio::AudioResult::Failed;</div><div class="line"><a name="l06442"></a><span class="lineno"> 6442</span>&#160;            }</div><div class="line"><a name="l06443"></a><span class="lineno"> 6443</span>&#160;</div><div class="line"><a name="l06444"></a><span class="lineno"> 6444</span>&#160;            <span class="comment">// Create stop event</span></div><div class="line"><a name="l06445"></a><span class="lineno"> 6445</span>&#160;            dsoundState.stopEvent = CreateEventA(<a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, <span class="keyword">false</span>, <span class="keyword">false</span>, <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l06446"></a><span class="lineno"> 6446</span>&#160;            <span class="keywordflow">if</span> (dsoundState.stopEvent == <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l06447"></a><span class="lineno"> 6447</span>&#160;                ReleaseDirectSound(commonAudio, dsoundState);</div><div class="line"><a name="l06448"></a><span class="lineno"> 6448</span>&#160;                <span class="keywordflow">return</span> audio::AudioResult::Failed;</div><div class="line"><a name="l06449"></a><span class="lineno"> 6449</span>&#160;            }</div><div class="line"><a name="l06450"></a><span class="lineno"> 6450</span>&#160;</div><div class="line"><a name="l06451"></a><span class="lineno"> 6451</span>&#160;            <span class="keywordflow">return</span> audio::AudioResult::Success;</div><div class="line"><a name="l06452"></a><span class="lineno"> 6452</span>&#160;        }</div><div class="line"><a name="l06453"></a><span class="lineno"> 6453</span>&#160;</div><div class="line"><a name="l06454"></a><span class="lineno"> 6454</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a2cde79ef58944162158c81a4d5b754dd">fpl_internal_inline</a> <span class="keywordtype">void</span> StopMainLoopDirectSound(DirectSoundState &amp;dsoundState) {</div><div class="line"><a name="l06455"></a><span class="lineno"> 6455</span>&#160;            dsoundState.breakMainLoop = <span class="keyword">true</span>;</div><div class="line"><a name="l06456"></a><span class="lineno"> 6456</span>&#160;            SetEvent(dsoundState.stopEvent);</div><div class="line"><a name="l06457"></a><span class="lineno"> 6457</span>&#160;        }</div><div class="line"><a name="l06458"></a><span class="lineno"> 6458</span>&#160;</div><div class="line"><a name="l06459"></a><span class="lineno"> 6459</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> <span class="keywordtype">bool</span> GetCurrentFrameDirectSound(<span class="keyword">const</span> audio::CommonAudioState &amp;commonAudio, DirectSoundState &amp;dsoundState, uint32_t* pCurrentPos) {</div><div class="line"><a name="l06460"></a><span class="lineno"> 6460</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(pCurrentPos != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l06461"></a><span class="lineno"> 6461</span>&#160;            *pCurrentPos = 0;</div><div class="line"><a name="l06462"></a><span class="lineno"> 6462</span>&#160;</div><div class="line"><a name="l06463"></a><span class="lineno"> 6463</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(dsoundState.secondaryBuffer != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l06464"></a><span class="lineno"> 6464</span>&#160;            DWORD dwCurrentPosition;</div><div class="line"><a name="l06465"></a><span class="lineno"> 6465</span>&#160;            <span class="keywordflow">if</span> (FAILED(dsoundState.secondaryBuffer-&gt;GetCurrentPosition(<a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, &amp;dwCurrentPosition))) {</div><div class="line"><a name="l06466"></a><span class="lineno"> 6466</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l06467"></a><span class="lineno"> 6467</span>&#160;            }</div><div class="line"><a name="l06468"></a><span class="lineno"> 6468</span>&#160;</div><div class="line"><a name="l06469"></a><span class="lineno"> 6469</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(commonAudio.internalFormat.channels &gt; 0);</div><div class="line"><a name="l06470"></a><span class="lineno"> 6470</span>&#160;            *pCurrentPos = (uint32_t)dwCurrentPosition / audio::GetAudioSampleSizeInBytes(commonAudio.internalFormat.type) / commonAudio.internalFormat.channels;</div><div class="line"><a name="l06471"></a><span class="lineno"> 6471</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l06472"></a><span class="lineno"> 6472</span>&#160;        }</div><div class="line"><a name="l06473"></a><span class="lineno"> 6473</span>&#160;</div><div class="line"><a name="l06474"></a><span class="lineno"> 6474</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> uint32_t GetAvailableFramesDirectSound(<span class="keyword">const</span> audio::CommonAudioState &amp;commonAudio, DirectSoundState &amp;dsoundState) {</div><div class="line"><a name="l06475"></a><span class="lineno"> 6475</span>&#160;            <span class="comment">// Get current frame from current play position</span></div><div class="line"><a name="l06476"></a><span class="lineno"> 6476</span>&#160;            uint32_t currentFrame;</div><div class="line"><a name="l06477"></a><span class="lineno"> 6477</span>&#160;            <span class="keywordflow">if</span> (!GetCurrentFrameDirectSound(commonAudio, dsoundState, &amp;currentFrame)) {</div><div class="line"><a name="l06478"></a><span class="lineno"> 6478</span>&#160;                <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l06479"></a><span class="lineno"> 6479</span>&#160;            }</div><div class="line"><a name="l06480"></a><span class="lineno"> 6480</span>&#160;</div><div class="line"><a name="l06481"></a><span class="lineno"> 6481</span>&#160;            <span class="comment">// In a playback device the last processed frame should always be ahead of the current frame. The space between</span></div><div class="line"><a name="l06482"></a><span class="lineno"> 6482</span>&#160;            <span class="comment">// the last processed and current frame (moving forward, starting from the last processed frame) is the amount</span></div><div class="line"><a name="l06483"></a><span class="lineno"> 6483</span>&#160;            <span class="comment">// of space available to write.</span></div><div class="line"><a name="l06484"></a><span class="lineno"> 6484</span>&#160;            uint32_t totalFrameCount = commonAudio.internalFormat.bufferSizeInFrames;</div><div class="line"><a name="l06485"></a><span class="lineno"> 6485</span>&#160;            uint32_t committedBeg = currentFrame;</div><div class="line"><a name="l06486"></a><span class="lineno"> 6486</span>&#160;            uint32_t committedEnd;</div><div class="line"><a name="l06487"></a><span class="lineno"> 6487</span>&#160;            committedEnd = dsoundState.lastProcessedFrame;</div><div class="line"><a name="l06488"></a><span class="lineno"> 6488</span>&#160;            <span class="keywordflow">if</span> (committedEnd &lt;= committedBeg) {</div><div class="line"><a name="l06489"></a><span class="lineno"> 6489</span>&#160;                committedEnd += totalFrameCount;</div><div class="line"><a name="l06490"></a><span class="lineno"> 6490</span>&#160;            }</div><div class="line"><a name="l06491"></a><span class="lineno"> 6491</span>&#160;</div><div class="line"><a name="l06492"></a><span class="lineno"> 6492</span>&#160;            uint32_t committedSize = (committedEnd - committedBeg);</div><div class="line"><a name="l06493"></a><span class="lineno"> 6493</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(committedSize &lt;= totalFrameCount);</div><div class="line"><a name="l06494"></a><span class="lineno"> 6494</span>&#160;</div><div class="line"><a name="l06495"></a><span class="lineno"> 6495</span>&#160;            <span class="keywordflow">return</span> totalFrameCount - committedSize;</div><div class="line"><a name="l06496"></a><span class="lineno"> 6496</span>&#160;        }</div><div class="line"><a name="l06497"></a><span class="lineno"> 6497</span>&#160;</div><div class="line"><a name="l06498"></a><span class="lineno"> 6498</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> uint32_t WaitForFramesDirectSound(<span class="keyword">const</span> audio::CommonAudioState &amp;commonAudio, DirectSoundState &amp;dsoundState) {</div><div class="line"><a name="l06499"></a><span class="lineno"> 6499</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(commonAudio.internalFormat.sampleRate &gt; 0);</div><div class="line"><a name="l06500"></a><span class="lineno"> 6500</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(commonAudio.internalFormat.periods &gt; 0);</div><div class="line"><a name="l06501"></a><span class="lineno"> 6501</span>&#160;</div><div class="line"><a name="l06502"></a><span class="lineno"> 6502</span>&#160;            <span class="comment">// The timeout to use for putting the thread to sleep is based on the size of the buffer and the period count.</span></div><div class="line"><a name="l06503"></a><span class="lineno"> 6503</span>&#160;            DWORD timeoutInMilliseconds = (commonAudio.internalFormat.bufferSizeInFrames / (commonAudio.internalFormat.sampleRate / 1000)) / commonAudio.internalFormat.periods;</div><div class="line"><a name="l06504"></a><span class="lineno"> 6504</span>&#160;            <span class="keywordflow">if</span> (timeoutInMilliseconds &lt; 1) {</div><div class="line"><a name="l06505"></a><span class="lineno"> 6505</span>&#160;                timeoutInMilliseconds = 1;</div><div class="line"><a name="l06506"></a><span class="lineno"> 6506</span>&#160;            }</div><div class="line"><a name="l06507"></a><span class="lineno"> 6507</span>&#160;</div><div class="line"><a name="l06508"></a><span class="lineno"> 6508</span>&#160;            <span class="comment">// Copy event handles so we can wait for each one</span></div><div class="line"><a name="l06509"></a><span class="lineno"> 6509</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> eventCount = commonAudio.internalFormat.periods + 1;</div><div class="line"><a name="l06510"></a><span class="lineno"> 6510</span>&#160;            HANDLE pEvents[FPL_DIRECTSOUND_MAX_PERIODS + 1]; <span class="comment">// +1 for the stop event.</span></div><div class="line"><a name="l06511"></a><span class="lineno"> 6511</span>&#160;            <a class="code" href="group___memory.html#gadb98af4c9b6d561313a2ceeab8d44e06">memory::MemoryCopy</a>(dsoundState.notifyEvents, <span class="keyword">sizeof</span>(HANDLE) * commonAudio.internalFormat.periods, pEvents);</div><div class="line"><a name="l06512"></a><span class="lineno"> 6512</span>&#160;            pEvents[eventCount - 1] = dsoundState.stopEvent;</div><div class="line"><a name="l06513"></a><span class="lineno"> 6513</span>&#160;</div><div class="line"><a name="l06514"></a><span class="lineno"> 6514</span>&#160;            <span class="keywordflow">while</span> (!dsoundState.breakMainLoop) {</div><div class="line"><a name="l06515"></a><span class="lineno"> 6515</span>&#160;                <span class="comment">// Get available frames from directsound</span></div><div class="line"><a name="l06516"></a><span class="lineno"> 6516</span>&#160;                uint32_t framesAvailable = GetAvailableFramesDirectSound(commonAudio, dsoundState);</div><div class="line"><a name="l06517"></a><span class="lineno"> 6517</span>&#160;                <span class="keywordflow">if</span> (framesAvailable &gt; 0) {</div><div class="line"><a name="l06518"></a><span class="lineno"> 6518</span>&#160;                    <span class="keywordflow">return</span> framesAvailable;</div><div class="line"><a name="l06519"></a><span class="lineno"> 6519</span>&#160;                }</div><div class="line"><a name="l06520"></a><span class="lineno"> 6520</span>&#160;</div><div class="line"><a name="l06521"></a><span class="lineno"> 6521</span>&#160;                <span class="comment">// If we get here it means we weren&#39;t able to find any frames. We&#39;ll just wait here for a bit.</span></div><div class="line"><a name="l06522"></a><span class="lineno"> 6522</span>&#160;                WaitForMultipleObjects(eventCount, pEvents, FALSE, timeoutInMilliseconds);</div><div class="line"><a name="l06523"></a><span class="lineno"> 6523</span>&#160;            }</div><div class="line"><a name="l06524"></a><span class="lineno"> 6524</span>&#160;</div><div class="line"><a name="l06525"></a><span class="lineno"> 6525</span>&#160;            <span class="comment">// We&#39;ll get here if the loop was terminated. Just return whatever&#39;s available.</span></div><div class="line"><a name="l06526"></a><span class="lineno"> 6526</span>&#160;            <span class="keywordflow">return</span> GetAvailableFramesDirectSound(commonAudio, dsoundState);</div><div class="line"><a name="l06527"></a><span class="lineno"> 6527</span>&#160;        }</div><div class="line"><a name="l06528"></a><span class="lineno"> 6528</span>&#160;</div><div class="line"><a name="l06529"></a><span class="lineno"> 6529</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> <span class="keywordtype">bool</span> StopDirectSound(DirectSoundState &amp;dsoundState) {</div><div class="line"><a name="l06530"></a><span class="lineno"> 6530</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(dsoundState.secondaryBuffer != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l06531"></a><span class="lineno"> 6531</span>&#160;            <span class="keywordflow">if</span> (FAILED(dsoundState.secondaryBuffer-&gt;Stop())) {</div><div class="line"><a name="l06532"></a><span class="lineno"> 6532</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l06533"></a><span class="lineno"> 6533</span>&#160;            }</div><div class="line"><a name="l06534"></a><span class="lineno"> 6534</span>&#160;            dsoundState.secondaryBuffer-&gt;SetCurrentPosition(0);</div><div class="line"><a name="l06535"></a><span class="lineno"> 6535</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l06536"></a><span class="lineno"> 6536</span>&#160;        }</div><div class="line"><a name="l06537"></a><span class="lineno"> 6537</span>&#160;</div><div class="line"><a name="l06538"></a><span class="lineno"> 6538</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> <a class="code" href="namespacefpl_1_1audio_1_1_audio_results.html#aa2612a356f6a8c7001e6e91eb1fd09b0">audio::AudioResult</a> StartDirectSound(<span class="keyword">const</span> audio::CommonAudioState &amp;commonAudio, DirectSoundState &amp;dsoundState) {</div><div class="line"><a name="l06539"></a><span class="lineno"> 6539</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(commonAudio.internalFormat.channels &gt; 0);</div><div class="line"><a name="l06540"></a><span class="lineno"> 6540</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(commonAudio.internalFormat.periods &gt; 0);</div><div class="line"><a name="l06541"></a><span class="lineno"> 6541</span>&#160;            uint32_t audioSampleSizeBytes = audio::GetAudioSampleSizeInBytes(commonAudio.internalFormat.type);</div><div class="line"><a name="l06542"></a><span class="lineno"> 6542</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(audioSampleSizeBytes &gt; 0);</div><div class="line"><a name="l06543"></a><span class="lineno"> 6543</span>&#160;</div><div class="line"><a name="l06544"></a><span class="lineno"> 6544</span>&#160;            <span class="comment">// Before playing anything we need to grab an initial group of samples from the client.</span></div><div class="line"><a name="l06545"></a><span class="lineno"> 6545</span>&#160;            uint32_t framesToRead = commonAudio.internalFormat.bufferSizeInFrames / commonAudio.internalFormat.periods;</div><div class="line"><a name="l06546"></a><span class="lineno"> 6546</span>&#160;            uint32_t desiredLockSize = framesToRead * commonAudio.internalFormat.channels * audioSampleSizeBytes;</div><div class="line"><a name="l06547"></a><span class="lineno"> 6547</span>&#160;</div><div class="line"><a name="l06548"></a><span class="lineno"> 6548</span>&#160;            <span class="keywordtype">void</span>* pLockPtr;</div><div class="line"><a name="l06549"></a><span class="lineno"> 6549</span>&#160;            DWORD actualLockSize;</div><div class="line"><a name="l06550"></a><span class="lineno"> 6550</span>&#160;            <span class="keywordtype">void</span>* pLockPtr2;</div><div class="line"><a name="l06551"></a><span class="lineno"> 6551</span>&#160;            DWORD actualLockSize2;</div><div class="line"><a name="l06552"></a><span class="lineno"> 6552</span>&#160;            <span class="keywordflow">if</span> (SUCCEEDED(dsoundState.secondaryBuffer-&gt;Lock(0, desiredLockSize, &amp;pLockPtr, &amp;actualLockSize, &amp;pLockPtr2, &amp;actualLockSize2, 0))) {</div><div class="line"><a name="l06553"></a><span class="lineno"> 6553</span>&#160;                framesToRead = actualLockSize / audioSampleSizeBytes / commonAudio.internalFormat.channels;</div><div class="line"><a name="l06554"></a><span class="lineno"> 6554</span>&#160;                audio::ReadAudioFramesFromClient(commonAudio, framesToRead, pLockPtr);</div><div class="line"><a name="l06555"></a><span class="lineno"> 6555</span>&#160;                dsoundState.secondaryBuffer-&gt;Unlock(pLockPtr, actualLockSize, pLockPtr2, actualLockSize2);</div><div class="line"><a name="l06556"></a><span class="lineno"> 6556</span>&#160;                dsoundState.lastProcessedFrame = framesToRead;</div><div class="line"><a name="l06557"></a><span class="lineno"> 6557</span>&#160;                <span class="keywordflow">if</span> (FAILED(dsoundState.secondaryBuffer-&gt;Play(0, 0, DSBPLAY_LOOPING))) {</div><div class="line"><a name="l06558"></a><span class="lineno"> 6558</span>&#160;                    <span class="keywordflow">return</span> audio::AudioResult::Failed;</div><div class="line"><a name="l06559"></a><span class="lineno"> 6559</span>&#160;                }</div><div class="line"><a name="l06560"></a><span class="lineno"> 6560</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06561"></a><span class="lineno"> 6561</span>&#160;                <span class="keywordflow">return</span> audio::AudioResult::Failed;</div><div class="line"><a name="l06562"></a><span class="lineno"> 6562</span>&#160;            }</div><div class="line"><a name="l06563"></a><span class="lineno"> 6563</span>&#160;            <span class="keywordflow">return</span> audio::AudioResult::Success;</div><div class="line"><a name="l06564"></a><span class="lineno"> 6564</span>&#160;        }</div><div class="line"><a name="l06565"></a><span class="lineno"> 6565</span>&#160;</div><div class="line"><a name="l06566"></a><span class="lineno"> 6566</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> <span class="keywordtype">void</span> DirectSoundMainLoop(<span class="keyword">const</span> audio::CommonAudioState &amp;commonAudio, DirectSoundState &amp;dsoundState) {</div><div class="line"><a name="l06567"></a><span class="lineno"> 6567</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(commonAudio.internalFormat.channels &gt; 0);</div><div class="line"><a name="l06568"></a><span class="lineno"> 6568</span>&#160;            uint32_t audioSampleSizeBytes = audio::GetAudioSampleSizeInBytes(commonAudio.internalFormat.type);</div><div class="line"><a name="l06569"></a><span class="lineno"> 6569</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(audioSampleSizeBytes &gt; 0);</div><div class="line"><a name="l06570"></a><span class="lineno"> 6570</span>&#160;</div><div class="line"><a name="l06571"></a><span class="lineno"> 6571</span>&#160;            <span class="comment">// Make sure the stop event is not signaled to ensure we don&#39;t end up immediately returning from WaitForMultipleObjects().</span></div><div class="line"><a name="l06572"></a><span class="lineno"> 6572</span>&#160;            ResetEvent(dsoundState.stopEvent);</div><div class="line"><a name="l06573"></a><span class="lineno"> 6573</span>&#160;</div><div class="line"><a name="l06574"></a><span class="lineno"> 6574</span>&#160;            <span class="comment">// Main loop</span></div><div class="line"><a name="l06575"></a><span class="lineno"> 6575</span>&#160;            dsoundState.breakMainLoop = <span class="keyword">false</span>;</div><div class="line"><a name="l06576"></a><span class="lineno"> 6576</span>&#160;            <span class="keywordflow">while</span> (!dsoundState.breakMainLoop) {</div><div class="line"><a name="l06577"></a><span class="lineno"> 6577</span>&#160;                <span class="comment">// Wait until we get available frames from directsound</span></div><div class="line"><a name="l06578"></a><span class="lineno"> 6578</span>&#160;                uint32_t framesAvailable = WaitForFramesDirectSound(commonAudio, dsoundState);</div><div class="line"><a name="l06579"></a><span class="lineno"> 6579</span>&#160;                <span class="keywordflow">if</span> (framesAvailable == 0) {</div><div class="line"><a name="l06580"></a><span class="lineno"> 6580</span>&#160;                    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l06581"></a><span class="lineno"> 6581</span>&#160;                }</div><div class="line"><a name="l06582"></a><span class="lineno"> 6582</span>&#160;</div><div class="line"><a name="l06583"></a><span class="lineno"> 6583</span>&#160;                <span class="comment">// Don&#39;t bother grabbing more data if the device is being stopped.</span></div><div class="line"><a name="l06584"></a><span class="lineno"> 6584</span>&#160;                <span class="keywordflow">if</span> (dsoundState.breakMainLoop) {</div><div class="line"><a name="l06585"></a><span class="lineno"> 6585</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l06586"></a><span class="lineno"> 6586</span>&#160;                }</div><div class="line"><a name="l06587"></a><span class="lineno"> 6587</span>&#160;</div><div class="line"><a name="l06588"></a><span class="lineno"> 6588</span>&#160;                <span class="comment">// Lock playback buffer</span></div><div class="line"><a name="l06589"></a><span class="lineno"> 6589</span>&#160;                DWORD lockOffset = dsoundState.lastProcessedFrame * commonAudio.internalFormat.channels * audioSampleSizeBytes;</div><div class="line"><a name="l06590"></a><span class="lineno"> 6590</span>&#160;                DWORD lockSize = framesAvailable * commonAudio.internalFormat.channels * audioSampleSizeBytes;</div><div class="line"><a name="l06591"></a><span class="lineno"> 6591</span>&#160;                {</div><div class="line"><a name="l06592"></a><span class="lineno"> 6592</span>&#160;                    <span class="keywordtype">void</span>* pLockPtr;</div><div class="line"><a name="l06593"></a><span class="lineno"> 6593</span>&#160;                    DWORD actualLockSize;</div><div class="line"><a name="l06594"></a><span class="lineno"> 6594</span>&#160;                    <span class="keywordtype">void</span>* pLockPtr2;</div><div class="line"><a name="l06595"></a><span class="lineno"> 6595</span>&#160;                    DWORD actualLockSize2;</div><div class="line"><a name="l06596"></a><span class="lineno"> 6596</span>&#160;                    <span class="keywordflow">if</span> (FAILED(dsoundState.secondaryBuffer-&gt;Lock(lockOffset, lockSize, &amp;pLockPtr, &amp;actualLockSize, &amp;pLockPtr2, &amp;actualLockSize2, 0))) {</div><div class="line"><a name="l06597"></a><span class="lineno"> 6597</span>&#160;                        <span class="comment">// @TODO(final): Handle error</span></div><div class="line"><a name="l06598"></a><span class="lineno"> 6598</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l06599"></a><span class="lineno"> 6599</span>&#160;                    }</div><div class="line"><a name="l06600"></a><span class="lineno"> 6600</span>&#160;</div><div class="line"><a name="l06601"></a><span class="lineno"> 6601</span>&#160;                    <span class="comment">// Read actual frames from user</span></div><div class="line"><a name="l06602"></a><span class="lineno"> 6602</span>&#160;                    uint32_t frameCount = actualLockSize / audioSampleSizeBytes / commonAudio.internalFormat.channels;</div><div class="line"><a name="l06603"></a><span class="lineno"> 6603</span>&#160;                    audio::ReadAudioFramesFromClient(commonAudio, frameCount, pLockPtr);</div><div class="line"><a name="l06604"></a><span class="lineno"> 6604</span>&#160;                    dsoundState.lastProcessedFrame = (dsoundState.lastProcessedFrame + frameCount) % commonAudio.internalFormat.bufferSizeInFrames;</div><div class="line"><a name="l06605"></a><span class="lineno"> 6605</span>&#160;</div><div class="line"><a name="l06606"></a><span class="lineno"> 6606</span>&#160;                    <span class="comment">// Unlock playback buffer</span></div><div class="line"><a name="l06607"></a><span class="lineno"> 6607</span>&#160;                    dsoundState.secondaryBuffer-&gt;Unlock(pLockPtr, actualLockSize, pLockPtr2, actualLockSize2);</div><div class="line"><a name="l06608"></a><span class="lineno"> 6608</span>&#160;                }</div><div class="line"><a name="l06609"></a><span class="lineno"> 6609</span>&#160;            }</div><div class="line"><a name="l06610"></a><span class="lineno"> 6610</span>&#160;        }</div><div class="line"><a name="l06611"></a><span class="lineno"> 6611</span>&#160;<span class="preprocessor">#   endif //FPL_ENABLE_AUDIO_DIRECTSOUND</span></div><div class="line"><a name="l06612"></a><span class="lineno"> 6612</span>&#160;</div><div class="line"><a name="l06613"></a><span class="lineno"> 6613</span>&#160;    } <span class="comment">// drivers</span></div><div class="line"><a name="l06614"></a><span class="lineno"> 6614</span>&#160;} <span class="comment">// fpl</span></div><div class="line"><a name="l06615"></a><span class="lineno"> 6615</span>&#160;</div><div class="line"><a name="l06616"></a><span class="lineno"> 6616</span>&#160;<span class="comment">// ****************************************************************************</span></div><div class="line"><a name="l06617"></a><span class="lineno"> 6617</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l06618"></a><span class="lineno"> 6618</span>&#160;<span class="comment">// Platform Independent (Audio)</span></div><div class="line"><a name="l06619"></a><span class="lineno"> 6619</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l06620"></a><span class="lineno"> 6620</span>&#160;<span class="comment">// The audio system is based on a stripped down version of &quot;mini_al.h&quot; by David Reid.</span></div><div class="line"><a name="l06621"></a><span class="lineno"> 6621</span>&#160;<span class="comment">// See: https://github.com/dr-soft/mini_al</span></div><div class="line"><a name="l06622"></a><span class="lineno"> 6622</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l06623"></a><span class="lineno"> 6623</span>&#160;<span class="comment">// ****************************************************************************</span></div><div class="line"><a name="l06624"></a><span class="lineno"> 6624</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacefpl.html">fpl</a> {</div><div class="line"><a name="l06625"></a><span class="lineno"> 6625</span>&#160;</div><div class="line"><a name="l06626"></a><span class="lineno"> 6626</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l06627"></a><span class="lineno"> 6627</span>&#160;<span class="comment">// Audio</span></div><div class="line"><a name="l06628"></a><span class="lineno"> 6628</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l06629"></a><span class="lineno"> 6629</span>&#160;<span class="preprocessor">#if defined(FPL_ENABLE_AUDIO)</span></div><div class="line"><a name="l06630"></a><span class="lineno"> 6630</span>&#160;    <span class="keyword">namespace </span>audio {</div><div class="line"><a name="l06631"></a><span class="lineno"> 6631</span>&#160;        <span class="keyword">namespace </span>AudioDeviceStates {</div><div class="line"><a name="l06632"></a><span class="lineno"> 6632</span>&#160;            <span class="keyword">enum</span> AudioDeviceStateEnum {</div><div class="line"><a name="l06633"></a><span class="lineno"> 6633</span>&#160;                Uninitialized = 0,</div><div class="line"><a name="l06634"></a><span class="lineno"> 6634</span>&#160;                <a class="code" href="namespacefpl_1_1threading_1_1_thread_states.html#a8126df665987eab3a5d4d85806095082a08bcb5e39fc4e240908a1a10cc17ca34">Stopped</a>,</div><div class="line"><a name="l06635"></a><span class="lineno"> 6635</span>&#160;                Started,</div><div class="line"><a name="l06636"></a><span class="lineno"> 6636</span>&#160;                Starting,</div><div class="line"><a name="l06637"></a><span class="lineno"> 6637</span>&#160;                Stopping,</div><div class="line"><a name="l06638"></a><span class="lineno"> 6638</span>&#160;            };</div><div class="line"><a name="l06639"></a><span class="lineno"> 6639</span>&#160;        };</div><div class="line"><a name="l06640"></a><span class="lineno"> 6640</span>&#160;        <span class="keyword">typedef</span> AudioDeviceStates::AudioDeviceStateEnum AudioDeviceState;</div><div class="line"><a name="l06641"></a><span class="lineno"> 6641</span>&#160;</div><div class="line"><a name="l06642"></a><span class="lineno"> 6642</span>&#160;        <span class="keyword">struct </span>AudioState {</div><div class="line"><a name="l06643"></a><span class="lineno"> 6643</span>&#160;            CommonAudioState common;</div><div class="line"><a name="l06644"></a><span class="lineno"> 6644</span>&#160;</div><div class="line"><a name="l06645"></a><span class="lineno"> 6645</span>&#160;            <a class="code" href="structfpl_1_1threading_1_1_thread_mutex.html">threading::ThreadMutex</a> lock;</div><div class="line"><a name="l06646"></a><span class="lineno"> 6646</span>&#160;            <a class="code" href="structfpl_1_1threading_1_1_thread_context.html">threading::ThreadContext</a> *workerThread;</div><div class="line"><a name="l06647"></a><span class="lineno"> 6647</span>&#160;            <a class="code" href="structfpl_1_1threading_1_1_thread_signal.html">threading::ThreadSignal</a> startSignal;</div><div class="line"><a name="l06648"></a><span class="lineno"> 6648</span>&#160;            <a class="code" href="structfpl_1_1threading_1_1_thread_signal.html">threading::ThreadSignal</a> stopSignal;</div><div class="line"><a name="l06649"></a><span class="lineno"> 6649</span>&#160;            <a class="code" href="structfpl_1_1threading_1_1_thread_signal.html">threading::ThreadSignal</a> wakeupSignal;</div><div class="line"><a name="l06650"></a><span class="lineno"> 6650</span>&#160;            <span class="keyword">volatile</span> AudioDeviceState state;</div><div class="line"><a name="l06651"></a><span class="lineno"> 6651</span>&#160;            <span class="keyword">volatile</span> <a class="code" href="namespacefpl_1_1audio_1_1_audio_results.html#aa2612a356f6a8c7001e6e91eb1fd09b0">AudioResult</a> workResult;</div><div class="line"><a name="l06652"></a><span class="lineno"> 6652</span>&#160;</div><div class="line"><a name="l06653"></a><span class="lineno"> 6653</span>&#160;            <a class="code" href="namespacefpl_1_1_audio_driver_types.html#afb8583e0947d11e4ec9479717912b82e">AudioDriverType</a> activeDriver;</div><div class="line"><a name="l06654"></a><span class="lineno"> 6654</span>&#160;            uint32_t periods;</div><div class="line"><a name="l06655"></a><span class="lineno"> 6655</span>&#160;            uint32_t bufferSizeInFrames;</div><div class="line"><a name="l06656"></a><span class="lineno"> 6656</span>&#160;            uint32_t bufferSizeInBytes;</div><div class="line"><a name="l06657"></a><span class="lineno"> 6657</span>&#160;            <span class="keywordtype">bool</span> isAsyncDriver;</div><div class="line"><a name="l06658"></a><span class="lineno"> 6658</span>&#160;</div><div class="line"><a name="l06659"></a><span class="lineno"> 6659</span>&#160;            <span class="keyword">union </span>{</div><div class="line"><a name="l06660"></a><span class="lineno"> 6660</span>&#160;<span class="preprocessor">#           if defined(FPL_ENABLE_AUDIO_DIRECTSOUND)</span></div><div class="line"><a name="l06661"></a><span class="lineno"> 6661</span>&#160;                drivers::DirectSoundState dsound;</div><div class="line"><a name="l06662"></a><span class="lineno"> 6662</span>&#160;<span class="preprocessor">#           endif</span></div><div class="line"><a name="l06663"></a><span class="lineno"> 6663</span>&#160;            };</div><div class="line"><a name="l06664"></a><span class="lineno"> 6664</span>&#160;        };</div><div class="line"><a name="l06665"></a><span class="lineno"> 6665</span>&#160;</div><div class="line"><a name="l06666"></a><span class="lineno"> 6666</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a15247947df186e1a456e037388e619a7">fpl_globalvar</a> AudioState global__Audio__State = {};</div><div class="line"><a name="l06667"></a><span class="lineno"> 6667</span>&#160;</div><div class="line"><a name="l06668"></a><span class="lineno"> 6668</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> <span class="keywordtype">void</span> AudioDeviceStopMainLoop(AudioState &amp;audioState) {</div><div class="line"><a name="l06669"></a><span class="lineno"> 6669</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(audioState.activeDriver &gt; AudioDriverType::Auto);</div><div class="line"><a name="l06670"></a><span class="lineno"> 6670</span>&#160;            <span class="keywordflow">switch</span> (audioState.activeDriver) {</div><div class="line"><a name="l06671"></a><span class="lineno"> 6671</span>&#160;</div><div class="line"><a name="l06672"></a><span class="lineno"> 6672</span>&#160;<span class="preprocessor">#           if defined(FPL_ENABLE_AUDIO_DIRECTSOUND)</span></div><div class="line"><a name="l06673"></a><span class="lineno"> 6673</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespacefpl_1_1_audio_driver_types.html#afb8583e0947d11e4ec9479717912b82ea4bfffe090b40bd9fe6ea5713c5a614da">AudioDriverType::DirectSound</a>:</div><div class="line"><a name="l06674"></a><span class="lineno"> 6674</span>&#160;                {</div><div class="line"><a name="l06675"></a><span class="lineno"> 6675</span>&#160;                    StopMainLoopDirectSound(audioState.dsound);</div><div class="line"><a name="l06676"></a><span class="lineno"> 6676</span>&#160;                } <span class="keywordflow">break</span>;</div><div class="line"><a name="l06677"></a><span class="lineno"> 6677</span>&#160;<span class="preprocessor">#           endif</span></div><div class="line"><a name="l06678"></a><span class="lineno"> 6678</span>&#160;</div><div class="line"><a name="l06679"></a><span class="lineno"> 6679</span>&#160;                <span class="keywordflow">default</span>:</div><div class="line"><a name="l06680"></a><span class="lineno"> 6680</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l06681"></a><span class="lineno"> 6681</span>&#160;            }</div><div class="line"><a name="l06682"></a><span class="lineno"> 6682</span>&#160;        }</div><div class="line"><a name="l06683"></a><span class="lineno"> 6683</span>&#160;</div><div class="line"><a name="l06684"></a><span class="lineno"> 6684</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> <span class="keywordtype">bool</span> AudioReleaseDevice(AudioState &amp;audioState) {</div><div class="line"><a name="l06685"></a><span class="lineno"> 6685</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(audioState.activeDriver &gt; AudioDriverType::Auto);</div><div class="line"><a name="l06686"></a><span class="lineno"> 6686</span>&#160;            <span class="keywordtype">bool</span> result = <span class="keyword">false</span>;</div><div class="line"><a name="l06687"></a><span class="lineno"> 6687</span>&#160;            <span class="keywordflow">switch</span> (audioState.activeDriver) {</div><div class="line"><a name="l06688"></a><span class="lineno"> 6688</span>&#160;</div><div class="line"><a name="l06689"></a><span class="lineno"> 6689</span>&#160;<span class="preprocessor">#           if defined(FPL_ENABLE_AUDIO_DIRECTSOUND)</span></div><div class="line"><a name="l06690"></a><span class="lineno"> 6690</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespacefpl_1_1_audio_driver_types.html#afb8583e0947d11e4ec9479717912b82ea4bfffe090b40bd9fe6ea5713c5a614da">AudioDriverType::DirectSound</a>:</div><div class="line"><a name="l06691"></a><span class="lineno"> 6691</span>&#160;                {</div><div class="line"><a name="l06692"></a><span class="lineno"> 6692</span>&#160;                    result = ReleaseDirectSound(audioState.common, audioState.dsound);</div><div class="line"><a name="l06693"></a><span class="lineno"> 6693</span>&#160;                } <span class="keywordflow">break</span>;</div><div class="line"><a name="l06694"></a><span class="lineno"> 6694</span>&#160;<span class="preprocessor">#           endif</span></div><div class="line"><a name="l06695"></a><span class="lineno"> 6695</span>&#160;</div><div class="line"><a name="l06696"></a><span class="lineno"> 6696</span>&#160;                <span class="keywordflow">default</span>:</div><div class="line"><a name="l06697"></a><span class="lineno"> 6697</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l06698"></a><span class="lineno"> 6698</span>&#160;            }</div><div class="line"><a name="l06699"></a><span class="lineno"> 6699</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l06700"></a><span class="lineno"> 6700</span>&#160;        }</div><div class="line"><a name="l06701"></a><span class="lineno"> 6701</span>&#160;</div><div class="line"><a name="l06702"></a><span class="lineno"> 6702</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> <span class="keywordtype">bool</span> AudioStopDevice(AudioState &amp;audioState) {</div><div class="line"><a name="l06703"></a><span class="lineno"> 6703</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(audioState.activeDriver &gt; AudioDriverType::Auto);</div><div class="line"><a name="l06704"></a><span class="lineno"> 6704</span>&#160;            <span class="keywordtype">bool</span> result = <span class="keyword">false</span>;</div><div class="line"><a name="l06705"></a><span class="lineno"> 6705</span>&#160;            <span class="keywordflow">switch</span> (audioState.activeDriver) {</div><div class="line"><a name="l06706"></a><span class="lineno"> 6706</span>&#160;</div><div class="line"><a name="l06707"></a><span class="lineno"> 6707</span>&#160;<span class="preprocessor">#           if defined(FPL_ENABLE_AUDIO_DIRECTSOUND)</span></div><div class="line"><a name="l06708"></a><span class="lineno"> 6708</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespacefpl_1_1_audio_driver_types.html#afb8583e0947d11e4ec9479717912b82ea4bfffe090b40bd9fe6ea5713c5a614da">AudioDriverType::DirectSound</a>:</div><div class="line"><a name="l06709"></a><span class="lineno"> 6709</span>&#160;                {</div><div class="line"><a name="l06710"></a><span class="lineno"> 6710</span>&#160;                    result = StopDirectSound(audioState.dsound);</div><div class="line"><a name="l06711"></a><span class="lineno"> 6711</span>&#160;                } <span class="keywordflow">break</span>;</div><div class="line"><a name="l06712"></a><span class="lineno"> 6712</span>&#160;<span class="preprocessor">#           endif</span></div><div class="line"><a name="l06713"></a><span class="lineno"> 6713</span>&#160;</div><div class="line"><a name="l06714"></a><span class="lineno"> 6714</span>&#160;                <span class="keywordflow">default</span>:</div><div class="line"><a name="l06715"></a><span class="lineno"> 6715</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l06716"></a><span class="lineno"> 6716</span>&#160;            }</div><div class="line"><a name="l06717"></a><span class="lineno"> 6717</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l06718"></a><span class="lineno"> 6718</span>&#160;        }</div><div class="line"><a name="l06719"></a><span class="lineno"> 6719</span>&#160;</div><div class="line"><a name="l06720"></a><span class="lineno"> 6720</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> <a class="code" href="namespacefpl_1_1audio_1_1_audio_results.html#aa2612a356f6a8c7001e6e91eb1fd09b0">AudioResult</a> AudioStartDevice(AudioState &amp;audioState) {</div><div class="line"><a name="l06721"></a><span class="lineno"> 6721</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(audioState.activeDriver &gt; AudioDriverType::Auto);</div><div class="line"><a name="l06722"></a><span class="lineno"> 6722</span>&#160;            <a class="code" href="namespacefpl_1_1audio_1_1_audio_results.html#aa2612a356f6a8c7001e6e91eb1fd09b0">AudioResult</a> result = AudioResult::Failed;</div><div class="line"><a name="l06723"></a><span class="lineno"> 6723</span>&#160;            <span class="keywordflow">switch</span> (audioState.activeDriver) {</div><div class="line"><a name="l06724"></a><span class="lineno"> 6724</span>&#160;</div><div class="line"><a name="l06725"></a><span class="lineno"> 6725</span>&#160;<span class="preprocessor">#           if defined(FPL_ENABLE_AUDIO_DIRECTSOUND)</span></div><div class="line"><a name="l06726"></a><span class="lineno"> 6726</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespacefpl_1_1_audio_driver_types.html#afb8583e0947d11e4ec9479717912b82ea4bfffe090b40bd9fe6ea5713c5a614da">AudioDriverType::DirectSound</a>:</div><div class="line"><a name="l06727"></a><span class="lineno"> 6727</span>&#160;                {</div><div class="line"><a name="l06728"></a><span class="lineno"> 6728</span>&#160;                    result = StartDirectSound(audioState.common, audioState.dsound);</div><div class="line"><a name="l06729"></a><span class="lineno"> 6729</span>&#160;                } <span class="keywordflow">break</span>;</div><div class="line"><a name="l06730"></a><span class="lineno"> 6730</span>&#160;<span class="preprocessor">#           endif</span></div><div class="line"><a name="l06731"></a><span class="lineno"> 6731</span>&#160;</div><div class="line"><a name="l06732"></a><span class="lineno"> 6732</span>&#160;                <span class="keywordflow">default</span>:</div><div class="line"><a name="l06733"></a><span class="lineno"> 6733</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l06734"></a><span class="lineno"> 6734</span>&#160;            }</div><div class="line"><a name="l06735"></a><span class="lineno"> 6735</span>&#160;            <span class="keywordflow">return</span> (result);</div><div class="line"><a name="l06736"></a><span class="lineno"> 6736</span>&#160;        }</div><div class="line"><a name="l06737"></a><span class="lineno"> 6737</span>&#160;</div><div class="line"><a name="l06738"></a><span class="lineno"> 6738</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> <span class="keywordtype">void</span> AudioDeviceMainLoop(AudioState &amp;audioState) {</div><div class="line"><a name="l06739"></a><span class="lineno"> 6739</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(audioState.activeDriver &gt; AudioDriverType::Auto);</div><div class="line"><a name="l06740"></a><span class="lineno"> 6740</span>&#160;            <span class="keywordflow">switch</span> (audioState.activeDriver) {</div><div class="line"><a name="l06741"></a><span class="lineno"> 6741</span>&#160;</div><div class="line"><a name="l06742"></a><span class="lineno"> 6742</span>&#160;<span class="preprocessor">#           if defined(FPL_ENABLE_AUDIO_DIRECTSOUND)</span></div><div class="line"><a name="l06743"></a><span class="lineno"> 6743</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespacefpl_1_1_audio_driver_types.html#afb8583e0947d11e4ec9479717912b82ea4bfffe090b40bd9fe6ea5713c5a614da">AudioDriverType::DirectSound</a>:</div><div class="line"><a name="l06744"></a><span class="lineno"> 6744</span>&#160;                {</div><div class="line"><a name="l06745"></a><span class="lineno"> 6745</span>&#160;                    DirectSoundMainLoop(audioState.common, audioState.dsound);</div><div class="line"><a name="l06746"></a><span class="lineno"> 6746</span>&#160;                } <span class="keywordflow">break</span>;</div><div class="line"><a name="l06747"></a><span class="lineno"> 6747</span>&#160;<span class="preprocessor">#           endif</span></div><div class="line"><a name="l06748"></a><span class="lineno"> 6748</span>&#160;</div><div class="line"><a name="l06749"></a><span class="lineno"> 6749</span>&#160;                <span class="keywordflow">default</span>:</div><div class="line"><a name="l06750"></a><span class="lineno"> 6750</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l06751"></a><span class="lineno"> 6751</span>&#160;            }</div><div class="line"><a name="l06752"></a><span class="lineno"> 6752</span>&#160;        }</div><div class="line"><a name="l06753"></a><span class="lineno"> 6753</span>&#160;</div><div class="line"><a name="l06754"></a><span class="lineno"> 6754</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a2cde79ef58944162158c81a4d5b754dd">fpl_internal_inline</a> <span class="keywordtype">bool</span> IsAudioDriverAsync(<a class="code" href="namespacefpl_1_1_audio_driver_types.html#afb8583e0947d11e4ec9479717912b82e">AudioDriverType</a> audioDriver) {</div><div class="line"><a name="l06755"></a><span class="lineno"> 6755</span>&#160;            <span class="keywordflow">switch</span> (audioDriver) {</div><div class="line"><a name="l06756"></a><span class="lineno"> 6756</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="namespacefpl_1_1_audio_driver_types.html#afb8583e0947d11e4ec9479717912b82ea4bfffe090b40bd9fe6ea5713c5a614da">AudioDriverType::DirectSound</a>:</div><div class="line"><a name="l06757"></a><span class="lineno"> 6757</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l06758"></a><span class="lineno"> 6758</span>&#160;                <span class="keywordflow">default</span>:</div><div class="line"><a name="l06759"></a><span class="lineno"> 6759</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l06760"></a><span class="lineno"> 6760</span>&#160;            }</div><div class="line"><a name="l06761"></a><span class="lineno"> 6761</span>&#160;        }</div><div class="line"><a name="l06762"></a><span class="lineno"> 6762</span>&#160;</div><div class="line"><a name="l06763"></a><span class="lineno"> 6763</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a2cde79ef58944162158c81a4d5b754dd">fpl_internal_inline</a> <span class="keywordtype">void</span> AudioSetDeviceState(AudioState &amp;audioState, AudioDeviceState newState) {</div><div class="line"><a name="l06764"></a><span class="lineno"> 6764</span>&#160;            <a class="code" href="group___atomics.html#ga01905a5db859475f4b394ed469af0c5a">atomics::AtomicStoreU32</a>((<span class="keyword">volatile</span> uint32_t *)&amp;audioState.state, (uint32_t)newState);</div><div class="line"><a name="l06765"></a><span class="lineno"> 6765</span>&#160;        }</div><div class="line"><a name="l06766"></a><span class="lineno"> 6766</span>&#160;</div><div class="line"><a name="l06767"></a><span class="lineno"> 6767</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a2cde79ef58944162158c81a4d5b754dd">fpl_internal_inline</a> AudioDeviceState AudioGetDeviceState(AudioState &amp;audioState) {</div><div class="line"><a name="l06768"></a><span class="lineno"> 6768</span>&#160;            AudioDeviceState result = (AudioDeviceState)<a class="code" href="group___atomics.html#ga2460e7047ec012a5859992fbf05aa29f">atomics::AtomicLoadU32</a>((<span class="keyword">volatile</span> uint32_t *)&amp;audioState.state);</div><div class="line"><a name="l06769"></a><span class="lineno"> 6769</span>&#160;            <span class="keywordflow">return</span>(result);</div><div class="line"><a name="l06770"></a><span class="lineno"> 6770</span>&#160;        }</div><div class="line"><a name="l06771"></a><span class="lineno"> 6771</span>&#160;</div><div class="line"><a name="l06772"></a><span class="lineno"> 6772</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a2cde79ef58944162158c81a4d5b754dd">fpl_internal_inline</a> <span class="keywordtype">bool</span> IsAudioDeviceInitialized(AudioState *audioState) {</div><div class="line"><a name="l06773"></a><span class="lineno"> 6773</span>&#160;            <span class="keywordflow">if</span> (audioState == <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l06774"></a><span class="lineno"> 6774</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l06775"></a><span class="lineno"> 6775</span>&#160;            }</div><div class="line"><a name="l06776"></a><span class="lineno"> 6776</span>&#160;            AudioDeviceState state = AudioGetDeviceState(*audioState);</div><div class="line"><a name="l06777"></a><span class="lineno"> 6777</span>&#160;            <span class="keywordflow">return</span>(state != AudioDeviceState::Uninitialized);</div><div class="line"><a name="l06778"></a><span class="lineno"> 6778</span>&#160;        }</div><div class="line"><a name="l06779"></a><span class="lineno"> 6779</span>&#160;</div><div class="line"><a name="l06780"></a><span class="lineno"> 6780</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a2cde79ef58944162158c81a4d5b754dd">fpl_internal_inline</a> <span class="keywordtype">bool</span> IsAudioDeviceStarted(AudioState *audioState) {</div><div class="line"><a name="l06781"></a><span class="lineno"> 6781</span>&#160;            <span class="keywordflow">if</span> (audioState == <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l06782"></a><span class="lineno"> 6782</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l06783"></a><span class="lineno"> 6783</span>&#160;            }</div><div class="line"><a name="l06784"></a><span class="lineno"> 6784</span>&#160;            AudioDeviceState state = AudioGetDeviceState(*audioState);</div><div class="line"><a name="l06785"></a><span class="lineno"> 6785</span>&#160;            <span class="keywordflow">return</span>(state == AudioDeviceState::Started);</div><div class="line"><a name="l06786"></a><span class="lineno"> 6786</span>&#160;        }</div><div class="line"><a name="l06787"></a><span class="lineno"> 6787</span>&#160;</div><div class="line"><a name="l06788"></a><span class="lineno"> 6788</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> <span class="keywordtype">void</span> AudioWorkerThread(<span class="keyword">const</span> <a class="code" href="structfpl_1_1threading_1_1_thread_context.html">threading::ThreadContext</a> &amp;context, <span class="keywordtype">void</span> *data) {</div><div class="line"><a name="l06789"></a><span class="lineno"> 6789</span>&#160;            AudioState *audioState = (AudioState *)data;</div><div class="line"><a name="l06790"></a><span class="lineno"> 6790</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(audioState != <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>);</div><div class="line"><a name="l06791"></a><span class="lineno"> 6791</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(audioState-&gt;activeDriver != <a class="code" href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6afc310a3cf2b78b9d8ac95038bacb25c7">AudioDriverType::None</a>);</div><div class="line"><a name="l06792"></a><span class="lineno"> 6792</span>&#160;</div><div class="line"><a name="l06793"></a><span class="lineno"> 6793</span>&#160;<span class="preprocessor">#       if defined(FPL_PLATFORM_WIN32)</span></div><div class="line"><a name="l06794"></a><span class="lineno"> 6794</span>&#160;            platform::global__Win32__API__Functions.ole.coInitializeEx(<a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, 0);</div><div class="line"><a name="l06795"></a><span class="lineno"> 6795</span>&#160;<span class="preprocessor">#       endif</span></div><div class="line"><a name="l06796"></a><span class="lineno"> 6796</span>&#160;</div><div class="line"><a name="l06797"></a><span class="lineno"> 6797</span>&#160;            <span class="comment">// This is only used to prevent posting onStop() when the device is first initialized.</span></div><div class="line"><a name="l06798"></a><span class="lineno"> 6798</span>&#160;            <span class="keywordtype">bool</span> skipNextStopEvent = <span class="keyword">true</span>;</div><div class="line"><a name="l06799"></a><span class="lineno"> 6799</span>&#160;</div><div class="line"><a name="l06800"></a><span class="lineno"> 6800</span>&#160;            <span class="keywordflow">for</span> (;;) {</div><div class="line"><a name="l06801"></a><span class="lineno"> 6801</span>&#160;                <span class="comment">// At the start of iteration the device is stopped - we must explicitly mark it as such.</span></div><div class="line"><a name="l06802"></a><span class="lineno"> 6802</span>&#160;                AudioStopDevice(*audioState);</div><div class="line"><a name="l06803"></a><span class="lineno"> 6803</span>&#160;</div><div class="line"><a name="l06804"></a><span class="lineno"> 6804</span>&#160;                <span class="keywordflow">if</span> (!skipNextStopEvent) {</div><div class="line"><a name="l06805"></a><span class="lineno"> 6805</span>&#160;                    <span class="comment">// @TODO(final): Call stop callback to notify client</span></div><div class="line"><a name="l06806"></a><span class="lineno"> 6806</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06807"></a><span class="lineno"> 6807</span>&#160;                    skipNextStopEvent = <span class="keyword">false</span>;</div><div class="line"><a name="l06808"></a><span class="lineno"> 6808</span>&#160;                }</div><div class="line"><a name="l06809"></a><span class="lineno"> 6809</span>&#160;</div><div class="line"><a name="l06810"></a><span class="lineno"> 6810</span>&#160;</div><div class="line"><a name="l06811"></a><span class="lineno"> 6811</span>&#160;                <span class="comment">// Let the other threads know that the device has stopped.</span></div><div class="line"><a name="l06812"></a><span class="lineno"> 6812</span>&#160;                AudioSetDeviceState(*audioState, <a class="code" href="namespacefpl_1_1threading_1_1_thread_states.html#a8126df665987eab3a5d4d85806095082a08bcb5e39fc4e240908a1a10cc17ca34">AudioDeviceState::Stopped</a>);</div><div class="line"><a name="l06813"></a><span class="lineno"> 6813</span>&#160;                <a class="code" href="group___threading.html#gadf5a26ce3c88ba521a6a291e2ee956f7">threading::SignalWakeUp</a>(audioState-&gt;stopSignal);</div><div class="line"><a name="l06814"></a><span class="lineno"> 6814</span>&#160;</div><div class="line"><a name="l06815"></a><span class="lineno"> 6815</span>&#160;                <span class="comment">// We use an event to wait for a request to wake up.</span></div><div class="line"><a name="l06816"></a><span class="lineno"> 6816</span>&#160;                <a class="code" href="group___threading.html#ga794026517242c2a47581bb2d2cb8c88c">threading::SignalWaitForOne</a>(audioState-&gt;wakeupSignal);</div><div class="line"><a name="l06817"></a><span class="lineno"> 6817</span>&#160;</div><div class="line"><a name="l06818"></a><span class="lineno"> 6818</span>&#160;                <span class="comment">// Default result code.</span></div><div class="line"><a name="l06819"></a><span class="lineno"> 6819</span>&#160;                audioState-&gt;workResult = AudioResult::Success;</div><div class="line"><a name="l06820"></a><span class="lineno"> 6820</span>&#160;</div><div class="line"><a name="l06821"></a><span class="lineno"> 6821</span>&#160;                <span class="comment">// Just break if we&#39;re terminating.</span></div><div class="line"><a name="l06822"></a><span class="lineno"> 6822</span>&#160;                <span class="keywordflow">if</span> (AudioGetDeviceState(*audioState) == AudioDeviceState::Uninitialized) {</div><div class="line"><a name="l06823"></a><span class="lineno"> 6823</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l06824"></a><span class="lineno"> 6824</span>&#160;                }</div><div class="line"><a name="l06825"></a><span class="lineno"> 6825</span>&#160;</div><div class="line"><a name="l06826"></a><span class="lineno"> 6826</span>&#160;                <span class="comment">// Getting here means we just started the device and we need to wait for the device to request more data.</span></div><div class="line"><a name="l06827"></a><span class="lineno"> 6827</span>&#160;                <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(AudioGetDeviceState(*audioState) == AudioDeviceState::Starting);</div><div class="line"><a name="l06828"></a><span class="lineno"> 6828</span>&#160;</div><div class="line"><a name="l06829"></a><span class="lineno"> 6829</span>&#160;                audioState-&gt;workResult = AudioStartDevice(*audioState);</div><div class="line"><a name="l06830"></a><span class="lineno"> 6830</span>&#160;                <span class="keywordflow">if</span> (audioState-&gt;workResult != AudioResult::Success) {</div><div class="line"><a name="l06831"></a><span class="lineno"> 6831</span>&#160;                    <a class="code" href="group___threading.html#gadf5a26ce3c88ba521a6a291e2ee956f7">threading::SignalWakeUp</a>(audioState-&gt;startSignal);</div><div class="line"><a name="l06832"></a><span class="lineno"> 6832</span>&#160;                    <span class="keywordflow">continue</span>;</div><div class="line"><a name="l06833"></a><span class="lineno"> 6833</span>&#160;                }</div><div class="line"><a name="l06834"></a><span class="lineno"> 6834</span>&#160;</div><div class="line"><a name="l06835"></a><span class="lineno"> 6835</span>&#160;                <span class="comment">// The thread that requested the device to start playing is waiting for this thread to start the device for real, which is now.</span></div><div class="line"><a name="l06836"></a><span class="lineno"> 6836</span>&#160;                AudioSetDeviceState(*audioState, AudioDeviceState::Started);</div><div class="line"><a name="l06837"></a><span class="lineno"> 6837</span>&#160;                <a class="code" href="group___threading.html#gadf5a26ce3c88ba521a6a291e2ee956f7">threading::SignalWakeUp</a>(audioState-&gt;startSignal);</div><div class="line"><a name="l06838"></a><span class="lineno"> 6838</span>&#160;</div><div class="line"><a name="l06839"></a><span class="lineno"> 6839</span>&#160;                <span class="comment">// Now we just enter the main loop.</span></div><div class="line"><a name="l06840"></a><span class="lineno"> 6840</span>&#160;                AudioDeviceMainLoop(*audioState);</div><div class="line"><a name="l06841"></a><span class="lineno"> 6841</span>&#160;            }</div><div class="line"><a name="l06842"></a><span class="lineno"> 6842</span>&#160;</div><div class="line"><a name="l06843"></a><span class="lineno"> 6843</span>&#160;            <span class="comment">// Make sure we aren&#39;t continuously waiting on a stop event.</span></div><div class="line"><a name="l06844"></a><span class="lineno"> 6844</span>&#160;            <a class="code" href="group___threading.html#gadf5a26ce3c88ba521a6a291e2ee956f7">threading::SignalWakeUp</a>(audioState-&gt;stopSignal);</div><div class="line"><a name="l06845"></a><span class="lineno"> 6845</span>&#160;</div><div class="line"><a name="l06846"></a><span class="lineno"> 6846</span>&#160;<span class="preprocessor">#       if defined(FPL_PLATFORM_WIN32)</span></div><div class="line"><a name="l06847"></a><span class="lineno"> 6847</span>&#160;            platform::global__Win32__API__Functions.ole.coUninitialize();</div><div class="line"><a name="l06848"></a><span class="lineno"> 6848</span>&#160;<span class="preprocessor">#       endif</span></div><div class="line"><a name="l06849"></a><span class="lineno"> 6849</span>&#160;        }</div><div class="line"><a name="l06850"></a><span class="lineno"> 6850</span>&#160;</div><div class="line"><a name="l06851"></a><span class="lineno"> 6851</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <a class="code" href="namespacefpl_1_1audio_1_1_audio_results.html#aa2612a356f6a8c7001e6e91eb1fd09b0">AudioResult</a> <a class="code" href="group___audio.html#ga7c7306211763682dc822438ca375933d">StopAudio</a>() {</div><div class="line"><a name="l06852"></a><span class="lineno"> 6852</span>&#160;            AudioState *audioState = &amp;global__Audio__State;</div><div class="line"><a name="l06853"></a><span class="lineno"> 6853</span>&#160;</div><div class="line"><a name="l06854"></a><span class="lineno"> 6854</span>&#160;            <span class="keywordflow">if</span> (AudioGetDeviceState(*audioState) == AudioDeviceState::Uninitialized) {</div><div class="line"><a name="l06855"></a><span class="lineno"> 6855</span>&#160;                <span class="keywordflow">return</span> AudioResult::DeviceNotInitialized;</div><div class="line"><a name="l06856"></a><span class="lineno"> 6856</span>&#160;            }</div><div class="line"><a name="l06857"></a><span class="lineno"> 6857</span>&#160;</div><div class="line"><a name="l06858"></a><span class="lineno"> 6858</span>&#160;            <a class="code" href="namespacefpl_1_1audio_1_1_audio_results.html#aa2612a356f6a8c7001e6e91eb1fd09b0">AudioResult</a> result = AudioResult::Failed;</div><div class="line"><a name="l06859"></a><span class="lineno"> 6859</span>&#160;            <a class="code" href="group___threading.html#ga0126a46029f274634d90437fe39564b7">MutexLock</a>(audioState-&gt;lock);</div><div class="line"><a name="l06860"></a><span class="lineno"> 6860</span>&#160;            {</div><div class="line"><a name="l06861"></a><span class="lineno"> 6861</span>&#160;                <span class="comment">// Check if the device is already stopped</span></div><div class="line"><a name="l06862"></a><span class="lineno"> 6862</span>&#160;                <span class="keywordflow">if</span> (AudioGetDeviceState(*audioState) == AudioDeviceState::Stopping) {</div><div class="line"><a name="l06863"></a><span class="lineno"> 6863</span>&#160;                    <a class="code" href="group___threading.html#gab2f18851290d803349ef71c1aa78b493">MutexUnlock</a>(audioState-&gt;lock);</div><div class="line"><a name="l06864"></a><span class="lineno"> 6864</span>&#160;                    <span class="keywordflow">return</span> AudioResult::DeviceAlreadyStopped;</div><div class="line"><a name="l06865"></a><span class="lineno"> 6865</span>&#160;                }</div><div class="line"><a name="l06866"></a><span class="lineno"> 6866</span>&#160;                <span class="keywordflow">if</span> (AudioGetDeviceState(*audioState) == <a class="code" href="namespacefpl_1_1threading_1_1_thread_states.html#a8126df665987eab3a5d4d85806095082a08bcb5e39fc4e240908a1a10cc17ca34">AudioDeviceState::Stopped</a>) {</div><div class="line"><a name="l06867"></a><span class="lineno"> 6867</span>&#160;                    <a class="code" href="group___threading.html#gab2f18851290d803349ef71c1aa78b493">MutexUnlock</a>(audioState-&gt;lock);</div><div class="line"><a name="l06868"></a><span class="lineno"> 6868</span>&#160;                    <span class="keywordflow">return</span> AudioResult::DeviceAlreadyStopped;</div><div class="line"><a name="l06869"></a><span class="lineno"> 6869</span>&#160;                }</div><div class="line"><a name="l06870"></a><span class="lineno"> 6870</span>&#160;</div><div class="line"><a name="l06871"></a><span class="lineno"> 6871</span>&#160;                <span class="comment">// The device needs to be in a started state. If it&#39;s not, we just let the caller know the device is busy.</span></div><div class="line"><a name="l06872"></a><span class="lineno"> 6872</span>&#160;                <span class="keywordflow">if</span> (AudioGetDeviceState(*audioState) != AudioDeviceState::Started) {</div><div class="line"><a name="l06873"></a><span class="lineno"> 6873</span>&#160;                    <a class="code" href="group___threading.html#gab2f18851290d803349ef71c1aa78b493">MutexUnlock</a>(audioState-&gt;lock);</div><div class="line"><a name="l06874"></a><span class="lineno"> 6874</span>&#160;                    <span class="keywordflow">return</span> AudioResult::DeviceBusy;</div><div class="line"><a name="l06875"></a><span class="lineno"> 6875</span>&#160;                }</div><div class="line"><a name="l06876"></a><span class="lineno"> 6876</span>&#160;</div><div class="line"><a name="l06877"></a><span class="lineno"> 6877</span>&#160;                AudioSetDeviceState(*audioState, AudioDeviceState::Stopping);</div><div class="line"><a name="l06878"></a><span class="lineno"> 6878</span>&#160;</div><div class="line"><a name="l06879"></a><span class="lineno"> 6879</span>&#160;                <span class="keywordflow">if</span> (audioState-&gt;isAsyncDriver) {</div><div class="line"><a name="l06880"></a><span class="lineno"> 6880</span>&#160;                    <span class="comment">// Asynchronous drivers (Has their own thread)</span></div><div class="line"><a name="l06881"></a><span class="lineno"> 6881</span>&#160;                    AudioStopDevice(*audioState);</div><div class="line"><a name="l06882"></a><span class="lineno"> 6882</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06883"></a><span class="lineno"> 6883</span>&#160;                    <span class="comment">// Synchronous drivers</span></div><div class="line"><a name="l06884"></a><span class="lineno"> 6884</span>&#160;</div><div class="line"><a name="l06885"></a><span class="lineno"> 6885</span>&#160;                    <span class="comment">// When we get here the worker thread is likely in a wait state while waiting for the backend device to request audio data. We need to force these to return as quickly as possible.</span></div><div class="line"><a name="l06886"></a><span class="lineno"> 6886</span>&#160;                    AudioDeviceStopMainLoop(*audioState);</div><div class="line"><a name="l06887"></a><span class="lineno"> 6887</span>&#160;</div><div class="line"><a name="l06888"></a><span class="lineno"> 6888</span>&#160;                    <span class="comment">// We need to wait for the worker thread to become available for work before returning.</span></div><div class="line"><a name="l06889"></a><span class="lineno"> 6889</span>&#160;                    <span class="comment">// Note that the worker thread will be the one who puts the device into the stopped state.</span></div><div class="line"><a name="l06890"></a><span class="lineno"> 6890</span>&#160;                    <a class="code" href="group___threading.html#ga794026517242c2a47581bb2d2cb8c88c">SignalWaitForOne</a>(audioState-&gt;stopSignal);</div><div class="line"><a name="l06891"></a><span class="lineno"> 6891</span>&#160;                    result = AudioResult::Success;</div><div class="line"><a name="l06892"></a><span class="lineno"> 6892</span>&#160;                }</div><div class="line"><a name="l06893"></a><span class="lineno"> 6893</span>&#160;            }</div><div class="line"><a name="l06894"></a><span class="lineno"> 6894</span>&#160;            <a class="code" href="group___threading.html#gab2f18851290d803349ef71c1aa78b493">MutexUnlock</a>(audioState-&gt;lock);</div><div class="line"><a name="l06895"></a><span class="lineno"> 6895</span>&#160;</div><div class="line"><a name="l06896"></a><span class="lineno"> 6896</span>&#160;            <span class="keywordflow">return</span> result;</div><div class="line"><a name="l06897"></a><span class="lineno"> 6897</span>&#160;        }</div><div class="line"><a name="l06898"></a><span class="lineno"> 6898</span>&#160;</div><div class="line"><a name="l06899"></a><span class="lineno"> 6899</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <a class="code" href="namespacefpl_1_1audio_1_1_audio_results.html#aa2612a356f6a8c7001e6e91eb1fd09b0">AudioResult</a> <a class="code" href="group___audio.html#gad879b8c42a68250a581a7d5347e3b3e0">PlayAudio</a>() {</div><div class="line"><a name="l06900"></a><span class="lineno"> 6900</span>&#160;            AudioState *audioState = &amp;global__Audio__State;</div><div class="line"><a name="l06901"></a><span class="lineno"> 6901</span>&#160;</div><div class="line"><a name="l06902"></a><span class="lineno"> 6902</span>&#160;            <span class="keywordflow">if</span> (!IsAudioDeviceInitialized(audioState)) {</div><div class="line"><a name="l06903"></a><span class="lineno"> 6903</span>&#160;                <span class="keywordflow">return</span> AudioResult::DeviceNotInitialized;</div><div class="line"><a name="l06904"></a><span class="lineno"> 6904</span>&#160;            }</div><div class="line"><a name="l06905"></a><span class="lineno"> 6905</span>&#160;</div><div class="line"><a name="l06906"></a><span class="lineno"> 6906</span>&#160;            <a class="code" href="namespacefpl_1_1audio_1_1_audio_results.html#aa2612a356f6a8c7001e6e91eb1fd09b0">AudioResult</a> result = AudioResult::Failed;</div><div class="line"><a name="l06907"></a><span class="lineno"> 6907</span>&#160;            <a class="code" href="group___threading.html#ga0126a46029f274634d90437fe39564b7">MutexLock</a>(audioState-&gt;lock);</div><div class="line"><a name="l06908"></a><span class="lineno"> 6908</span>&#160;            {</div><div class="line"><a name="l06909"></a><span class="lineno"> 6909</span>&#160;                <span class="comment">// Be a bit more descriptive if the device is already started or is already in the process of starting.</span></div><div class="line"><a name="l06910"></a><span class="lineno"> 6910</span>&#160;                <span class="keywordflow">if</span> (AudioGetDeviceState(*audioState) == AudioDeviceState::Starting) {</div><div class="line"><a name="l06911"></a><span class="lineno"> 6911</span>&#160;                    <a class="code" href="group___threading.html#gab2f18851290d803349ef71c1aa78b493">MutexUnlock</a>(audioState-&gt;lock);</div><div class="line"><a name="l06912"></a><span class="lineno"> 6912</span>&#160;                    <span class="keywordflow">return</span> AudioResult::DeviceAlreadyStarted;</div><div class="line"><a name="l06913"></a><span class="lineno"> 6913</span>&#160;                }</div><div class="line"><a name="l06914"></a><span class="lineno"> 6914</span>&#160;                <span class="keywordflow">if</span> (AudioGetDeviceState(*audioState) == AudioDeviceState::Started) {</div><div class="line"><a name="l06915"></a><span class="lineno"> 6915</span>&#160;                    <a class="code" href="group___threading.html#gab2f18851290d803349ef71c1aa78b493">MutexUnlock</a>(audioState-&gt;lock);</div><div class="line"><a name="l06916"></a><span class="lineno"> 6916</span>&#160;                    <span class="keywordflow">return</span> AudioResult::DeviceAlreadyStarted;</div><div class="line"><a name="l06917"></a><span class="lineno"> 6917</span>&#160;                }</div><div class="line"><a name="l06918"></a><span class="lineno"> 6918</span>&#160;</div><div class="line"><a name="l06919"></a><span class="lineno"> 6919</span>&#160;                <span class="comment">// The device needs to be in a stopped state. If it&#39;s not, we just let the caller know the device is busy.</span></div><div class="line"><a name="l06920"></a><span class="lineno"> 6920</span>&#160;                <span class="keywordflow">if</span> (AudioGetDeviceState(*audioState) != <a class="code" href="namespacefpl_1_1threading_1_1_thread_states.html#a8126df665987eab3a5d4d85806095082a08bcb5e39fc4e240908a1a10cc17ca34">AudioDeviceState::Stopped</a>) {</div><div class="line"><a name="l06921"></a><span class="lineno"> 6921</span>&#160;                    <a class="code" href="group___threading.html#gab2f18851290d803349ef71c1aa78b493">MutexUnlock</a>(audioState-&gt;lock);</div><div class="line"><a name="l06922"></a><span class="lineno"> 6922</span>&#160;                    <span class="keywordflow">return</span> AudioResult::DeviceBusy;</div><div class="line"><a name="l06923"></a><span class="lineno"> 6923</span>&#160;                }</div><div class="line"><a name="l06924"></a><span class="lineno"> 6924</span>&#160;</div><div class="line"><a name="l06925"></a><span class="lineno"> 6925</span>&#160;                AudioSetDeviceState(*audioState, AudioDeviceState::Starting);</div><div class="line"><a name="l06926"></a><span class="lineno"> 6926</span>&#160;</div><div class="line"><a name="l06927"></a><span class="lineno"> 6927</span>&#160;                <span class="keywordflow">if</span> (audioState-&gt;isAsyncDriver) {</div><div class="line"><a name="l06928"></a><span class="lineno"> 6928</span>&#160;                    <span class="comment">// Asynchronous drivers (Has their own thread)</span></div><div class="line"><a name="l06929"></a><span class="lineno"> 6929</span>&#160;                    AudioStartDevice(*audioState);</div><div class="line"><a name="l06930"></a><span class="lineno"> 6930</span>&#160;                    AudioSetDeviceState(*audioState, AudioDeviceState::Started);</div><div class="line"><a name="l06931"></a><span class="lineno"> 6931</span>&#160;                } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06932"></a><span class="lineno"> 6932</span>&#160;                    <span class="comment">// Synchronous drivers</span></div><div class="line"><a name="l06933"></a><span class="lineno"> 6933</span>&#160;                    <a class="code" href="group___threading.html#gadf5a26ce3c88ba521a6a291e2ee956f7">SignalWakeUp</a>(audioState-&gt;wakeupSignal);</div><div class="line"><a name="l06934"></a><span class="lineno"> 6934</span>&#160;</div><div class="line"><a name="l06935"></a><span class="lineno"> 6935</span>&#160;                    <span class="comment">// Wait for the worker thread to finish starting the device.</span></div><div class="line"><a name="l06936"></a><span class="lineno"> 6936</span>&#160;                    <span class="comment">// Note that the worker thread will be the one who puts the device into the started state.</span></div><div class="line"><a name="l06937"></a><span class="lineno"> 6937</span>&#160;                    <a class="code" href="group___threading.html#ga794026517242c2a47581bb2d2cb8c88c">SignalWaitForOne</a>(audioState-&gt;startSignal);</div><div class="line"><a name="l06938"></a><span class="lineno"> 6938</span>&#160;                    result = audioState-&gt;workResult;</div><div class="line"><a name="l06939"></a><span class="lineno"> 6939</span>&#160;                }</div><div class="line"><a name="l06940"></a><span class="lineno"> 6940</span>&#160;            }</div><div class="line"><a name="l06941"></a><span class="lineno"> 6941</span>&#160;            <a class="code" href="group___threading.html#gab2f18851290d803349ef71c1aa78b493">MutexUnlock</a>(audioState-&gt;lock);</div><div class="line"><a name="l06942"></a><span class="lineno"> 6942</span>&#160;</div><div class="line"><a name="l06943"></a><span class="lineno"> 6943</span>&#160;            <span class="keywordflow">return</span> result;</div><div class="line"><a name="l06944"></a><span class="lineno"> 6944</span>&#160;        }</div><div class="line"><a name="l06945"></a><span class="lineno"> 6945</span>&#160;</div><div class="line"><a name="l06946"></a><span class="lineno"> 6946</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> <span class="keywordtype">void</span> ReleaseAudio() {</div><div class="line"><a name="l06947"></a><span class="lineno"> 6947</span>&#160;            AudioState *audioState = &amp;global__Audio__State;</div><div class="line"><a name="l06948"></a><span class="lineno"> 6948</span>&#160;</div><div class="line"><a name="l06949"></a><span class="lineno"> 6949</span>&#160;            <span class="keywordflow">if</span> (!IsAudioDeviceInitialized(audioState)) {</div><div class="line"><a name="l06950"></a><span class="lineno"> 6950</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l06951"></a><span class="lineno"> 6951</span>&#160;            }</div><div class="line"><a name="l06952"></a><span class="lineno"> 6952</span>&#160;</div><div class="line"><a name="l06953"></a><span class="lineno"> 6953</span>&#160;            <span class="comment">// Make sure the device is stopped first. The backends will probably handle this naturally,</span></div><div class="line"><a name="l06954"></a><span class="lineno"> 6954</span>&#160;            <span class="comment">// but I like to do it explicitly for my own sanity.</span></div><div class="line"><a name="l06955"></a><span class="lineno"> 6955</span>&#160;            <span class="keywordflow">if</span> (IsAudioDeviceStarted(audioState)) {</div><div class="line"><a name="l06956"></a><span class="lineno"> 6956</span>&#160;                <span class="keywordflow">while</span> (<a class="code" href="group___audio.html#ga7c7306211763682dc822438ca375933d">StopAudio</a>() == AudioResult::DeviceBusy) {</div><div class="line"><a name="l06957"></a><span class="lineno"> 6957</span>&#160;                    <a class="code" href="group___threading.html#ga5549e8b3fb7ba18a8268bd8026c13c9b">threading::ThreadSleep</a>(1);</div><div class="line"><a name="l06958"></a><span class="lineno"> 6958</span>&#160;                }</div><div class="line"><a name="l06959"></a><span class="lineno"> 6959</span>&#160;            }</div><div class="line"><a name="l06960"></a><span class="lineno"> 6960</span>&#160;</div><div class="line"><a name="l06961"></a><span class="lineno"> 6961</span>&#160;            <span class="comment">// Putting the device into an uninitialized state will make the worker thread return.</span></div><div class="line"><a name="l06962"></a><span class="lineno"> 6962</span>&#160;            AudioSetDeviceState(*audioState, AudioDeviceState::Uninitialized);</div><div class="line"><a name="l06963"></a><span class="lineno"> 6963</span>&#160;</div><div class="line"><a name="l06964"></a><span class="lineno"> 6964</span>&#160;            <span class="comment">// Wake up the worker thread and wait for it to properly terminate.</span></div><div class="line"><a name="l06965"></a><span class="lineno"> 6965</span>&#160;            <a class="code" href="group___threading.html#gadf5a26ce3c88ba521a6a291e2ee956f7">SignalWakeUp</a>(audioState-&gt;wakeupSignal);</div><div class="line"><a name="l06966"></a><span class="lineno"> 6966</span>&#160;            <a class="code" href="group___threading.html#gaa40f358ef89b947e0b380a27acf7dbdc">ThreadWaitForOne</a>(audioState-&gt;workerThread);</div><div class="line"><a name="l06967"></a><span class="lineno"> 6967</span>&#160;            <a class="code" href="group___threading.html#gab78be4e5aa5bc3f267c844d2d9e46ce7">ThreadDestroy</a>(audioState-&gt;workerThread);</div><div class="line"><a name="l06968"></a><span class="lineno"> 6968</span>&#160;</div><div class="line"><a name="l06969"></a><span class="lineno"> 6969</span>&#160;            <span class="comment">// Release signals and thread</span></div><div class="line"><a name="l06970"></a><span class="lineno"> 6970</span>&#160;            <span class="keywordflow">if</span> (audioState-&gt;stopSignal.isValid) {</div><div class="line"><a name="l06971"></a><span class="lineno"> 6971</span>&#160;                <a class="code" href="group___threading.html#ga878223b24ec17a7b4b8f6e6f945340f9">threading::SignalDestroy</a>(audioState-&gt;stopSignal);</div><div class="line"><a name="l06972"></a><span class="lineno"> 6972</span>&#160;            }</div><div class="line"><a name="l06973"></a><span class="lineno"> 6973</span>&#160;            <span class="keywordflow">if</span> (audioState-&gt;startSignal.isValid) {</div><div class="line"><a name="l06974"></a><span class="lineno"> 6974</span>&#160;                <a class="code" href="group___threading.html#ga878223b24ec17a7b4b8f6e6f945340f9">threading::SignalDestroy</a>(audioState-&gt;startSignal);</div><div class="line"><a name="l06975"></a><span class="lineno"> 6975</span>&#160;            }</div><div class="line"><a name="l06976"></a><span class="lineno"> 6976</span>&#160;            <span class="keywordflow">if</span> (audioState-&gt;wakeupSignal.isValid) {</div><div class="line"><a name="l06977"></a><span class="lineno"> 6977</span>&#160;                <a class="code" href="group___threading.html#ga878223b24ec17a7b4b8f6e6f945340f9">threading::SignalDestroy</a>(audioState-&gt;wakeupSignal);</div><div class="line"><a name="l06978"></a><span class="lineno"> 6978</span>&#160;            }</div><div class="line"><a name="l06979"></a><span class="lineno"> 6979</span>&#160;            <span class="keywordflow">if</span> (audioState-&gt;lock.isValid) {</div><div class="line"><a name="l06980"></a><span class="lineno"> 6980</span>&#160;                <a class="code" href="group___threading.html#ga9fda6954c3de6afbc9e09b4636001282">threading::MutexDestroy</a>(audioState-&gt;lock);</div><div class="line"><a name="l06981"></a><span class="lineno"> 6981</span>&#160;            }</div><div class="line"><a name="l06982"></a><span class="lineno"> 6982</span>&#160;</div><div class="line"><a name="l06983"></a><span class="lineno"> 6983</span>&#160;            AudioReleaseDevice(*audioState);</div><div class="line"><a name="l06984"></a><span class="lineno"> 6984</span>&#160;</div><div class="line"><a name="l06985"></a><span class="lineno"> 6985</span>&#160;            *audioState = {};</div><div class="line"><a name="l06986"></a><span class="lineno"> 6986</span>&#160;</div><div class="line"><a name="l06987"></a><span class="lineno"> 6987</span>&#160;<span class="preprocessor">#       if defined(FPL_PLATFORM_WIN32)</span></div><div class="line"><a name="l06988"></a><span class="lineno"> 6988</span>&#160;            platform::global__Win32__API__Functions.ole.coUninitialize();</div><div class="line"><a name="l06989"></a><span class="lineno"> 6989</span>&#160;<span class="preprocessor">#       endif</span></div><div class="line"><a name="l06990"></a><span class="lineno"> 6990</span>&#160;        }</div><div class="line"><a name="l06991"></a><span class="lineno"> 6991</span>&#160;</div><div class="line"><a name="l06992"></a><span class="lineno"> 6992</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a> <a class="code" href="namespacefpl_1_1audio_1_1_audio_results.html#aa2612a356f6a8c7001e6e91eb1fd09b0">AudioResult</a> InitAudio(<span class="keyword">const</span> <a class="code" href="structfpl_1_1_audio_settings.html">AudioSettings</a> &amp;audioSettings) {</div><div class="line"><a name="l06993"></a><span class="lineno"> 6993</span>&#160;            AudioState *audioState = &amp;global__Audio__State;</div><div class="line"><a name="l06994"></a><span class="lineno"> 6994</span>&#160;</div><div class="line"><a name="l06995"></a><span class="lineno"> 6995</span>&#160;            <span class="keywordflow">if</span> (audioState-&gt;activeDriver != <a class="code" href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6afc310a3cf2b78b9d8ac95038bacb25c7">AudioDriverType::None</a>) {</div><div class="line"><a name="l06996"></a><span class="lineno"> 6996</span>&#160;                <span class="keywordflow">return</span> AudioResult::Failed;</div><div class="line"><a name="l06997"></a><span class="lineno"> 6997</span>&#160;            }</div><div class="line"><a name="l06998"></a><span class="lineno"> 6998</span>&#160;</div><div class="line"><a name="l06999"></a><span class="lineno"> 6999</span>&#160;            <span class="keywordflow">if</span> (audioSettings.<a class="code" href="structfpl_1_1_audio_settings.html#a6eced4e689d091d5c64aa68215ac0541">desiredFormat</a>.<a class="code" href="structfpl_1_1_audio_device_format.html#a6d9ffc868ca9b121f3c39f73e495d0eb">channels</a> == 0) {</div><div class="line"><a name="l07000"></a><span class="lineno"> 7000</span>&#160;                <span class="keywordflow">return</span> AudioResult::Failed;</div><div class="line"><a name="l07001"></a><span class="lineno"> 7001</span>&#160;            }</div><div class="line"><a name="l07002"></a><span class="lineno"> 7002</span>&#160;            <span class="keywordflow">if</span> (audioSettings.<a class="code" href="structfpl_1_1_audio_settings.html#a6eced4e689d091d5c64aa68215ac0541">desiredFormat</a>.<a class="code" href="structfpl_1_1_audio_device_format.html#ac43f3e139b09c5c38d0b6a0863c0ac1f">sampleRate</a> == 0) {</div><div class="line"><a name="l07003"></a><span class="lineno"> 7003</span>&#160;                <span class="keywordflow">return</span> AudioResult::Failed;</div><div class="line"><a name="l07004"></a><span class="lineno"> 7004</span>&#160;            }</div><div class="line"><a name="l07005"></a><span class="lineno"> 7005</span>&#160;            <span class="keywordflow">if</span> (audioSettings.<a class="code" href="structfpl_1_1_audio_settings.html#a4171e2de1150225a459177259728ec31">bufferSizeInMilliSeconds</a> == 0) {</div><div class="line"><a name="l07006"></a><span class="lineno"> 7006</span>&#160;                <span class="keywordflow">return</span> AudioResult::Failed;</div><div class="line"><a name="l07007"></a><span class="lineno"> 7007</span>&#160;            }</div><div class="line"><a name="l07008"></a><span class="lineno"> 7008</span>&#160;</div><div class="line"><a name="l07009"></a><span class="lineno"> 7009</span>&#160;            *audioState = {};</div><div class="line"><a name="l07010"></a><span class="lineno"> 7010</span>&#160;            audioState-&gt;common.clientReadCallback = audioSettings.<a class="code" href="structfpl_1_1_audio_settings.html#a3ade4cb176a441d5da0236cbf954a8fa">clientReadCallback</a>;</div><div class="line"><a name="l07011"></a><span class="lineno"> 7011</span>&#160;            audioState-&gt;common.clientUserData = audioSettings.<a class="code" href="structfpl_1_1_audio_settings.html#afa7979c8ffe93ee2612a64ebeb688a5d">userData</a>;</div><div class="line"><a name="l07012"></a><span class="lineno"> 7012</span>&#160;</div><div class="line"><a name="l07013"></a><span class="lineno"> 7013</span>&#160;<span class="preprocessor">#       if defined(FPL_PLATFORM_WIN32)</span></div><div class="line"><a name="l07014"></a><span class="lineno"> 7014</span>&#160;            platform::global__Win32__API__Functions.ole.coInitializeEx(<a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>, 0);</div><div class="line"><a name="l07015"></a><span class="lineno"> 7015</span>&#160;<span class="preprocessor">#       endif</span></div><div class="line"><a name="l07016"></a><span class="lineno"> 7016</span>&#160;</div><div class="line"><a name="l07017"></a><span class="lineno"> 7017</span>&#160;            <span class="comment">// Create mutex and signals</span></div><div class="line"><a name="l07018"></a><span class="lineno"> 7018</span>&#160;            audioState-&gt;lock = <a class="code" href="group___threading.html#gad8496dd7dfa65ccd1b7187abe22e4a48">threading::MutexCreate</a>();</div><div class="line"><a name="l07019"></a><span class="lineno"> 7019</span>&#160;            <span class="keywordflow">if</span> (!audioState-&gt;lock.isValid) {</div><div class="line"><a name="l07020"></a><span class="lineno"> 7020</span>&#160;                ReleaseAudio();</div><div class="line"><a name="l07021"></a><span class="lineno"> 7021</span>&#160;                <span class="keywordflow">return</span> AudioResult::Failed;</div><div class="line"><a name="l07022"></a><span class="lineno"> 7022</span>&#160;            }</div><div class="line"><a name="l07023"></a><span class="lineno"> 7023</span>&#160;            audioState-&gt;wakeupSignal = <a class="code" href="group___threading.html#gaee83c654cfd2d0aa41de1c03b9d3cd5c">threading::SignalCreate</a>();</div><div class="line"><a name="l07024"></a><span class="lineno"> 7024</span>&#160;            <span class="keywordflow">if</span> (!audioState-&gt;wakeupSignal.isValid) {</div><div class="line"><a name="l07025"></a><span class="lineno"> 7025</span>&#160;                ReleaseAudio();</div><div class="line"><a name="l07026"></a><span class="lineno"> 7026</span>&#160;                <span class="keywordflow">return</span> AudioResult::Failed;</div><div class="line"><a name="l07027"></a><span class="lineno"> 7027</span>&#160;            }</div><div class="line"><a name="l07028"></a><span class="lineno"> 7028</span>&#160;            audioState-&gt;startSignal = <a class="code" href="group___threading.html#gaee83c654cfd2d0aa41de1c03b9d3cd5c">threading::SignalCreate</a>();</div><div class="line"><a name="l07029"></a><span class="lineno"> 7029</span>&#160;            <span class="keywordflow">if</span> (!audioState-&gt;startSignal.isValid) {</div><div class="line"><a name="l07030"></a><span class="lineno"> 7030</span>&#160;                ReleaseAudio();</div><div class="line"><a name="l07031"></a><span class="lineno"> 7031</span>&#160;                <span class="keywordflow">return</span> AudioResult::Failed;</div><div class="line"><a name="l07032"></a><span class="lineno"> 7032</span>&#160;            }</div><div class="line"><a name="l07033"></a><span class="lineno"> 7033</span>&#160;            audioState-&gt;stopSignal = <a class="code" href="group___threading.html#gaee83c654cfd2d0aa41de1c03b9d3cd5c">threading::SignalCreate</a>();</div><div class="line"><a name="l07034"></a><span class="lineno"> 7034</span>&#160;            <span class="keywordflow">if</span> (!audioState-&gt;stopSignal.isValid) {</div><div class="line"><a name="l07035"></a><span class="lineno"> 7035</span>&#160;                ReleaseAudio();</div><div class="line"><a name="l07036"></a><span class="lineno"> 7036</span>&#160;                <span class="keywordflow">return</span> AudioResult::Failed;</div><div class="line"><a name="l07037"></a><span class="lineno"> 7037</span>&#160;            }</div><div class="line"><a name="l07038"></a><span class="lineno"> 7038</span>&#160;</div><div class="line"><a name="l07039"></a><span class="lineno"> 7039</span>&#160;            <span class="comment">// Prope drivers</span></div><div class="line"><a name="l07040"></a><span class="lineno"> 7040</span>&#160;            <a class="code" href="namespacefpl_1_1_audio_driver_types.html#afb8583e0947d11e4ec9479717912b82e">AudioDriverType</a> propeDrivers[] = {</div><div class="line"><a name="l07041"></a><span class="lineno"> 7041</span>&#160;                <a class="code" href="namespacefpl_1_1_audio_driver_types.html#afb8583e0947d11e4ec9479717912b82ea4bfffe090b40bd9fe6ea5713c5a614da">AudioDriverType::DirectSound</a>,</div><div class="line"><a name="l07042"></a><span class="lineno"> 7042</span>&#160;            };</div><div class="line"><a name="l07043"></a><span class="lineno"> 7043</span>&#160;            uint32_t driverCount = <a class="code" href="final__platform__layer_8hpp.html#a1b604d8132880ef082abb67661670eb8">FPL_ARRAYCOUNT</a>(propeDrivers);</div><div class="line"><a name="l07044"></a><span class="lineno"> 7044</span>&#160;            <a class="code" href="namespacefpl_1_1audio_1_1_audio_results.html#aa2612a356f6a8c7001e6e91eb1fd09b0">AudioResult</a> initResult = AudioResult::Failed;</div><div class="line"><a name="l07045"></a><span class="lineno"> 7045</span>&#160;            <span class="keywordflow">for</span> (uint32_t driverIndex = 0; driverIndex &lt; driverCount; ++driverIndex) {</div><div class="line"><a name="l07046"></a><span class="lineno"> 7046</span>&#160;                <a class="code" href="namespacefpl_1_1_audio_driver_types.html#afb8583e0947d11e4ec9479717912b82e">AudioDriverType</a> propeDriver = propeDrivers[driverIndex];</div><div class="line"><a name="l07047"></a><span class="lineno"> 7047</span>&#160;</div><div class="line"><a name="l07048"></a><span class="lineno"> 7048</span>&#160;                initResult = AudioResult::Failed;</div><div class="line"><a name="l07049"></a><span class="lineno"> 7049</span>&#160;                <span class="keywordflow">switch</span> (audioSettings.<a class="code" href="structfpl_1_1_audio_settings.html#a67df3146815aa36f2d0389da88090ad1">driver</a>) {</div><div class="line"><a name="l07050"></a><span class="lineno"> 7050</span>&#160;</div><div class="line"><a name="l07051"></a><span class="lineno"> 7051</span>&#160;<span class="preprocessor">#               if defined(FPL_ENABLE_AUDIO_DIRECTSOUND)</span></div><div class="line"><a name="l07052"></a><span class="lineno"> 7052</span>&#160;                    <span class="keywordflow">case</span> <a class="code" href="namespacefpl_1_1_audio_driver_types.html#afb8583e0947d11e4ec9479717912b82ea4bfffe090b40bd9fe6ea5713c5a614da">AudioDriverType::DirectSound</a>:</div><div class="line"><a name="l07053"></a><span class="lineno"> 7053</span>&#160;                    {</div><div class="line"><a name="l07054"></a><span class="lineno"> 7054</span>&#160;                        initResult = InitDirectSound(audioSettings, audioState-&gt;common, audioState-&gt;dsound);</div><div class="line"><a name="l07055"></a><span class="lineno"> 7055</span>&#160;                        <span class="keywordflow">if</span> (initResult != AudioResult::Success) {</div><div class="line"><a name="l07056"></a><span class="lineno"> 7056</span>&#160;                            ReleaseDirectSound(audioState-&gt;common, audioState-&gt;dsound);</div><div class="line"><a name="l07057"></a><span class="lineno"> 7057</span>&#160;                        }</div><div class="line"><a name="l07058"></a><span class="lineno"> 7058</span>&#160;                    } <span class="keywordflow">break</span>;</div><div class="line"><a name="l07059"></a><span class="lineno"> 7059</span>&#160;<span class="preprocessor">#               endif</span></div><div class="line"><a name="l07060"></a><span class="lineno"> 7060</span>&#160;</div><div class="line"><a name="l07061"></a><span class="lineno"> 7061</span>&#160;                    <span class="keywordflow">default</span>:</div><div class="line"><a name="l07062"></a><span class="lineno"> 7062</span>&#160;                        <span class="keywordflow">break</span>;</div><div class="line"><a name="l07063"></a><span class="lineno"> 7063</span>&#160;                }</div><div class="line"><a name="l07064"></a><span class="lineno"> 7064</span>&#160;                <span class="keywordflow">if</span> (initResult == AudioResult::Success) {</div><div class="line"><a name="l07065"></a><span class="lineno"> 7065</span>&#160;                    audioState-&gt;activeDriver = propeDriver;</div><div class="line"><a name="l07066"></a><span class="lineno"> 7066</span>&#160;                    audioState-&gt;isAsyncDriver = IsAudioDriverAsync(propeDriver);</div><div class="line"><a name="l07067"></a><span class="lineno"> 7067</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l07068"></a><span class="lineno"> 7068</span>&#160;                }</div><div class="line"><a name="l07069"></a><span class="lineno"> 7069</span>&#160;            }</div><div class="line"><a name="l07070"></a><span class="lineno"> 7070</span>&#160;</div><div class="line"><a name="l07071"></a><span class="lineno"> 7071</span>&#160;            <span class="keywordflow">if</span> (initResult != AudioResult::Success) {</div><div class="line"><a name="l07072"></a><span class="lineno"> 7072</span>&#160;                ReleaseAudio();</div><div class="line"><a name="l07073"></a><span class="lineno"> 7073</span>&#160;                <span class="keywordflow">return</span> initResult;</div><div class="line"><a name="l07074"></a><span class="lineno"> 7074</span>&#160;            }</div><div class="line"><a name="l07075"></a><span class="lineno"> 7075</span>&#160;</div><div class="line"><a name="l07076"></a><span class="lineno"> 7076</span>&#160;            <span class="keywordflow">if</span> (!audioState-&gt;isAsyncDriver) {</div><div class="line"><a name="l07077"></a><span class="lineno"> 7077</span>&#160;                <span class="comment">// Create worker thread</span></div><div class="line"><a name="l07078"></a><span class="lineno"> 7078</span>&#160;                audioState-&gt;workerThread = <a class="code" href="group___threading.html#ga57538de72b2f378b1213428e81851e08">threading::ThreadCreate</a>(AudioWorkerThread, audioState, <span class="keyword">true</span>);</div><div class="line"><a name="l07079"></a><span class="lineno"> 7079</span>&#160;                <span class="keywordflow">if</span> (audioState-&gt;workerThread == <a class="code" href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a>) {</div><div class="line"><a name="l07080"></a><span class="lineno"> 7080</span>&#160;                    ReleaseAudio();</div><div class="line"><a name="l07081"></a><span class="lineno"> 7081</span>&#160;                    <span class="keywordflow">return</span> AudioResult::Failed;</div><div class="line"><a name="l07082"></a><span class="lineno"> 7082</span>&#160;                }</div><div class="line"><a name="l07083"></a><span class="lineno"> 7083</span>&#160;                <span class="comment">// Wait for the worker thread to put the device into it&#39;s stopped state for real.</span></div><div class="line"><a name="l07084"></a><span class="lineno"> 7084</span>&#160;                <a class="code" href="group___threading.html#ga794026517242c2a47581bb2d2cb8c88c">SignalWaitForOne</a>(audioState-&gt;stopSignal);</div><div class="line"><a name="l07085"></a><span class="lineno"> 7085</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l07086"></a><span class="lineno"> 7086</span>&#160;                AudioSetDeviceState(*audioState, <a class="code" href="namespacefpl_1_1threading_1_1_thread_states.html#a8126df665987eab3a5d4d85806095082a08bcb5e39fc4e240908a1a10cc17ca34">AudioDeviceState::Stopped</a>);</div><div class="line"><a name="l07087"></a><span class="lineno"> 7087</span>&#160;            }</div><div class="line"><a name="l07088"></a><span class="lineno"> 7088</span>&#160;</div><div class="line"><a name="l07089"></a><span class="lineno"> 7089</span>&#160;            <a class="code" href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a>(AudioGetDeviceState(*audioState) == <a class="code" href="namespacefpl_1_1threading_1_1_thread_states.html#a8126df665987eab3a5d4d85806095082a08bcb5e39fc4e240908a1a10cc17ca34">AudioDeviceState::Stopped</a>);</div><div class="line"><a name="l07090"></a><span class="lineno"> 7090</span>&#160;</div><div class="line"><a name="l07091"></a><span class="lineno"> 7091</span>&#160;            <span class="keywordflow">return</span>(AudioResult::Success);</div><div class="line"><a name="l07092"></a><span class="lineno"> 7092</span>&#160;        }</div><div class="line"><a name="l07093"></a><span class="lineno"> 7093</span>&#160;</div><div class="line"><a name="l07094"></a><span class="lineno"> 7094</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keyword">const</span> <a class="code" href="structfpl_1_1_audio_device_format.html">AudioDeviceFormat</a> &amp;<a class="code" href="group___audio.html#ga0b9d3595b9898f3d47e2a87e6d497c76">GetAudioHardwareFormat</a>() {</div><div class="line"><a name="l07095"></a><span class="lineno"> 7095</span>&#160;            AudioState *audioState = &amp;global__Audio__State;</div><div class="line"><a name="l07096"></a><span class="lineno"> 7096</span>&#160;            <span class="keywordflow">return</span> audioState-&gt;common.internalFormat;</div><div class="line"><a name="l07097"></a><span class="lineno"> 7097</span>&#160;        }</div><div class="line"><a name="l07098"></a><span class="lineno"> 7098</span>&#160;</div><div class="line"><a name="l07099"></a><span class="lineno"> 7099</span>&#160;        <a class="code" href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a> <span class="keywordtype">void</span> <a class="code" href="group___audio.html#gab74286317a34e70379c2bdcd4756c02e">SetAudioClientReadCallback</a>(<a class="code" href="group___settings.html#gaa2a5629c37b69482654db63bda6e28a0">AudioClientReadFunction</a> *newCallback, <span class="keywordtype">void</span> *userData) {</div><div class="line"><a name="l07100"></a><span class="lineno"> 7100</span>&#160;            AudioState *audioState = &amp;global__Audio__State;</div><div class="line"><a name="l07101"></a><span class="lineno"> 7101</span>&#160;            <span class="keywordflow">if</span> (audioState-&gt;activeDriver &gt; AudioDriverType::Auto) {</div><div class="line"><a name="l07102"></a><span class="lineno"> 7102</span>&#160;                <span class="keywordflow">if</span> (AudioGetDeviceState(*audioState) == <a class="code" href="namespacefpl_1_1threading_1_1_thread_states.html#a8126df665987eab3a5d4d85806095082a08bcb5e39fc4e240908a1a10cc17ca34">AudioDeviceState::Stopped</a>) {</div><div class="line"><a name="l07103"></a><span class="lineno"> 7103</span>&#160;                    audioState-&gt;common.clientReadCallback = newCallback;</div><div class="line"><a name="l07104"></a><span class="lineno"> 7104</span>&#160;                    audioState-&gt;common.clientUserData = userData;</div><div class="line"><a name="l07105"></a><span class="lineno"> 7105</span>&#160;                }</div><div class="line"><a name="l07106"></a><span class="lineno"> 7106</span>&#160;            }</div><div class="line"><a name="l07107"></a><span class="lineno"> 7107</span>&#160;        }</div><div class="line"><a name="l07108"></a><span class="lineno"> 7108</span>&#160;    } <span class="comment">// audio</span></div><div class="line"><a name="l07109"></a><span class="lineno"> 7109</span>&#160;<span class="preprocessor">#endif // FPL_ENABLE_AUDIO</span></div><div class="line"><a name="l07110"></a><span class="lineno"> 7110</span>&#160;</div><div class="line"><a name="l07111"></a><span class="lineno"> 7111</span>&#160;} <span class="comment">// fpl</span></div><div class="line"><a name="l07112"></a><span class="lineno"> 7112</span>&#160;</div><div class="line"><a name="l07113"></a><span class="lineno"> 7113</span>&#160;<span class="preprocessor">#endif // FPL_IMPLEMENTATION &amp;&amp; !FPL_IMPLEMENTED</span></div><div class="ttc" id="structfpl_1_1threading_1_1_thread_context_html_a1d22580a4aa61dc8b20b516f81eef84f"><div class="ttname"><a href="structfpl_1_1threading_1_1_thread_context.html#a1d22580a4aa61dc8b20b516f81eef84f">fpl::threading::ThreadContext::internalHandle</a></div><div class="ttdeci">void * internalHandle</div><div class="ttdoc">The internal handle. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01394">final_platform_layer.hpp:1394</a></div></div>
<div class="ttc" id="structfpl_1_1_audio_settings_html_a67df3146815aa36f2d0389da88090ad1"><div class="ttname"><a href="structfpl_1_1_audio_settings.html#a67df3146815aa36f2d0389da88090ad1">fpl::AudioSettings::driver</a></div><div class="ttdeci">AudioDriverType driver</div><div class="ttdoc">The targeted driver. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01202">final_platform_layer.hpp:1202</a></div></div>
<div class="ttc" id="group___atomics_html_ga2576254de8d52495002128f0abd0a45e"><div class="ttname"><a href="group___atomics.html#ga2576254de8d52495002128f0abd0a45e">fpl::atomics::AtomicLoadU64</a></div><div class="ttdeci">fpl_api uint64_t AtomicLoadU64(volatile uint64_t *source)</div><div class="ttdoc">Loads the 64-bit unsigned value atomically and returns the result. </div></div>
<div class="ttc" id="structfpl_1_1window_1_1_gamepad_state_html_a10084f7cce412d52f8b14d6fd00116c2"><div class="ttname"><a href="structfpl_1_1window_1_1_gamepad_state.html#a10084f7cce412d52f8b14d6fd00116c2">fpl::window::GamepadState::rightTrigger</a></div><div class="ttdeci">float rightTrigger</div><div class="ttdoc">Analog right trigger in range (-1.0 to 1.0f) </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02055">final_platform_layer.hpp:2055</a></div></div>
<div class="ttc" id="group___atomics_html_ga9053017d18706dd32468809bdf115103"><div class="ttname"><a href="group___atomics.html#ga9053017d18706dd32468809bdf115103">fpl::atomics::IsAtomicCompareAndExchangePtr</a></div><div class="ttdeci">fpl_api bool IsAtomicCompareAndExchangePtr(volatile void **dest, const void *comparand, const void *exchange)</div><div class="ttdoc">Returns true when a pointer equals the comparand. In addition dest will be changed to the exchange wh...</div></div>
<div class="ttc" id="namespacefpl_html"><div class="ttname"><a href="namespacefpl.html">fpl</a></div><div class="ttdoc">Core. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l00948">final_platform_layer.hpp:948</a></div></div>
<div class="ttc" id="group___error_handling_html_ga21d84c13e805a5fc41be6602615bc099"><div class="ttname"><a href="group___error_handling.html#ga21d84c13e805a5fc41be6602615bc099">fpl::GetPlatformLastError</a></div><div class="ttdeci">fpl_api const char * GetPlatformLastError()</div><div class="ttdoc">Returns last error string. </div></div>
<div class="ttc" id="group___atomics_html_ga49173aa8fa9ba12740fedc24260ae7c5"><div class="ttname"><a href="group___atomics.html#ga49173aa8fa9ba12740fedc24260ae7c5">fpl::atomics::AtomicAddS64</a></div><div class="ttdeci">fpl_api int64_t AtomicAddS64(volatile int64_t *value, const int64_t addend)</div><div class="ttdoc">Adds a 64-bit signed integer atomatically. Returns the value before the addition. ...</div></div>
<div class="ttc" id="structfpl_1_1_audio_device_format_html_ab3706796b4be381973ae595e3155cfdc"><div class="ttname"><a href="structfpl_1_1_audio_device_format.html#ab3706796b4be381973ae595e3155cfdc">fpl::AudioDeviceFormat::periods</a></div><div class="ttdeci">uint32_t periods</div><div class="ttdoc">Number of periods. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01185">final_platform_layer.hpp:1185</a></div></div>
<div class="ttc" id="group___window_events_html_ga9801762935e9ba7bcb4c1189eb88fbf3"><div class="ttname"><a href="group___window_events.html#ga9801762935e9ba7bcb4c1189eb88fbf3">fpl::window::PollWindowEvent</a></div><div class="ttdeci">fpl_api bool PollWindowEvent(Event &amp;ev)</div><div class="ttdoc">Gets and removes the top event from the internal queue and fills out the &quot;event&quot; argument. Returns false when there are no events left, otherwise true. </div></div>
<div class="ttc" id="group___settings_html_gad69524831de452acbfc4b5d7cf1faa8f"><div class="ttname"><a href="group___settings.html#gad69524831de452acbfc4b5d7cf1faa8f">fpl::DefaultWindowSettings</a></div><div class="ttdeci">fpl_inline WindowSettings DefaultWindowSettings()</div><div class="ttdoc">Make default settings for the window. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01248">final_platform_layer.hpp:1248</a></div></div>
<div class="ttc" id="group___files_html_ga0e5226dfd156cae006e89de5bc2e1e37"><div class="ttname"><a href="group___files.html#ga0e5226dfd156cae006e89de5bc2e1e37">fpl::files::FileAttributeFlag</a></div><div class="ttdeci">FileAttributeFlags::FileAttributeFlagEnum FileAttributeFlag</div><div class="ttdoc">File attribute flag. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01594">final_platform_layer.hpp:1594</a></div></div>
<div class="ttc" id="group___atomics_html_ga208837a8141ca1b63f288071224dbc53"><div class="ttname"><a href="group___atomics.html#ga208837a8141ca1b63f288071224dbc53">fpl::atomics::AtomicCompareAndExchangeS32</a></div><div class="ttdeci">fpl_api int32_t AtomicCompareAndExchangeS32(volatile int32_t *dest, const int32_t comparand, const int32_t exchange)</div><div class="ttdoc">Compares a 32-bit signed integer with a comparand and exchange it when comparand and matches destinat...</div></div>
<div class="ttc" id="structfpl_1_1window_1_1_keyboard_event_html_affe49621057130737467d58fa1b20584"><div class="ttname"><a href="structfpl_1_1window_1_1_keyboard_event.html#affe49621057130737467d58fa1b20584">fpl::window::KeyboardEvent::type</a></div><div class="ttdeci">KeyboardEventType type</div><div class="ttdoc">Keyboard event type. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01921">final_platform_layer.hpp:1921</a></div></div>
<div class="ttc" id="group___threading_html_ga80c427b07b401cbdb33a0c2375ea2a7d"><div class="ttname"><a href="group___threading.html#ga80c427b07b401cbdb33a0c2375ea2a7d">fpl::threading::SignalWaitForAll</a></div><div class="ttdeci">fpl_api bool SignalWaitForAll(ThreadSignal **availableSignal, const uint32_t count, const uint32_t maxMilliseconds=UINT32_MAX)</div><div class="ttdoc">Waits until all the given signal are waked up. When maxMilliseconds is set to UINT32_MAX it will wait...</div></div>
<div class="ttc" id="structfpl_1_1threading_1_1_thread_mutex_html"><div class="ttname"><a href="structfpl_1_1threading_1_1_thread_mutex.html">fpl::threading::ThreadMutex</a></div><div class="ttdoc">Mutex context. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01400">final_platform_layer.hpp:1400</a></div></div>
<div class="ttc" id="namespacefpl_1_1hardware_html"><div class="ttname"><a href="namespacefpl_1_1hardware.html">fpl::hardware</a></div><div class="ttdoc">Hardware functions. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01032">final_platform_layer.hpp:1032</a></div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_keyboard_event_types_html_af2b159019bbc4f7c214b73c3dea46065a0381bf6d189dc4c1a25d3ce5a0c3ae5d"><div class="ttname"><a href="namespacefpl_1_1window_1_1_keyboard_event_types.html#af2b159019bbc4f7c214b73c3dea46065a0381bf6d189dc4c1a25d3ce5a0c3ae5d">fpl::window::KeyboardEventTypes::Char</a></div><div class="ttdoc">Character was entered. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01891">final_platform_layer.hpp:1891</a></div></div>
<div class="ttc" id="group___atomics_html_gaa489434b89fc006c043d41e8a3ac19b0"><div class="ttname"><a href="group___atomics.html#gaa489434b89fc006c043d41e8a3ac19b0">fpl::atomics::IsAtomicCompareAndExchangeU32</a></div><div class="ttdeci">fpl_api bool IsAtomicCompareAndExchangeU32(volatile uint32_t *dest, const uint32_t comparand, const uint32_t exchange)</div><div class="ttdoc">Returns true when a 32-bit unsigned integer equals the comparand. In addition dest will be changed to...</div></div>
<div class="ttc" id="group___files_html_ga0c26d0c2d8c7757bad8803b72bd8b8e3"><div class="ttname"><a href="group___files.html#ga0c26d0c2d8c7757bad8803b72bd8b8e3">fpl::files::FilePositionMode</a></div><div class="ttdeci">FilePositionModes::FilePositionModeEnum FilePositionMode</div><div class="ttdoc">File position mode. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01558">final_platform_layer.hpp:1558</a></div></div>
<div class="ttc" id="group___files_html_ga12fbf9ae3b535bcd362d55588de4c0ce"><div class="ttname"><a href="group___files.html#ga12fbf9ae3b535bcd362d55588de4c0ce">fpl::files::ListFilesNext</a></div><div class="ttdeci">fpl_api bool ListFilesNext(FileEntry *nextEntry)</div><div class="ttdoc">Get next file entry from iterating through files / directories. Returns false when there is no entry ...</div></div>
<div class="ttc" id="group___audio_html_gad879b8c42a68250a581a7d5347e3b3e0"><div class="ttname"><a href="group___audio.html#gad879b8c42a68250a581a7d5347e3b3e0">fpl::audio::PlayAudio</a></div><div class="ttdeci">fpl_api AudioResult PlayAudio()</div><div class="ttdoc">Start playing audio. </div></div>
<div class="ttc" id="group___atomics_html_ga6045f0c89cb08843e824d1209064afba"><div class="ttname"><a href="group___atomics.html#ga6045f0c89cb08843e824d1209064afba">fpl::atomics::AtomicStoreS32</a></div><div class="ttdeci">fpl_api void AtomicStoreS32(volatile int32_t *dest, const int32_t value)</div><div class="ttdoc">Stores the 32-bit signed value atomically into the target. </div></div>
<div class="ttc" id="group___strings_html_ga50be92a4b019e3e0e94ce7b8b5082421"><div class="ttname"><a href="group___strings.html#ga50be92a4b019e3e0e94ce7b8b5082421">fpl::strings::CopyWideString</a></div><div class="ttdeci">fpl_api wchar_t * CopyWideString(const wchar_t *source, wchar_t *dest, const uint32_t maxDestLen)</div><div class="ttdoc">Copies the given 16-bit source Wide string into a destination Wide string. Does not allocate any memo...</div></div>
<div class="ttc" id="group___files_html_ga14d97136914889a756685ab47b7699c2"><div class="ttname"><a href="group___files.html#ga14d97136914889a756685ab47b7699c2">fpl::files::WriteFileBlock32</a></div><div class="ttdeci">fpl_api uint32_t WriteFileBlock32(const FileHandle &amp;fileHandle, void *sourceBuffer, const uint32_t sourceSize)</div><div class="ttdoc">Writes a block to the given file handle and returns the number of bytes written. Operation is limited...</div></div>
<div class="ttc" id="group___files_html_gad6815e384d0fcce318c752c2126fb4fe"><div class="ttname"><a href="group___files.html#gad6815e384d0fcce318c752c2126fb4fe">fpl::files::CreateDirectories</a></div><div class="ttdeci">fpl_api bool CreateDirectories(const char *path)</div><div class="ttdoc">Creates all the directories in the path when not exists. </div></div>
<div class="ttc" id="group___threading_html_ga60ae994f2b79e901efde8b9196019ed1"><div class="ttname"><a href="group___threading.html#ga60ae994f2b79e901efde8b9196019ed1">fpl::threading::SignalReset</a></div><div class="ttdeci">fpl_api bool SignalReset(ThreadSignal &amp;availableSignal)</div><div class="ttdoc">Resets the given signal. </div></div>
<div class="ttc" id="group___window_base_html_ga83958a36db0031b265f3b10470b4dade"><div class="ttname"><a href="group___window_base.html#ga83958a36db0031b265f3b10470b4dade">fpl::window::SetWindowTitle</a></div><div class="ttdeci">fpl_api void SetWindowTitle(const char *title)</div><div class="ttdoc">Sets the window title. </div></div>
<div class="ttc" id="namespacefpl_1_1threading_1_1_thread_states_html_a8126df665987eab3a5d4d85806095082a08bcb5e39fc4e240908a1a10cc17ca34"><div class="ttname"><a href="namespacefpl_1_1threading_1_1_thread_states.html#a8126df665987eab3a5d4d85806095082a08bcb5e39fc4e240908a1a10cc17ca34">fpl::threading::ThreadStates::Stopped</a></div><div class="ttdoc">Thread is stopped. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01371">final_platform_layer.hpp:1371</a></div></div>
<div class="ttc" id="group___window_base_html_ga3b59bf79f2c70c92b61c12741e75ae0a"><div class="ttname"><a href="group___window_base.html#ga3b59bf79f2c70c92b61c12741e75ae0a">fpl::window::WindowUpdate</a></div><div class="ttdeci">fpl_api bool WindowUpdate()</div><div class="ttdoc">Processes the message queue of the window. </div></div>
<div class="ttc" id="namespacefpl_1_1files_html"><div class="ttname"><a href="namespacefpl_1_1files.html">fpl::files</a></div><div class="ttdoc">Files &amp; directory functions and types. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01532">final_platform_layer.hpp:1532</a></div></div>
<div class="ttc" id="final__platform__layer_8hpp_html_ad67e19afe5bfc76f56e85436eac8cf4d"><div class="ttname"><a href="final__platform__layer_8hpp.html#ad67e19afe5bfc76f56e85436eac8cf4d">fpl_inline</a></div><div class="ttdeci">#define fpl_inline</div><div class="ttdoc">Inline function. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l00839">final_platform_layer.hpp:839</a></div></div>
<div class="ttc" id="group___initialization_html_ga03321db2296b045eee4fec9cd9aac3a2"><div class="ttname"><a href="group___initialization.html#ga03321db2296b045eee4fec9cd9aac3a2">fpl::InitPlatform</a></div><div class="ttdeci">fpl_api bool InitPlatform(const InitFlag initFlags, const Settings &amp;initSettings=DefaultSettings())</div><div class="ttdoc">Initialize the platform layer. </div></div>
<div class="ttc" id="structfpl_1_1_audio_device_format_html_a2a0f46f5c1d9d0bfa869bf3cfd71dbbd"><div class="ttname"><a href="structfpl_1_1_audio_device_format.html#a2a0f46f5c1d9d0bfa869bf3cfd71dbbd">fpl::AudioDeviceFormat::bufferSizeInFrames</a></div><div class="ttdeci">uint32_t bufferSizeInFrames</div><div class="ttdoc">Buffer size in frames for one period. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01189">final_platform_layer.hpp:1189</a></div></div>
<div class="ttc" id="structfpl_1_1video_1_1_video_back_buffer_html"><div class="ttname"><a href="structfpl_1_1video_1_1_video_back_buffer.html">fpl::video::VideoBackBuffer</a></div><div class="ttdoc">Video backbuffer container. Use this for accessing the pixels directly. Use with care! ...</div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02186">final_platform_layer.hpp:2186</a></div></div>
<div class="ttc" id="group___paths_html_ga2f024c3d4f8297173ca50a666cb69627"><div class="ttname"><a href="group___paths.html#ga2f024c3d4f8297173ca50a666cb69627">fpl::paths::ChangeFileExtension</a></div><div class="ttdeci">fpl_api char * ChangeFileExtension(const char *filePath, const char *newFileExtension, char *destPath, const uint32_t maxDestLen)</div><div class="ttdoc">Changes the file extension on the given source path and writes the result into the destination path...</div></div>
<div class="ttc" id="group___window_events_html_gacd548eac8922b72f3d2d57a2a21d4c24"><div class="ttname"><a href="group___window_events.html#gacd548eac8922b72f3d2d57a2a21d4c24">fpl::window::KeyboardModifierFlag</a></div><div class="ttdeci">KeyboardModifierFlags::KeyboardModifierFlagEnum KeyboardModifierFlag</div><div class="ttdoc">Keyboard modifier flag. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01912">final_platform_layer.hpp:1912</a></div></div>
<div class="ttc" id="group___atomics_html_ga93df5e810594beb7c9d50d30f2ee4a79"><div class="ttname"><a href="group___atomics.html#ga93df5e810594beb7c9d50d30f2ee4a79">fpl::atomics::AtomicAddS32</a></div><div class="ttdeci">fpl_api int32_t AtomicAddS32(volatile int32_t *value, const int32_t addend)</div><div class="ttdoc">Adds a 32-bit signed integer atomatically. Returns the value before the addition. ...</div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_gamepad_event_types_html_ab7b887afe0886bbabc52ee0d76a9b3f6a5c83f6407d107c48523cc27b7710d862"><div class="ttname"><a href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6a5c83f6407d107c48523cc27b7710d862">fpl::window::GamepadEventTypes::Connected</a></div><div class="ttdoc">Gamepad connected. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01985">final_platform_layer.hpp:1985</a></div></div>
<div class="ttc" id="group___console_html_gab30929f059d4467a70dc0269c9fb380b"><div class="ttname"><a href="group___console.html#gab30929f059d4467a70dc0269c9fb380b">fpl::console::ConsoleFormatError</a></div><div class="ttdeci">fpl_api void ConsoleFormatError(const char *format,...)</div><div class="ttdoc">Writes the given formatted text to the console error output. </div></div>
<div class="ttc" id="namespacefpl_1_1_video_compability_profiles_html_acfa373302044d5de2a2b41be42fdc5d2"><div class="ttname"><a href="namespacefpl_1_1_video_compability_profiles.html#acfa373302044d5de2a2b41be42fdc5d2">fpl::VideoCompabilityProfiles::VideoCompabilityProfileEnum</a></div><div class="ttdeci">VideoCompabilityProfileEnum</div><div class="ttdoc">Video compability profile enumeration. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01092">final_platform_layer.hpp:1092</a></div></div>
<div class="ttc" id="namespacefpl_1_1_init_flags_html_a3aaa570e446e656cbc2c25d2a1a76db0aa6f3ee9288c3c80c0a838cc7ef7459e1"><div class="ttname"><a href="namespacefpl_1_1_init_flags.html#a3aaa570e446e656cbc2c25d2a1a76db0aa6f3ee9288c3c80c0a838cc7ef7459e1">fpl::InitFlags::Audio</a></div><div class="ttdoc">Use audio playback. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01064">final_platform_layer.hpp:1064</a></div></div>
<div class="ttc" id="group___window_base_html_ga1c3c320dc9e29fa1aa5f86f0fd434e79"><div class="ttname"><a href="group___window_base.html#ga1c3c320dc9e29fa1aa5f86f0fd434e79">fpl::window::SetWindowPosition</a></div><div class="ttdeci">fpl_api void SetWindowPosition(const int32_t left, const int32_t top)</div><div class="ttdoc">Sets the window absolut position to the given coordinates. </div></div>
<div class="ttc" id="structfpl_1_1window_1_1_mouse_event_html_a1ea9badf6365cb020c77e735ca6e2298"><div class="ttname"><a href="structfpl_1_1window_1_1_mouse_event.html#a1ea9badf6365cb020c77e735ca6e2298">fpl::window::MouseEvent::mouseButton</a></div><div class="ttdeci">MouseButtonType mouseButton</div><div class="ttdoc">Mouse button. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01969">final_platform_layer.hpp:1969</a></div></div>
<div class="ttc" id="structfpl_1_1video_1_1_video_back_buffer_html_af423b416ba0131dd3483f7f25a3d6496"><div class="ttname"><a href="structfpl_1_1video_1_1_video_back_buffer.html#af423b416ba0131dd3483f7f25a3d6496">fpl::video::VideoBackBuffer::pixels</a></div><div class="ttdeci">uint32_t * pixels</div><div class="ttdoc">The 32-bit pixel top-down array, format: 0xAABBGGRR. Do not modify before WindowUpdate. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02188">final_platform_layer.hpp:2188</a></div></div>
<div class="ttc" id="structfpl_1_1_video_settings_html_ac4088c2f193c99b722963acba7c919cd"><div class="ttname"><a href="structfpl_1_1_video_settings.html#ac4088c2f193c99b722963acba7c919cd">fpl::VideoSettings::profile</a></div><div class="ttdeci">VideoCompabilityProfile profile</div><div class="ttdoc">Compability profile. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01109">final_platform_layer.hpp:1109</a></div></div>
<div class="ttc" id="structfpl_1_1window_1_1_gamepad_event_html_a2099e9363b9ed33032c3477dc9bca554"><div class="ttname"><a href="structfpl_1_1window_1_1_gamepad_event.html#a2099e9363b9ed33032c3477dc9bca554">fpl::window::GamepadEvent::deviceIndex</a></div><div class="ttdeci">uint32_t deviceIndex</div><div class="ttdoc">Gamepad device index. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02063">final_platform_layer.hpp:2063</a></div></div>
<div class="ttc" id="group___files_html_ga0884301043e2c2df8433055bccb3d83f"><div class="ttname"><a href="group___files.html#ga0884301043e2c2df8433055bccb3d83f">fpl::files::ReadFileBlock32</a></div><div class="ttdeci">fpl_api uint32_t ReadFileBlock32(const FileHandle &amp;fileHandle, const uint32_t sizeToRead, void *targetBuffer, const uint32_t maxTargetBufferSize)</div><div class="ttdoc">Reads a block from the given file handle and returns the number of bytes readed. Operation is limited...</div></div>
<div class="ttc" id="group___threading_html_gadf5a26ce3c88ba521a6a291e2ee956f7"><div class="ttname"><a href="group___threading.html#gadf5a26ce3c88ba521a6a291e2ee956f7">fpl::threading::SignalWakeUp</a></div><div class="ttdeci">fpl_api bool SignalWakeUp(ThreadSignal &amp;availableSignal)</div><div class="ttdoc">Wakes up the given signal. </div></div>
<div class="ttc" id="structfpl_1_1window_1_1_window_position_html_a3a8869384ea2676df0d54ae197574ca0"><div class="ttname"><a href="structfpl_1_1window_1_1_window_position.html#a3a8869384ea2676df0d54ae197574ca0">fpl::window::WindowPosition::left</a></div><div class="ttdeci">int32_t left</div><div class="ttdoc">Left position in screen coordinates. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02123">final_platform_layer.hpp:2123</a></div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_keyboard_modifier_flags_html_a957a3d95f8261e7566585d65f203300d"><div class="ttname"><a href="namespacefpl_1_1window_1_1_keyboard_modifier_flags.html#a957a3d95f8261e7566585d65f203300d">fpl::window::KeyboardModifierFlags::KeyboardModifierFlagEnum</a></div><div class="ttdeci">KeyboardModifierFlagEnum</div><div class="ttdoc">Keyboard modifier flag enumeration. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01900">final_platform_layer.hpp:1900</a></div></div>
<div class="ttc" id="structfpl_1_1_video_settings_html_ac99e6a0bc71882b9209875f09e632e47"><div class="ttname"><a href="structfpl_1_1_video_settings.html#ac99e6a0bc71882b9209875f09e632e47">fpl::VideoSettings::minorVersion</a></div><div class="ttdeci">uint32_t minorVersion</div><div class="ttdoc">Desired minor version. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01113">final_platform_layer.hpp:1113</a></div></div>
<div class="ttc" id="group___files_html_ga1fe4036fdf8efdad20c3f297bc91955f"><div class="ttname"><a href="group___files.html#ga1fe4036fdf8efdad20c3f297bc91955f">fpl::files::ListFilesEnd</a></div><div class="ttdeci">fpl_api void ListFilesEnd(FileEntry *lastEntry)</div><div class="ttdoc">Releases opened resources from iterating through files / directories. </div></div>
<div class="ttc" id="group___window_base_html_gad44e694b9233bea8dfd3aeb70de3744c"><div class="ttname"><a href="group___window_base.html#gad44e694b9233bea8dfd3aeb70de3744c">fpl::window::SetWindowFullscreen</a></div><div class="ttdeci">fpl_api void SetWindowFullscreen(const bool value, const uint32_t fullscreenWidth=0, const uint32_t fullscreenHeight=0, const uint32_t refreshRate=0)</div><div class="ttdoc">Enables or disables fullscreen mode. </div></div>
<div class="ttc" id="group___atomics_html_ga12eabfd1b3473e2750879bd6efe5add2"><div class="ttname"><a href="group___atomics.html#ga12eabfd1b3473e2750879bd6efe5add2">fpl::atomics::AtomicLoadS64</a></div><div class="ttdeci">fpl_api int64_t AtomicLoadS64(volatile int64_t *source)</div><div class="ttdoc">Loads the 64-bit signed value atomically and returns the result. </div></div>
<div class="ttc" id="group___settings_html_ga433f5dc8e4c59843f149f14da279f7e1"><div class="ttname"><a href="group___settings.html#ga433f5dc8e4c59843f149f14da279f7e1">fpl::DefaultAudioSettings</a></div><div class="ttdeci">fpl_inline AudioSettings DefaultAudioSettings()</div><div class="ttdoc">Make default audio settings (S16 PCM, 48 KHz, 2 Channels) </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01212">final_platform_layer.hpp:1212</a></div></div>
<div class="ttc" id="structfpl_1_1window_1_1_gamepad_button_html_af961498b90ccf7aebe0190badff0528e"><div class="ttname"><a href="structfpl_1_1window_1_1_gamepad_button.html#af961498b90ccf7aebe0190badff0528e">fpl::window::GamepadButton::isDown</a></div><div class="ttdeci">bool isDown</div><div class="ttdoc">Is button down. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01998">final_platform_layer.hpp:1998</a></div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_keyboard_modifier_flags_html_a957a3d95f8261e7566585d65f203300da010c62082cc00f9ea71fc83b9470f9b0"><div class="ttname"><a href="namespacefpl_1_1window_1_1_keyboard_modifier_flags.html#a957a3d95f8261e7566585d65f203300da010c62082cc00f9ea71fc83b9470f9b0">fpl::window::KeyboardModifierFlags::Ctrl</a></div><div class="ttdoc">Ctrl key is down. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01906">final_platform_layer.hpp:1906</a></div></div>
<div class="ttc" id="namespacefpl_1_1files_1_1_file_attribute_flags_html_a35ecb1521633ae298b52680df677b660a92cb4dc164446097f896d2a6d38acde3"><div class="ttname"><a href="namespacefpl_1_1files_1_1_file_attribute_flags.html#a35ecb1521633ae298b52680df677b660a92cb4dc164446097f896d2a6d38acde3">fpl::files::FileAttributeFlags::Hidden</a></div><div class="ttdoc">Hidden. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01588">final_platform_layer.hpp:1588</a></div></div>
<div class="ttc" id="group___window_events_html_ga057ee4e0897365308d63f1e2ca32df59"><div class="ttname"><a href="group___window_events.html#ga057ee4e0897365308d63f1e2ca32df59">fpl::window::MouseEventType</a></div><div class="ttdeci">MouseEventTypes::MouseEventTypeEnum MouseEventType</div><div class="ttdoc">Mouse event type. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01943">final_platform_layer.hpp:1943</a></div></div>
<div class="ttc" id="structfpl_1_1window_1_1_gamepad_state_html_a70fea4da5b4992cdb7f12d7054e8e76d"><div class="ttname"><a href="structfpl_1_1window_1_1_gamepad_state.html#a70fea4da5b4992cdb7f12d7054e8e76d">fpl::window::GamepadState::actionB</a></div><div class="ttdeci">GamepadButton actionB</div><div class="ttdoc">Action button B. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02017">final_platform_layer.hpp:2017</a></div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_keyboard_modifier_flags_html_a957a3d95f8261e7566585d65f203300da44f3ffe3ef7d60b54a3275b19969d297"><div class="ttname"><a href="namespacefpl_1_1window_1_1_keyboard_modifier_flags.html#a957a3d95f8261e7566585d65f203300da44f3ffe3ef7d60b54a3275b19969d297">fpl::window::KeyboardModifierFlags::Super</a></div><div class="ttdoc">Super key is down. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01910">final_platform_layer.hpp:1910</a></div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_mouse_event_types_html_abac384b9b1e9bdf36d032f1c9ffcaa14a6fd26cf62de67b3267881614e7439d2c"><div class="ttname"><a href="namespacefpl_1_1window_1_1_mouse_event_types.html#abac384b9b1e9bdf36d032f1c9ffcaa14a6fd26cf62de67b3267881614e7439d2c">fpl::window::MouseEventTypes::Move</a></div><div class="ttdoc">Mouse position has been changed. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01935">final_platform_layer.hpp:1935</a></div></div>
<div class="ttc" id="namespacefpl_1_1strings_html"><div class="ttname"><a href="namespacefpl_1_1strings.html">fpl::strings</a></div><div class="ttdoc">String functions. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01500">final_platform_layer.hpp:1500</a></div></div>
<div class="ttc" id="group___threading_html_gaee83c654cfd2d0aa41de1c03b9d3cd5c"><div class="ttname"><a href="group___threading.html#gaee83c654cfd2d0aa41de1c03b9d3cd5c">fpl::threading::SignalCreate</a></div><div class="ttdeci">fpl_api ThreadSignal SignalCreate()</div><div class="ttdoc">Creates a signal. </div></div>
<div class="ttc" id="structfpl_1_1window_1_1_gamepad_event_html_a9f0b1ac2350741a009afbf419b139efd"><div class="ttname"><a href="structfpl_1_1window_1_1_gamepad_event.html#a9f0b1ac2350741a009afbf419b139efd">fpl::window::GamepadEvent::state</a></div><div class="ttdeci">GamepadState state</div><div class="ttdoc">Full gamepad state. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02065">final_platform_layer.hpp:2065</a></div></div>
<div class="ttc" id="structfpl_1_1files_1_1_file_entry_html_afa11bffe1b30ae51ebd18a67a0996dc5"><div class="ttname"><a href="structfpl_1_1files_1_1_file_entry.html#afa11bffe1b30ae51ebd18a67a0996dc5">fpl::files::FileEntry::type</a></div><div class="ttdeci">FileEntryType type</div><div class="ttdoc">Entry type. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01606">final_platform_layer.hpp:1606</a></div></div>
<div class="ttc" id="structfpl_1_1library_1_1_dynamic_library_handle_html_ac7c12c02a587d3e4969fdd1100faa4c5"><div class="ttname"><a href="structfpl_1_1library_1_1_dynamic_library_handle.html#ac7c12c02a587d3e4969fdd1100faa4c5">fpl::library::DynamicLibraryHandle::isValid</a></div><div class="ttdeci">bool isValid</div><div class="ttdoc">Library opened successfully. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01325">final_platform_layer.hpp:1325</a></div></div>
<div class="ttc" id="namespacefpl_1_1_video_compability_profiles_html_acfa373302044d5de2a2b41be42fdc5d2a8919fc080c43755b398cb30e7c310d28"><div class="ttname"><a href="namespacefpl_1_1_video_compability_profiles.html#acfa373302044d5de2a2b41be42fdc5d2a8919fc080c43755b398cb30e7c310d28">fpl::VideoCompabilityProfiles::Forward</a></div><div class="ttdoc">Use foward context without backwards compability. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01098">final_platform_layer.hpp:1098</a></div></div>
<div class="ttc" id="group___paths_html_gaf8e72dff34e3ab55bed53daafc27a503"><div class="ttname"><a href="group___paths.html#gaf8e72dff34e3ab55bed53daafc27a503">fpl::paths::GetHomePath</a></div><div class="ttdeci">fpl_api char * GetHomePath(char *destPath, const uint32_t maxDestLen)</div><div class="ttdoc">Returns the full path to your home directory. Result is written in the required destination buffer...</div></div>
<div class="ttc" id="namespacefpl_1_1files_1_1_file_attribute_flags_html_a35ecb1521633ae298b52680df677b660"><div class="ttname"><a href="namespacefpl_1_1files_1_1_file_attribute_flags.html#a35ecb1521633ae298b52680df677b660">fpl::files::FileAttributeFlags::FileAttributeFlagEnum</a></div><div class="ttdeci">FileAttributeFlagEnum</div><div class="ttdoc">File attribute flag enumeration. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01580">final_platform_layer.hpp:1580</a></div></div>
<div class="ttc" id="group___strings_html_ga2f5f224289b7bf9d19bb5684cd19fac1"><div class="ttname"><a href="group___strings.html#ga2f5f224289b7bf9d19bb5684cd19fac1">fpl::strings::GetWideStringLength</a></div><div class="ttdeci">fpl_api uint32_t GetWideStringLength(const wchar_t *str)</div><div class="ttdoc">Returns the number of characters of the given 16-bit Wide string. Null terminator is not included...</div></div>
<div class="ttc" id="structfpl_1_1_settings_html_aadb06288e16db965235bdb22ff8c0ba9"><div class="ttname"><a href="structfpl_1_1_settings.html#aadb06288e16db965235bdb22ff8c0ba9">fpl::Settings::window</a></div><div class="ttdeci">WindowSettings window</div><div class="ttdoc">Window settings. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01263">final_platform_layer.hpp:1263</a></div></div>
<div class="ttc" id="group___atomics_html_ga01905a5db859475f4b394ed469af0c5a"><div class="ttname"><a href="group___atomics.html#ga01905a5db859475f4b394ed469af0c5a">fpl::atomics::AtomicStoreU32</a></div><div class="ttdeci">fpl_api void AtomicStoreU32(volatile uint32_t *dest, const uint32_t value)</div><div class="ttdoc">Stores the 32-bit unsigned value atomically into the target. </div></div>
<div class="ttc" id="group___atomics_html_ga906723d4ae40442122864b0016e165ea"><div class="ttname"><a href="group___atomics.html#ga906723d4ae40442122864b0016e165ea">fpl::atomics::IsAtomicCompareAndExchangeS64</a></div><div class="ttdeci">fpl_api bool IsAtomicCompareAndExchangeS64(volatile int64_t *dest, const int64_t comparand, const int64_t exchange)</div><div class="ttdoc">Returns true when a 64-bit signed integer equals the comparand. In addition dest will be changed to t...</div></div>
<div class="ttc" id="group___dynamic_library_html_ga12045d7ac370414026e73bd5cbb2a1b1"><div class="ttname"><a href="group___dynamic_library.html#ga12045d7ac370414026e73bd5cbb2a1b1">fpl::library::GetDynamicLibraryProc</a></div><div class="ttdeci">fpl_api void * GetDynamicLibraryProc(const DynamicLibraryHandle &amp;handle, const char *name)</div><div class="ttdoc">Returns the dynamic library procedure address for the given procedure name. </div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_gamepad_event_types_html_ab7b887afe0886bbabc52ee0d76a9b3f6"><div class="ttname"><a href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6">fpl::window::GamepadEventTypes::GamepadEventTypeEnum</a></div><div class="ttdeci">GamepadEventTypeEnum</div><div class="ttdoc">Gamepad event type enumeration. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01981">final_platform_layer.hpp:1981</a></div></div>
<div class="ttc" id="group___atomics_html_gafcc9f50de85f288d137ef28f199b8a43"><div class="ttname"><a href="group___atomics.html#gafcc9f50de85f288d137ef28f199b8a43">fpl::atomics::IsAtomicCompareAndExchangeU64</a></div><div class="ttdeci">fpl_api bool IsAtomicCompareAndExchangeU64(volatile uint64_t *dest, const uint64_t comparand, const uint64_t exchange)</div><div class="ttdoc">Returns true when a 64-bit unsigned integer equals the comparand. In addition dest will be changed to...</div></div>
<div class="ttc" id="structfpl_1_1window_1_1_gamepad_state_html_a195956749363bc5370942668de04823e"><div class="ttname"><a href="structfpl_1_1window_1_1_gamepad_state.html#a195956749363bc5370942668de04823e">fpl::window::GamepadState::start</a></div><div class="ttdeci">GamepadButton start</div><div class="ttdoc">Start button. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02024">final_platform_layer.hpp:2024</a></div></div>
<div class="ttc" id="group___window_clipboard_html_ga9ad3697817a0dfdbc2527e4087413c8d"><div class="ttname"><a href="group___window_clipboard.html#ga9ad3697817a0dfdbc2527e4087413c8d">fpl::window::GetClipboardAnsiText</a></div><div class="ttdeci">fpl_api char * GetClipboardAnsiText(char *dest, const uint32_t maxDestLen)</div><div class="ttdoc">Returns the current clipboard ansi text. </div></div>
<div class="ttc" id="structfpl_1_1window_1_1_event_html_a64673c8ea91ac21ce618ed73fe413ba8"><div class="ttname"><a href="structfpl_1_1window_1_1_event.html#a64673c8ea91ac21ce618ed73fe413ba8">fpl::window::Event::mouse</a></div><div class="ttdeci">MouseEvent mouse</div><div class="ttdoc">Mouse event data. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02095">final_platform_layer.hpp:2095</a></div></div>
<div class="ttc" id="structfpl_1_1window_1_1_gamepad_state_html_a6b97a638bcedc86823de45b5d4c88321"><div class="ttname"><a href="structfpl_1_1window_1_1_gamepad_state.html#a6b97a638bcedc86823de45b5d4c88321">fpl::window::GamepadState::actionY</a></div><div class="ttdeci">GamepadButton actionY</div><div class="ttdoc">Action button Y. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02021">final_platform_layer.hpp:2021</a></div></div>
<div class="ttc" id="group___window_base_html_gaad836fba746600304f58f1d07d12ab72"><div class="ttname"><a href="group___window_base.html#gaad836fba746600304f58f1d07d12ab72">fpl::window::WindowFlip</a></div><div class="ttdeci">fpl_api void WindowFlip()</div><div class="ttdoc">Forces the window to redraw or swap the back/front buffer. </div></div>
<div class="ttc" id="structfpl_1_1window_1_1_gamepad_state_html_ab51c6ee5725df609171143b22fcde895"><div class="ttname"><a href="structfpl_1_1window_1_1_gamepad_state.html#ab51c6ee5725df609171143b22fcde895">fpl::window::GamepadState::rightShoulder</a></div><div class="ttdeci">GamepadButton rightShoulder</div><div class="ttdoc">Right shoulder button. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02036">final_platform_layer.hpp:2036</a></div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_window_event_types_html_abe653c1f4e9a9e70d79b5df52aacb6c5a697948bad8a0fcc5ffa385461bfe2e4c"><div class="ttname"><a href="namespacefpl_1_1window_1_1_window_event_types.html#abe653c1f4e9a9e70d79b5df52aacb6c5a697948bad8a0fcc5ffa385461bfe2e4c">fpl::window::WindowEventTypes::Resized</a></div><div class="ttdoc">Window has been resized. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01862">final_platform_layer.hpp:1862</a></div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_keyboard_modifier_flags_html_a957a3d95f8261e7566585d65f203300da80081e7c30d4047ee227dd2c226b7cef"><div class="ttname"><a href="namespacefpl_1_1window_1_1_keyboard_modifier_flags.html#a957a3d95f8261e7566585d65f203300da80081e7c30d4047ee227dd2c226b7cef">fpl::window::KeyboardModifierFlags::Shift</a></div><div class="ttdoc">Shift key is down. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01908">final_platform_layer.hpp:1908</a></div></div>
<div class="ttc" id="group___audio_html_ga7c7306211763682dc822438ca375933d"><div class="ttname"><a href="group___audio.html#ga7c7306211763682dc822438ca375933d">fpl::audio::StopAudio</a></div><div class="ttdeci">fpl_api AudioResult StopAudio()</div><div class="ttdoc">Stop playing audio. </div></div>
<div class="ttc" id="group___hardware_html_ga4436ab750f9876cae642e985ddc31419"><div class="ttname"><a href="group___hardware.html#ga4436ab750f9876cae642e985ddc31419">fpl::hardware::GetProcessorCoreCount</a></div><div class="ttdeci">fpl_api uint32_t GetProcessorCoreCount()</div><div class="ttdoc">Returns the total number of processor cores. </div></div>
<div class="ttc" id="group___window_events_html_ga6a040ec83ded512501f53cc2db13f82b"><div class="ttname"><a href="group___window_events.html#ga6a040ec83ded512501f53cc2db13f82b">fpl::window::EventType</a></div><div class="ttdeci">EventTypes::EventTypeEnum EventType</div><div class="ttdoc">Event type. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02081">final_platform_layer.hpp:2081</a></div></div>
<div class="ttc" id="namespacefpl_1_1_audio_format_types_html_a584b62b8408e98f7b44cdef4984ce8c8"><div class="ttname"><a href="namespacefpl_1_1_audio_format_types.html#a584b62b8408e98f7b44cdef4984ce8c8">fpl::AudioFormatTypes::AudioFormatTypeEnum</a></div><div class="ttdeci">AudioFormatTypeEnum</div><div class="ttdoc">Audio format type enumeration. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01158">final_platform_layer.hpp:1158</a></div></div>
<div class="ttc" id="group___atomics_html_ga0fb15fee8df0c3577f16f00401e1872f"><div class="ttname"><a href="group___atomics.html#ga0fb15fee8df0c3577f16f00401e1872f">fpl::atomics::AtomicExchangePtr</a></div><div class="ttdeci">fpl_api void * AtomicExchangePtr(volatile void **target, const void *value)</div><div class="ttdoc">Replace a pointer with the given value atomically. Returns the target before the replacement. </div></div>
<div class="ttc" id="structfpl_1_1video_1_1_video_back_buffer_html_ad7a677841458395ab93db56d3ae57945"><div class="ttname"><a href="structfpl_1_1video_1_1_video_back_buffer.html#ad7a677841458395ab93db56d3ae57945">fpl::video::VideoBackBuffer::stride</a></div><div class="ttdeci">size_t stride</div><div class="ttdoc">The size of one scanline. Do not modify, it will be set automatically. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02194">final_platform_layer.hpp:2194</a></div></div>
<div class="ttc" id="group___atomics_html_ga2460e7047ec012a5859992fbf05aa29f"><div class="ttname"><a href="group___atomics.html#ga2460e7047ec012a5859992fbf05aa29f">fpl::atomics::AtomicLoadU32</a></div><div class="ttdeci">fpl_api uint32_t AtomicLoadU32(volatile uint32_t *source)</div><div class="ttdoc">Loads the 32-bit unsigned value atomically and returns the result. </div></div>
<div class="ttc" id="structfpl_1_1window_1_1_window_size_html_a5d126b1422ad5313a477b3baf0e6fe3a"><div class="ttname"><a href="structfpl_1_1window_1_1_window_size.html#a5d126b1422ad5313a477b3baf0e6fe3a">fpl::window::WindowSize::height</a></div><div class="ttdeci">uint32_t height</div><div class="ttdoc">Height in screen coordinates. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02117">final_platform_layer.hpp:2117</a></div></div>
<div class="ttc" id="group___atomics_html_gaa337659a4c9820f43542b8f81c4f66f4"><div class="ttname"><a href="group___atomics.html#gaa337659a4c9820f43542b8f81c4f66f4">fpl::atomics::AtomicExchangeS32</a></div><div class="ttdeci">fpl_api int32_t AtomicExchangeS32(volatile int32_t *target, const int32_t value)</div><div class="ttdoc">Replace a 32-bit signed integer with the given value atomically. Returns the target before the replac...</div></div>
<div class="ttc" id="group___dynamic_library_html_ga1bcd31bbe30503b4021bc86327c1605f"><div class="ttname"><a href="group___dynamic_library.html#ga1bcd31bbe30503b4021bc86327c1605f">fpl::library::DynamicLibraryUnload</a></div><div class="ttdeci">fpl_api void DynamicLibraryUnload(DynamicLibraryHandle &amp;handle)</div><div class="ttdoc">Releases the loaded library and resets the handle to zero. </div></div>
<div class="ttc" id="group___window_base_html_gaa9b22d92b69ab7740cafb932270df663"><div class="ttname"><a href="group___window_base.html#gaa9b22d92b69ab7740cafb932270df663">fpl::window::IsWindowFullscreen</a></div><div class="ttdeci">fpl_api bool IsWindowFullscreen()</div><div class="ttdoc">Returns true when the window is in fullscreen mode. </div></div>
<div class="ttc" id="group___memory_html_ga62c8cc6c740a8089309c6e28ec03d83a"><div class="ttname"><a href="group___memory.html#ga62c8cc6c740a8089309c6e28ec03d83a">fpl::memory::MemoryFree</a></div><div class="ttdeci">fpl_api void MemoryFree(void *ptr)</div><div class="ttdoc">Releases the memory allocated from the operating system. </div></div>
<div class="ttc" id="namespacefpl_1_1timings_html"><div class="ttname"><a href="namespacefpl_1_1timings.html">fpl::timings</a></div><div class="ttdoc">Timing and measurement functions. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01486">final_platform_layer.hpp:1486</a></div></div>
<div class="ttc" id="final__platform__layer_8hpp_html_ac981bef3df9c03ceb5f5717f8a77741b"><div class="ttname"><a href="final__platform__layer_8hpp.html#ac981bef3df9c03ceb5f5717f8a77741b">FPL_MIN</a></div><div class="ttdeci">#define FPL_MIN(a, b)</div><div class="ttdoc">Returns the smallest value. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l00908">final_platform_layer.hpp:908</a></div></div>
<div class="ttc" id="structfpl_1_1_audio_device_format_html_acaa09150895bec02cf08d2b3b9f6fb7e"><div class="ttname"><a href="structfpl_1_1_audio_device_format.html#acaa09150895bec02cf08d2b3b9f6fb7e">fpl::AudioDeviceFormat::bufferSizeInBytes</a></div><div class="ttdeci">uint32_t bufferSizeInBytes</div><div class="ttdoc">Buffer size for one period. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01187">final_platform_layer.hpp:1187</a></div></div>
<div class="ttc" id="group___threading_html_gab78be4e5aa5bc3f267c844d2d9e46ce7"><div class="ttname"><a href="group___threading.html#gab78be4e5aa5bc3f267c844d2d9e46ce7">fpl::threading::ThreadDestroy</a></div><div class="ttdeci">fpl_api void ThreadDestroy(ThreadContext *context)</div><div class="ttdoc">Stop the given thread and release all underlying resources. </div></div>
<div class="ttc" id="structfpl_1_1window_1_1_gamepad_state_html_ab94fe8de4f80353fb8f661f83a439149"><div class="ttname"><a href="structfpl_1_1window_1_1_gamepad_state.html#ab94fe8de4f80353fb8f661f83a439149">fpl::window::GamepadState::rightThumb</a></div><div class="ttdeci">GamepadButton rightThumb</div><div class="ttdoc">Analog right thumb button. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02031">final_platform_layer.hpp:2031</a></div></div>
<div class="ttc" id="group___strings_html_ga5deb86f97d22b96c050f1dddbeb8b153"><div class="ttname"><a href="group___strings.html#ga5deb86f97d22b96c050f1dddbeb8b153">fpl::strings::WideStringToAnsiString</a></div><div class="ttdeci">fpl_api char * WideStringToAnsiString(const wchar_t *wideSource, const uint32_t maxWideSourceLen, char *ansiDest, const uint32_t maxAnsiDestLen)</div><div class="ttdoc">Converts the given 16-bit source Wide string with length in a 8-bit Ansi string. Does not allocate an...</div></div>
<div class="ttc" id="group___window_events_html_ga9fafe3f58020ece768d732e1185683b8"><div class="ttname"><a href="group___window_events.html#ga9fafe3f58020ece768d732e1185683b8">fpl::window::MouseButtonType</a></div><div class="ttdeci">MouseButtonTypes::MouseButtonTypeEnum MouseButtonType</div><div class="ttdoc">Mouse button type. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01960">final_platform_layer.hpp:1960</a></div></div>
<div class="ttc" id="group___hardware_html_ga9bc84d10830c46188cb9794459051b11"><div class="ttname"><a href="group___hardware.html#ga9bc84d10830c46188cb9794459051b11">fpl::hardware::GetProcessorName</a></div><div class="ttdeci">fpl_api char * GetProcessorName(char *destBuffer, const uint32_t maxDestBufferLen)</div><div class="ttdoc">Returns the processor name/identifier. Result is written in the required destination buffer...</div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_event_types_html_ac1b654b98c2774f73b1b089f2886fc4face10a215276c2c038697d49b40777141"><div class="ttname"><a href="namespacefpl_1_1window_1_1_event_types.html#ac1b654b98c2774f73b1b089f2886fc4face10a215276c2c038697d49b40777141">fpl::window::EventTypes::Window</a></div><div class="ttdoc">Window event. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02073">final_platform_layer.hpp:2073</a></div></div>
<div class="ttc" id="group___console_html_ga5c6818646bf4500afb78745d63e00469"><div class="ttname"><a href="group___console.html#ga5c6818646bf4500afb78745d63e00469">fpl::console::ConsoleOut</a></div><div class="ttdeci">fpl_api void ConsoleOut(const char *text)</div><div class="ttdoc">Writes the given text to the default console output. </div></div>
<div class="ttc" id="structfpl_1_1_window_settings_html_a31f86bfc3450f5e82388fffb8c433b37"><div class="ttname"><a href="structfpl_1_1_window_settings.html#a31f86bfc3450f5e82388fffb8c433b37">fpl::WindowSettings::windowWidth</a></div><div class="ttdeci">uint32_t windowWidth</div><div class="ttdoc">Window width in screen coordinates. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01234">final_platform_layer.hpp:1234</a></div></div>
<div class="ttc" id="structfpl_1_1files_1_1_file_handle_html_adc4e830cd01b7283dec31109c978d950"><div class="ttname"><a href="structfpl_1_1files_1_1_file_handle.html#adc4e830cd01b7283dec31109c978d950">fpl::files::FileHandle::internalHandle</a></div><div class="ttdeci">void * internalHandle</div><div class="ttdoc">Internal file handle. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01542">final_platform_layer.hpp:1542</a></div></div>
<div class="ttc" id="structfpl_1_1window_1_1_window_event_html_abb7deca08eaa49b67630ec0c949d1b98"><div class="ttname"><a href="structfpl_1_1window_1_1_window_event.html#abb7deca08eaa49b67630ec0c949d1b98">fpl::window::WindowEvent::type</a></div><div class="ttdeci">WindowEventType type</div><div class="ttdoc">Window event type. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01875">final_platform_layer.hpp:1875</a></div></div>
<div class="ttc" id="group___memory_html_ga829c0017ffc716ac9302468d3ac41df2"><div class="ttname"><a href="group___memory.html#ga829c0017ffc716ac9302468d3ac41df2">fpl::memory::MemoryClear</a></div><div class="ttdeci">fpl_api void MemoryClear(void *mem, const size_t size)</div><div class="ttdoc">Clears the given memory by the given size to zero. </div></div>
<div class="ttc" id="group___settings_html_ga0a2cce1f784787afdfe4d00f12fbfae0"><div class="ttname"><a href="group___settings.html#ga0a2cce1f784787afdfe4d00f12fbfae0">fpl::DefaultVideoSettings</a></div><div class="ttdeci">fpl_inline VideoSettings DefaultVideoSettings()</div><div class="ttdoc">Make default settings for video. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01121">final_platform_layer.hpp:1121</a></div></div>
<div class="ttc" id="structfpl_1_1window_1_1_window_size_html"><div class="ttname"><a href="structfpl_1_1window_1_1_window_size.html">fpl::window::WindowSize</a></div><div class="ttdoc">Window size in screen coordinates. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02113">final_platform_layer.hpp:2113</a></div></div>
<div class="ttc" id="namespacefpl_1_1files_1_1_file_entry_types_html_ab340319655afa9567100787edb58aca5a7eb29991dc46e972737ae2584fc6a682"><div class="ttname"><a href="namespacefpl_1_1files_1_1_file_entry_types.html#ab340319655afa9567100787edb58aca5a7eb29991dc46e972737ae2584fc6a682">fpl::files::FileEntryTypes::Unknown</a></div><div class="ttdoc">Unknown entry type. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01567">final_platform_layer.hpp:1567</a></div></div>
<div class="ttc" id="final__platform__layer_8hpp_html_a15247947df186e1a456e037388e619a7"><div class="ttname"><a href="final__platform__layer_8hpp.html#a15247947df186e1a456e037388e619a7">fpl_globalvar</a></div><div class="ttdeci">#define fpl_globalvar</div><div class="ttdoc">Global persistent variable. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l00833">final_platform_layer.hpp:833</a></div></div>
<div class="ttc" id="structfpl_1_1window_1_1_gamepad_state_html_ab45005d26282db67df32f0376c238f95"><div class="ttname"><a href="structfpl_1_1window_1_1_gamepad_state.html#ab45005d26282db67df32f0376c238f95">fpl::window::GamepadState::leftShoulder</a></div><div class="ttdeci">GamepadButton leftShoulder</div><div class="ttdoc">Left shoulder button. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02034">final_platform_layer.hpp:2034</a></div></div>
<div class="ttc" id="namespacefpl_1_1_video_driver_types_html_a258cb7cd4b12cc998472708f70d55f7facec18deb73c81ed6ac84319bfb4311db"><div class="ttname"><a href="namespacefpl_1_1_video_driver_types.html#a258cb7cd4b12cc998472708f70d55f7facec18deb73c81ed6ac84319bfb4311db">fpl::VideoDriverTypes::Software</a></div><div class="ttdoc">Software. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01083">final_platform_layer.hpp:1083</a></div></div>
<div class="ttc" id="group___files_html_gaa3e7bb92f93e300d549a2fbf5bec740d"><div class="ttname"><a href="group___files.html#gaa3e7bb92f93e300d549a2fbf5bec740d">fpl::files::FileCopy</a></div><div class="ttdeci">fpl_api bool FileCopy(const char *sourceFilePath, const char *targetFilePath, const bool overwrite)</div><div class="ttdoc">Copies the given source file to the target path and returns truwe when copy was successful. Target path must include the full path to the file. When overwrite is set, the target file path will always be overwritten. </div></div>
<div class="ttc" id="group___atomics_html_gaa9c7bf288268d469be98e19a163ed636"><div class="ttname"><a href="group___atomics.html#gaa9c7bf288268d469be98e19a163ed636">fpl::atomics::AtomicStoreU64</a></div><div class="ttdeci">fpl_api void AtomicStoreU64(volatile uint64_t *dest, const uint64_t value)</div><div class="ttdoc">Stores the 64-bit unsigned value atomically into the target. </div></div>
<div class="ttc" id="group___paths_html_ga3b04dd2938642219a5a60630c2146e2b"><div class="ttname"><a href="group___paths.html#ga3b04dd2938642219a5a60630c2146e2b">fpl::paths::ExtractFileName</a></div><div class="ttdeci">fpl_api char * ExtractFileName(const char *sourcePath)</div><div class="ttdoc">Returns the file name including the file extension from the given source path. </div></div>
<div class="ttc" id="namespacefpl_1_1audio_1_1_audio_results_html_aa2612a356f6a8c7001e6e91eb1fd09b0"><div class="ttname"><a href="namespacefpl_1_1audio_1_1_audio_results.html#aa2612a356f6a8c7001e6e91eb1fd09b0">fpl::audio::AudioResults::AudioResultEnum</a></div><div class="ttdeci">AudioResultEnum</div><div class="ttdoc">Audio result enumeration. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02218">final_platform_layer.hpp:2218</a></div></div>
<div class="ttc" id="group___files_html_ga30affcb1b4a83e408ff6d4a8aa674c51"><div class="ttname"><a href="group___files.html#ga30affcb1b4a83e408ff6d4a8aa674c51">fpl::files::FileEntryType</a></div><div class="ttdeci">FileEntryTypes::FileEntryTypeEnum FileEntryType</div><div class="ttdoc">File entry type. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01573">final_platform_layer.hpp:1573</a></div></div>
<div class="ttc" id="group___files_html_gacc26bd5324fee12541bd61ff384df9ed"><div class="ttname"><a href="group___files.html#gacc26bd5324fee12541bd61ff384df9ed">fpl::files::RemoveEmptyDirectory</a></div><div class="ttdeci">fpl_api bool RemoveEmptyDirectory(const char *path)</div><div class="ttdoc">Deletes the given directory without confirmation and returns true when the deletion was successful...</div></div>
<div class="ttc" id="namespacefpl_1_1_video_compability_profiles_html_acfa373302044d5de2a2b41be42fdc5d2a6515c2e1d200fa8e9d6ad300782625ca"><div class="ttname"><a href="namespacefpl_1_1_video_compability_profiles.html#acfa373302044d5de2a2b41be42fdc5d2a6515c2e1d200fa8e9d6ad300782625ca">fpl::VideoCompabilityProfiles::Core</a></div><div class="ttdoc">Use core context with backwards compability. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01096">final_platform_layer.hpp:1096</a></div></div>
<div class="ttc" id="group___paths_html_ga85802af649a9637a3c57de4327c75313"><div class="ttname"><a href="group___paths.html#ga85802af649a9637a3c57de4327c75313">fpl::paths::ExtractFileExtension</a></div><div class="ttdeci">fpl_api char * ExtractFileExtension(const char *sourcePath)</div><div class="ttdoc">Returns the file extension from the given source path. </div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_gamepad_event_types_html_ab7b887afe0886bbabc52ee0d76a9b3f6ae8a2632fcb4f5071a0f1cbda11d10da8"><div class="ttname"><a href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6ae8a2632fcb4f5071a0f1cbda11d10da8">fpl::window::GamepadEventTypes::StateChanged</a></div><div class="ttdoc">Gamepad state updated. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01989">final_platform_layer.hpp:1989</a></div></div>
<div class="ttc" id="group___console_html_gad6e322c2dc4df3e2424979bde28d97aa"><div class="ttname"><a href="group___console.html#gad6e322c2dc4df3e2424979bde28d97aa">fpl::console::ConsoleFormatOut</a></div><div class="ttdeci">fpl_api void ConsoleFormatOut(const char *format,...)</div><div class="ttdoc">Writes the given formatted text to the default console output. </div></div>
<div class="ttc" id="structfpl_1_1window_1_1_window_event_html_ab5dfad611a3b242d0b144388f5c0d082"><div class="ttname"><a href="structfpl_1_1window_1_1_window_event.html#ab5dfad611a3b242d0b144388f5c0d082">fpl::window::WindowEvent::height</a></div><div class="ttdeci">uint32_t height</div><div class="ttdoc">Window height in screen coordinates. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01879">final_platform_layer.hpp:1879</a></div></div>
<div class="ttc" id="namespacefpl_1_1files_1_1_file_entry_types_html_ab340319655afa9567100787edb58aca5ae455af0784c7e1940deb56e6e90db239"><div class="ttname"><a href="namespacefpl_1_1files_1_1_file_entry_types.html#ab340319655afa9567100787edb58aca5ae455af0784c7e1940deb56e6e90db239">fpl::files::FileEntryTypes::Directory</a></div><div class="ttdoc">Entry is a directory. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01571">final_platform_layer.hpp:1571</a></div></div>
<div class="ttc" id="group___audio_html_gab74286317a34e70379c2bdcd4756c02e"><div class="ttname"><a href="group___audio.html#gab74286317a34e70379c2bdcd4756c02e">fpl::audio::SetAudioClientReadCallback</a></div><div class="ttdeci">fpl_api void SetAudioClientReadCallback(AudioClientReadFunction *newCallback, void *userData)</div><div class="ttdoc">Overwrites the audio client read callback. This has no effect when audio is already playing...</div></div>
<div class="ttc" id="structfpl_1_1threading_1_1_thread_context_html"><div class="ttname"><a href="structfpl_1_1threading_1_1_thread_context.html">fpl::threading::ThreadContext</a></div><div class="ttdoc">Stores all required information for a thread, like its handle and its state, etc. ...</div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01386">final_platform_layer.hpp:1386</a></div></div>
<div class="ttc" id="group___atomics_html_ga6a2897035fe8ae0fd64084f98012e2e6"><div class="ttname"><a href="group___atomics.html#ga6a2897035fe8ae0fd64084f98012e2e6">fpl::atomics::AtomicStoreS64</a></div><div class="ttdeci">fpl_api void AtomicStoreS64(volatile int64_t *dest, const int64_t value)</div><div class="ttdoc">Stores the 64-bit signed value atomically into the target. </div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_mouse_button_types_html_a8421a50986b384eb037e31a522bc223ba21e18548a024a2d281a1ecb3a936d1f9"><div class="ttname"><a href="namespacefpl_1_1window_1_1_mouse_button_types.html#a8421a50986b384eb037e31a522bc223ba21e18548a024a2d281a1ecb3a936d1f9">fpl::window::MouseButtonTypes::Right</a></div><div class="ttdoc">Right mouse button. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01956">final_platform_layer.hpp:1956</a></div></div>
<div class="ttc" id="group___atomics_html_gad73f549eac689a46e21e30aedae93c49"><div class="ttname"><a href="group___atomics.html#gad73f549eac689a46e21e30aedae93c49">fpl::atomics::AtomicReadFence</a></div><div class="ttdeci">fpl_api void AtomicReadFence()</div><div class="ttdoc">Insert a atomic read fence/barrier. This will complete previous reads before future reads and prevent...</div></div>
<div class="ttc" id="group___threading_html_ga9f307a0b49aa4aa46886010d9eb88e0f"><div class="ttname"><a href="group___threading.html#ga9f307a0b49aa4aa46886010d9eb88e0f">fpl::threading::ThreadWaitForAll</a></div><div class="ttdeci">fpl_api void ThreadWaitForAll(ThreadContext **contexts, const uint32_t count, const uint32_t maxMilliseconds=UINT32_MAX)</div><div class="ttdoc">Wait until all given threads are done running. When maxMilliseconds is set to UINT32_MAX it will wait...</div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_mouse_event_types_html_abac384b9b1e9bdf36d032f1c9ffcaa14a2df562dfe92c28636667d9ad45185112"><div class="ttname"><a href="namespacefpl_1_1window_1_1_mouse_event_types.html#abac384b9b1e9bdf36d032f1c9ffcaa14a2df562dfe92c28636667d9ad45185112">fpl::window::MouseEventTypes::ButtonDown</a></div><div class="ttdoc">Mouse button is down. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01937">final_platform_layer.hpp:1937</a></div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_gamepad_event_types_html_ab7b887afe0886bbabc52ee0d76a9b3f6afc310a3cf2b78b9d8ac95038bacb25c7"><div class="ttname"><a href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6afc310a3cf2b78b9d8ac95038bacb25c7">fpl::window::GamepadEventTypes::None</a></div><div class="ttdoc">No gamepad event. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01983">final_platform_layer.hpp:1983</a></div></div>
<div class="ttc" id="group___video_html_ga66afa77e909dab32517268006e8da8da"><div class="ttname"><a href="group___video.html#ga66afa77e909dab32517268006e8da8da">fpl::video::GetVideoBackBuffer</a></div><div class="ttdeci">fpl_api VideoBackBuffer * GetVideoBackBuffer()</div><div class="ttdoc">Returns the pointer to the video software context. </div></div>
<div class="ttc" id="group___audio_html_ga0b9d3595b9898f3d47e2a87e6d497c76"><div class="ttname"><a href="group___audio.html#ga0b9d3595b9898f3d47e2a87e6d497c76">fpl::audio::GetAudioHardwareFormat</a></div><div class="ttdeci">fpl_api const AudioDeviceFormat &amp; GetAudioHardwareFormat()</div><div class="ttdoc">Returns the native format for the current audio device. </div></div>
<div class="ttc" id="structfpl_1_1window_1_1_gamepad_state_html_a696ad4932c852991274b89a109d3f228"><div class="ttname"><a href="structfpl_1_1window_1_1_gamepad_state.html#a696ad4932c852991274b89a109d3f228">fpl::window::GamepadState::dpadDown</a></div><div class="ttdeci">GamepadButton dpadDown</div><div class="ttdoc">Digital button down. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02010">final_platform_layer.hpp:2010</a></div></div>
<div class="ttc" id="structfpl_1_1threading_1_1_thread_context_html_a45e220e49d9bbd9239f234b6ecd8bfd8"><div class="ttname"><a href="structfpl_1_1threading_1_1_thread_context.html#a45e220e49d9bbd9239f234b6ecd8bfd8">fpl::threading::ThreadContext::data</a></div><div class="ttdeci">void * data</div><div class="ttdoc">The user data passed to the run function. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01392">final_platform_layer.hpp:1392</a></div></div>
<div class="ttc" id="structfpl_1_1window_1_1_mouse_event_html_ae41d90b6630a3feecb2c2a72d9d64af5"><div class="ttname"><a href="structfpl_1_1window_1_1_mouse_event.html#ae41d90b6630a3feecb2c2a72d9d64af5">fpl::window::MouseEvent::wheelDelta</a></div><div class="ttdeci">float wheelDelta</div><div class="ttdoc">Mouse wheel delta. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01975">final_platform_layer.hpp:1975</a></div></div>
<div class="ttc" id="group___settings_html_ga6eecc72936058abdbebfad659b886980"><div class="ttname"><a href="group___settings.html#ga6eecc72936058abdbebfad659b886980">fpl::GetCurrentSettings</a></div><div class="ttdeci">fpl_api const Settings &amp; GetCurrentSettings()</div><div class="ttdoc">Returns the current settings. </div></div>
<div class="ttc" id="namespacefpl_1_1video_html"><div class="ttname"><a href="namespacefpl_1_1video.html">fpl::video</a></div><div class="ttdoc">Video context access. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02178">final_platform_layer.hpp:2178</a></div></div>
<div class="ttc" id="structfpl_1_1window_1_1_gamepad_state_html_ac795a6e053ed36a4e0617564b1398001"><div class="ttname"><a href="structfpl_1_1window_1_1_gamepad_state.html#ac795a6e053ed36a4e0617564b1398001">fpl::window::GamepadState::leftStickY</a></div><div class="ttdeci">float leftStickY</div><div class="ttdoc">Analog left thumb Y in range (-1.0 to 1.0f) </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02046">final_platform_layer.hpp:2046</a></div></div>
<div class="ttc" id="group___paths_html_ga9350ed786eba22a1c85695d25dbd22c5"><div class="ttname"><a href="group___paths.html#ga9350ed786eba22a1c85695d25dbd22c5">fpl::paths::ExtractFilePath</a></div><div class="ttdeci">fpl_api char * ExtractFilePath(const char *sourcePath, char *destPath, const uint32_t maxDestLen)</div><div class="ttdoc">Returns the path from the given source path. Result is written in the required destination buffer...</div></div>
<div class="ttc" id="group___strings_html_ga01c5c0fb7305308d62cfde2620598ece"><div class="ttname"><a href="group___strings.html#ga01c5c0fb7305308d62cfde2620598ece">fpl::strings::UTF8StringToWideString</a></div><div class="ttdeci">fpl_api wchar_t * UTF8StringToWideString(const char *utf8Source, const uint32_t utf8SourceLen, wchar_t *wideDest, const uint32_t maxWideDestLen)</div><div class="ttdoc">Converts the given 8-bit UTF-8 string in a 16-bit Wide string. Does not allocate any memory...</div></div>
<div class="ttc" id="group___settings_html_ga61ea8dd870556f6a7c3b805050acce22"><div class="ttname"><a href="group___settings.html#ga61ea8dd870556f6a7c3b805050acce22">fpl::DefaultSettings</a></div><div class="ttdeci">fpl_inline Settings DefaultSettings()</div><div class="ttdoc">Default settings for video, window, etc. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01271">final_platform_layer.hpp:1271</a></div></div>
<div class="ttc" id="group___files_html_ga7e8d74c15138b08866e0182d4e3e53af"><div class="ttname"><a href="group___files.html#ga7e8d74c15138b08866e0182d4e3e53af">fpl::files::FileDelete</a></div><div class="ttdeci">fpl_api bool FileDelete(const char *filePath)</div><div class="ttdoc">Deletes the given file without confirmation and returns true when the deletion was successful...</div></div>
<div class="ttc" id="structfpl_1_1files_1_1_file_handle_html"><div class="ttname"><a href="structfpl_1_1files_1_1_file_handle.html">fpl::files::FileHandle</a></div><div class="ttdoc">Handle to a loaded/created file. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01540">final_platform_layer.hpp:1540</a></div></div>
<div class="ttc" id="namespacefpl_1_1library_html"><div class="ttname"><a href="namespacefpl_1_1library.html">fpl::library</a></div><div class="ttdoc">Dynamic library functions and types. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01313">final_platform_layer.hpp:1313</a></div></div>
<div class="ttc" id="group___window_base_html_ga373b828e140954c44c3415f98f9e7e63"><div class="ttname"><a href="group___window_base.html#ga373b828e140954c44c3415f98f9e7e63">fpl::window::GetWindowArea</a></div><div class="ttdeci">fpl_api WindowSize GetWindowArea()</div><div class="ttdoc">Returns the inner window area. </div></div>
<div class="ttc" id="structfpl_1_1window_1_1_gamepad_state_html_a775cc3007043eb5776d2105427413588"><div class="ttname"><a href="structfpl_1_1window_1_1_gamepad_state.html#a775cc3007043eb5776d2105427413588">fpl::window::GamepadState::rightStickY</a></div><div class="ttdeci">float rightStickY</div><div class="ttdoc">Analog right thumb Y in range (-1.0 to 1.0f) </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02050">final_platform_layer.hpp:2050</a></div></div>
<div class="ttc" id="group___settings_html_ga2a55560abd38b3f813e8559cae2d6ee4"><div class="ttname"><a href="group___settings.html#ga2a55560abd38b3f813e8559cae2d6ee4">fpl::AudioFormatType</a></div><div class="ttdeci">AudioFormatTypes::AudioFormatTypeEnum AudioFormatType</div><div class="ttdoc">Audio format type. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01172">final_platform_layer.hpp:1172</a></div></div>
<div class="ttc" id="namespacefpl_1_1files_1_1_file_attribute_flags_html_a35ecb1521633ae298b52680df677b660a2c116bbe1c88fc7cb4aadd4dc93aeac3"><div class="ttname"><a href="namespacefpl_1_1files_1_1_file_attribute_flags.html#a35ecb1521633ae298b52680df677b660a2c116bbe1c88fc7cb4aadd4dc93aeac3">fpl::files::FileAttributeFlags::ReadOnly</a></div><div class="ttdoc">Readonly. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01586">final_platform_layer.hpp:1586</a></div></div>
<div class="ttc" id="namespacefpl_1_1window_html"><div class="ttname"><a href="namespacefpl_1_1window.html">fpl::window</a></div><div class="ttdoc">Window based functions and types. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01691">final_platform_layer.hpp:1691</a></div></div>
<div class="ttc" id="group___files_html_gab5939727e72dd37ec7ad8bf2f0f9a077"><div class="ttname"><a href="group___files.html#gab5939727e72dd37ec7ad8bf2f0f9a077">fpl::files::SetFilePosition32</a></div><div class="ttdeci">fpl_api void SetFilePosition32(const FileHandle &amp;fileHandle, const uint32_t position, const FilePositionMode mode)</div><div class="ttdoc">Sets the current file position by the given position, depending on the mode its absolute or relative...</div></div>
<div class="ttc" id="structfpl_1_1window_1_1_event_html_acd55903a68020728b161f3db3b8bff49"><div class="ttname"><a href="structfpl_1_1window_1_1_event.html#acd55903a68020728b161f3db3b8bff49">fpl::window::Event::gamepad</a></div><div class="ttdeci">GamepadEvent gamepad</div><div class="ttdoc">Gamepad event data. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02097">final_platform_layer.hpp:2097</a></div></div>
<div class="ttc" id="structfpl_1_1_settings_html_a396c3076134d4c6650a9f8985d28717c"><div class="ttname"><a href="structfpl_1_1_settings.html#a396c3076134d4c6650a9f8985d28717c">fpl::Settings::audio</a></div><div class="ttdeci">AudioSettings audio</div><div class="ttdoc">Audio settings. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01267">final_platform_layer.hpp:1267</a></div></div>
<div class="ttc" id="namespacefpl_1_1memory_html"><div class="ttname"><a href="namespacefpl_1_1memory.html">fpl::memory</a></div><div class="ttdoc">Memory allocation, clearing and copy functions. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01460">final_platform_layer.hpp:1460</a></div></div>
<div class="ttc" id="structfpl_1_1window_1_1_mouse_event_html_a136ee8b168ff61ddb332ad1120712871"><div class="ttname"><a href="structfpl_1_1window_1_1_mouse_event.html#a136ee8b168ff61ddb332ad1120712871">fpl::window::MouseEvent::mouseX</a></div><div class="ttdeci">int32_t mouseX</div><div class="ttdoc">Mouse X-Position. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01971">final_platform_layer.hpp:1971</a></div></div>
<div class="ttc" id="group___window_clipboard_html_ga195d6d724a7ad034189368770bf1466b"><div class="ttname"><a href="group___window_clipboard.html#ga195d6d724a7ad034189368770bf1466b">fpl::window::SetClipboardText</a></div><div class="ttdeci">fpl_api bool SetClipboardText(const wchar_t *wideSource)</div><div class="ttdoc">Overwrites the current clipboard wide text with the given one. </div></div>
<div class="ttc" id="structfpl_1_1window_1_1_window_event_html"><div class="ttname"><a href="structfpl_1_1window_1_1_window_event.html">fpl::window::WindowEvent</a></div><div class="ttdoc">Window event data (Size, Position, etc.) </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01873">final_platform_layer.hpp:1873</a></div></div>
<div class="ttc" id="group___files_html_ga37b8887a6a2c3cea5d8f0df234a0e90b"><div class="ttname"><a href="group___files.html#ga37b8887a6a2c3cea5d8f0df234a0e90b">fpl::files::MAX_FILEENTRY_PATH_LENGTH</a></div><div class="ttdeci">fpl_constant uint32_t MAX_FILEENTRY_PATH_LENGTH</div><div class="ttdoc">Maximum length of a file entry path. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01601">final_platform_layer.hpp:1601</a></div></div>
<div class="ttc" id="group___atomics_html_ga87f4bafdd34360d4eeaef253771ee9c4"><div class="ttname"><a href="group___atomics.html#ga87f4bafdd34360d4eeaef253771ee9c4">fpl::atomics::AtomicStorePtr</a></div><div class="ttdeci">fpl_api void AtomicStorePtr(volatile void **dest, const void *value)</div><div class="ttdoc">Stores the pointer value atomically into the target. </div></div>
<div class="ttc" id="structfpl_1_1_audio_settings_html"><div class="ttname"><a href="structfpl_1_1_audio_settings.html">fpl::AudioSettings</a></div><div class="ttdoc">Audio settings. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01196">final_platform_layer.hpp:1196</a></div></div>
<div class="ttc" id="group___atomics_html_gac6e8ef4b3f4c8cb95586af436a05c0b5"><div class="ttname"><a href="group___atomics.html#gac6e8ef4b3f4c8cb95586af436a05c0b5">fpl::atomics::AtomicCompareAndExchangeU64</a></div><div class="ttdeci">fpl_api uint64_t AtomicCompareAndExchangeU64(volatile uint64_t *dest, const uint64_t comparand, const uint64_t exchange)</div><div class="ttdoc">Compares a 64-bit unsigned integer with a comparand and exchange it when comparand and matches destin...</div></div>
<div class="ttc" id="structfpl_1_1window_1_1_gamepad_state_html_a51617a9012e78f69b1ff57cc1101cca6"><div class="ttname"><a href="structfpl_1_1window_1_1_gamepad_state.html#a51617a9012e78f69b1ff57cc1101cca6">fpl::window::GamepadState::dpadRight</a></div><div class="ttdeci">GamepadButton dpadRight</div><div class="ttdoc">Digital button right. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02008">final_platform_layer.hpp:2008</a></div></div>
<div class="ttc" id="namespacefpl_1_1threading_1_1_thread_states_html_a8126df665987eab3a5d4d85806095082"><div class="ttname"><a href="namespacefpl_1_1threading_1_1_thread_states.html#a8126df665987eab3a5d4d85806095082">fpl::threading::ThreadStates::ThreadStateEnum</a></div><div class="ttdeci">ThreadStateEnum</div><div class="ttdoc">Thread state enumeration. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01369">final_platform_layer.hpp:1369</a></div></div>
<div class="ttc" id="group___threading_html_ga0126a46029f274634d90437fe39564b7"><div class="ttname"><a href="group___threading.html#ga0126a46029f274634d90437fe39564b7">fpl::threading::MutexLock</a></div><div class="ttdeci">fpl_api void MutexLock(ThreadMutex &amp;mutex, const uint32_t maxMilliseconds=UINT32_MAX)</div><div class="ttdoc">Locks the given mutex and waits until it gets unlocked. When maxMilliseconds is set to UINT32_MAX it ...</div></div>
<div class="ttc" id="final__platform__layer_8hpp_html_a5802229fe609da01bab950248671c0ef"><div class="ttname"><a href="final__platform__layer_8hpp.html#a5802229fe609da01bab950248671c0ef">fpl_null</a></div><div class="ttdeci">#define fpl_null</div><div class="ttdoc">Null pointer (0) </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l00850">final_platform_layer.hpp:850</a></div></div>
<div class="ttc" id="structfpl_1_1_window_settings_html_a88c6f32b1c14458bb428c51ed58a14a8"><div class="ttname"><a href="structfpl_1_1_window_settings.html#a88c6f32b1c14458bb428c51ed58a14a8">fpl::WindowSettings::windowHeight</a></div><div class="ttdeci">uint32_t windowHeight</div><div class="ttdoc">Window height in screen coordinates. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01236">final_platform_layer.hpp:1236</a></div></div>
<div class="ttc" id="group___atomics_html_gabd9be2027753569ed78026d6c6b4ba5b"><div class="ttname"><a href="group___atomics.html#gabd9be2027753569ed78026d6c6b4ba5b">fpl::atomics::AtomicReadWriteFence</a></div><div class="ttdeci">fpl_api void AtomicReadWriteFence()</div><div class="ttdoc">Insert a atomic read/write fence/barrier. This will complete previous reads/writes before future read...</div></div>
<div class="ttc" id="namespacefpl_1_1console_html"><div class="ttname"><a href="namespacefpl_1_1console.html">fpl::console</a></div><div class="ttdoc">Console functions. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01339">final_platform_layer.hpp:1339</a></div></div>
<div class="ttc" id="structfpl_1_1threading_1_1_thread_context_html_a37c92f45870583481685fdc629f83e75"><div class="ttname"><a href="structfpl_1_1threading_1_1_thread_context.html#a37c92f45870583481685fdc629f83e75">fpl::threading::ThreadContext::currentState</a></div><div class="ttdeci">volatile ThreadState currentState</div><div class="ttdoc">Thread state. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01396">final_platform_layer.hpp:1396</a></div></div>
<div class="ttc" id="namespacefpl_1_1files_1_1_file_attribute_flags_html_a35ecb1521633ae298b52680df677b660a7e5a9556594478a6296b3a499c789c61"><div class="ttname"><a href="namespacefpl_1_1files_1_1_file_attribute_flags.html#a35ecb1521633ae298b52680df677b660a7e5a9556594478a6296b3a499c789c61">fpl::files::FileAttributeFlags::Archive</a></div><div class="ttdoc">Archive. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01590">final_platform_layer.hpp:1590</a></div></div>
<div class="ttc" id="structfpl_1_1_video_settings_html"><div class="ttname"><a href="structfpl_1_1_video_settings.html">fpl::VideoSettings</a></div><div class="ttdoc">Video settings container (Compability Profile, Version, VSync, etc.) </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01105">final_platform_layer.hpp:1105</a></div></div>
<div class="ttc" id="group___strings_html_gaa465c26a8a2d2514f723144ad8de8e42"><div class="ttname"><a href="group___strings.html#gaa465c26a8a2d2514f723144ad8de8e42">fpl::strings::WideStringToUTF8String</a></div><div class="ttdeci">fpl_api char * WideStringToUTF8String(const wchar_t *wideSource, const uint32_t maxWideSourceLen, char *utf8Dest, const uint32_t maxUtf8DestLen)</div><div class="ttdoc">Converts the given 16-bit Wide string in a 8-bit UTF-8 string. Does not allocate any memory...</div></div>
<div class="ttc" id="structfpl_1_1library_1_1_dynamic_library_handle_html_a738a384257e20524ca75ecc48397a35e"><div class="ttname"><a href="structfpl_1_1library_1_1_dynamic_library_handle.html#a738a384257e20524ca75ecc48397a35e">fpl::library::DynamicLibraryHandle::internalHandle</a></div><div class="ttdeci">void * internalHandle</div><div class="ttdoc">Internal library handle. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01323">final_platform_layer.hpp:1323</a></div></div>
<div class="ttc" id="group___window_base_html_gae0b3a2e777c7c9fce74c0828455f3de1"><div class="ttname"><a href="group___window_base.html#gae0b3a2e777c7c9fce74c0828455f3de1">fpl::window::SetWindowResizeable</a></div><div class="ttdeci">fpl_api void SetWindowResizeable(const bool value)</div><div class="ttdoc">Enables or disables the ability to resize the window. </div></div>
<div class="ttc" id="group___strings_html_ga388ca55dd073575074821c146a585e2d"><div class="ttname"><a href="group___strings.html#ga388ca55dd073575074821c146a585e2d">fpl::strings::GetAnsiStringLength</a></div><div class="ttdeci">fpl_api uint32_t GetAnsiStringLength(const char *str)</div><div class="ttdoc">Returns the number of characters of the given 8-bit Ansi string. Null terminator is not included...</div></div>
<div class="ttc" id="structfpl_1_1window_1_1_mouse_event_html_a02fd8b5e3c93af2f4ee09413f3c572e8"><div class="ttname"><a href="structfpl_1_1window_1_1_mouse_event.html#a02fd8b5e3c93af2f4ee09413f3c572e8">fpl::window::MouseEvent::type</a></div><div class="ttdeci">MouseEventType type</div><div class="ttdoc">Mouse event type. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01967">final_platform_layer.hpp:1967</a></div></div>
<div class="ttc" id="group___threading_html_gaa40f358ef89b947e0b380a27acf7dbdc"><div class="ttname"><a href="group___threading.html#gaa40f358ef89b947e0b380a27acf7dbdc">fpl::threading::ThreadWaitForOne</a></div><div class="ttdeci">fpl_api void ThreadWaitForOne(ThreadContext *context, const uint32_t maxMilliseconds=UINT32_MAX)</div><div class="ttdoc">Wait until the given thread is done running. When maxMilliseconds is set to UINT32_MAX it will wait i...</div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_mouse_event_types_html_abac384b9b1e9bdf36d032f1c9ffcaa14"><div class="ttname"><a href="namespacefpl_1_1window_1_1_mouse_event_types.html#abac384b9b1e9bdf36d032f1c9ffcaa14">fpl::window::MouseEventTypes::MouseEventTypeEnum</a></div><div class="ttdeci">MouseEventTypeEnum</div><div class="ttdoc">Mouse event type enumeration. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01933">final_platform_layer.hpp:1933</a></div></div>
<div class="ttc" id="group___atomics_html_ga08d3bf3244f49659b51c512ea149e37a"><div class="ttname"><a href="group___atomics.html#ga08d3bf3244f49659b51c512ea149e37a">fpl::atomics::AtomicExchangeS64</a></div><div class="ttdeci">fpl_api int64_t AtomicExchangeS64(volatile int64_t *target, const int64_t value)</div><div class="ttdoc">Replace a 64-bit signed integer with the given value atomically. Returns the target before the replac...</div></div>
<div class="ttc" id="group___files_html_ga24bff7e5072f14496b432d8832791eed"><div class="ttname"><a href="group___files.html#ga24bff7e5072f14496b432d8832791eed">fpl::files::OpenBinaryFile</a></div><div class="ttdeci">fpl_api FileHandle OpenBinaryFile(const wchar_t *filePath)</div><div class="ttdoc">Opens a binary file from a wide string path for reading and returns the handle of it...</div></div>
<div class="ttc" id="structfpl_1_1_window_settings_html_ad9928752d6f132c935d77aca667e649e"><div class="ttname"><a href="structfpl_1_1_window_settings.html#ad9928752d6f132c935d77aca667e649e">fpl::WindowSettings::fullscreenHeight</a></div><div class="ttdeci">uint32_t fullscreenHeight</div><div class="ttdoc">Fullscreen height in screen coordinates. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01240">final_platform_layer.hpp:1240</a></div></div>
<div class="ttc" id="group___memory_html_gaae59e8f8c515b0a58ece0a60588779dd"><div class="ttname"><a href="group___memory.html#gaae59e8f8c515b0a58ece0a60588779dd">fpl::memory::MemoryStackAllocate</a></div><div class="ttdeci">fpl_api void * MemoryStackAllocate(const size_t size)</div><div class="ttdoc">Allocates memory on the current stack. Use this very carefully, it will be released then the current ...</div></div>
<div class="ttc" id="structfpl_1_1window_1_1_event_html_a43d5437c746ee44af2904cff2304bdae"><div class="ttname"><a href="structfpl_1_1window_1_1_event.html#a43d5437c746ee44af2904cff2304bdae">fpl::window::Event::window</a></div><div class="ttdeci">WindowEvent window</div><div class="ttdoc">Window event data. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02091">final_platform_layer.hpp:2091</a></div></div>
<div class="ttc" id="namespacefpl_1_1paths_html"><div class="ttname"><a href="namespacefpl_1_1paths.html">fpl::paths</a></div><div class="ttdoc">Directory and paths functions. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01664">final_platform_layer.hpp:1664</a></div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_mouse_button_types_html_a8421a50986b384eb037e31a522bc223ba4a378f4f26388bd008fec836bf48b89c"><div class="ttname"><a href="namespacefpl_1_1window_1_1_mouse_button_types.html#a8421a50986b384eb037e31a522bc223ba4a378f4f26388bd008fec836bf48b89c">fpl::window::MouseButtonTypes::Middle</a></div><div class="ttdoc">Middle mouse button. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01958">final_platform_layer.hpp:1958</a></div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_gamepad_event_types_html_ab7b887afe0886bbabc52ee0d76a9b3f6ae26a201922d8e25dacf35fae69e37ba6"><div class="ttname"><a href="namespacefpl_1_1window_1_1_gamepad_event_types.html#ab7b887afe0886bbabc52ee0d76a9b3f6ae26a201922d8e25dacf35fae69e37ba6">fpl::window::GamepadEventTypes::Disconnected</a></div><div class="ttdoc">Gamepad disconnected. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01987">final_platform_layer.hpp:1987</a></div></div>
<div class="ttc" id="structfpl_1_1_settings_html_a8b742bb057a9113af5b547fe610f00ac"><div class="ttname"><a href="structfpl_1_1_settings.html#a8b742bb057a9113af5b547fe610f00ac">fpl::Settings::video</a></div><div class="ttdeci">VideoSettings video</div><div class="ttdoc">Video settings. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01265">final_platform_layer.hpp:1265</a></div></div>
<div class="ttc" id="structfpl_1_1window_1_1_gamepad_state_html_abbb6e27da2be0ad906b989c988c9acbe"><div class="ttname"><a href="structfpl_1_1window_1_1_gamepad_state.html#abbb6e27da2be0ad906b989c988c9acbe">fpl::window::GamepadState::leftThumb</a></div><div class="ttdeci">GamepadButton leftThumb</div><div class="ttdoc">Analog left thumb button. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02029">final_platform_layer.hpp:2029</a></div></div>
<div class="ttc" id="structfpl_1_1_settings_html"><div class="ttname"><a href="structfpl_1_1_settings.html">fpl::Settings</a></div><div class="ttdoc">Settings container (Window, Video, etc) </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01261">final_platform_layer.hpp:1261</a></div></div>
<div class="ttc" id="group___threading_html_ga878223b24ec17a7b4b8f6e6f945340f9"><div class="ttname"><a href="group___threading.html#ga878223b24ec17a7b4b8f6e6f945340f9">fpl::threading::SignalDestroy</a></div><div class="ttdeci">fpl_api void SignalDestroy(ThreadSignal &amp;availableSignal)</div><div class="ttdoc">Destroys the given signal. </div></div>
<div class="ttc" id="structfpl_1_1window_1_1_gamepad_event_html"><div class="ttname"><a href="structfpl_1_1window_1_1_gamepad_event.html">fpl::window::GamepadEvent</a></div><div class="ttdoc">Gamepad event data (Type, Device, State, etc.) </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02059">final_platform_layer.hpp:2059</a></div></div>
<div class="ttc" id="final__platform__layer_8hpp_html_a911f0d539aee5d3012c6be60134e70df"><div class="ttname"><a href="final__platform__layer_8hpp.html#a911f0d539aee5d3012c6be60134e70df">FPL_ASSERT</a></div><div class="ttdeci">#define FPL_ASSERT(exp)</div><div class="ttdoc">Runtime assertions disabled. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l00884">final_platform_layer.hpp:884</a></div></div>
<div class="ttc" id="structfpl_1_1window_1_1_gamepad_state_html_a23bb49bdcecc0c18972b5742e544b72b"><div class="ttname"><a href="structfpl_1_1window_1_1_gamepad_state.html#a23bb49bdcecc0c18972b5742e544b72b">fpl::window::GamepadState::actionX</a></div><div class="ttdeci">GamepadButton actionX</div><div class="ttdoc">Action button X. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02019">final_platform_layer.hpp:2019</a></div></div>
<div class="ttc" id="group___threading_html_gad8496dd7dfa65ccd1b7187abe22e4a48"><div class="ttname"><a href="group___threading.html#gad8496dd7dfa65ccd1b7187abe22e4a48">fpl::threading::MutexCreate</a></div><div class="ttdeci">fpl_api ThreadMutex MutexCreate()</div><div class="ttdoc">Creates a mutex. </div></div>
<div class="ttc" id="group___files_html_ga81077ac3e1713d50f12cc1767ca96326"><div class="ttname"><a href="group___files.html#ga81077ac3e1713d50f12cc1767ca96326">fpl::files::DirectoryExists</a></div><div class="ttdeci">fpl_api bool DirectoryExists(const char *path)</div><div class="ttdoc">Returns true when the given directory path physically exists. </div></div>
<div class="ttc" id="group___atomics_html_ga55587b1d4c3e9faf96161811a708bee1"><div class="ttname"><a href="group___atomics.html#ga55587b1d4c3e9faf96161811a708bee1">fpl::atomics::AtomicExchangeU32</a></div><div class="ttdeci">fpl_api uint32_t AtomicExchangeU32(volatile uint32_t *target, const uint32_t value)</div><div class="ttdoc">Replace a 32-bit unsigned integer with the given value atomically. Returns the target before the repl...</div></div>
<div class="ttc" id="group___settings_html_gaa2a5629c37b69482654db63bda6e28a0"><div class="ttname"><a href="group___settings.html#gaa2a5629c37b69482654db63bda6e28a0">fpl::AudioClientReadFunction</a></div><div class="ttdeci">uint32_t() AudioClientReadFunction(const AudioDeviceFormat &amp;deviceFormat, const uint32_t frameCount, void *outputSamples, void *userData)</div><div class="ttdoc">Audio Client Read Callback Function. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01193">final_platform_layer.hpp:1193</a></div></div>
<div class="ttc" id="structfpl_1_1_video_settings_html_add2a0d1279c32e7ace63995617c24f03"><div class="ttname"><a href="structfpl_1_1_video_settings.html#add2a0d1279c32e7ace63995617c24f03">fpl::VideoSettings::isVSync</a></div><div class="ttdeci">bool isVSync</div><div class="ttdoc">Vertical syncronisation is wanted. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01115">final_platform_layer.hpp:1115</a></div></div>
<div class="ttc" id="group___threading_html_ga13be443e258c267955a7f4fe6a9f4c7b"><div class="ttname"><a href="group___threading.html#ga13be443e258c267955a7f4fe6a9f4c7b">fpl::threading::ThreadSuspend</a></div><div class="ttdeci">fpl_api bool ThreadSuspend(ThreadContext *context)</div><div class="ttdoc">Suspend the given thread, so any user code will get be freezed at the current point. Returns true when the thread was successfully suspended. </div></div>
<div class="ttc" id="namespacefpl_1_1threading_html"><div class="ttname"><a href="namespacefpl_1_1threading.html">fpl::threading</a></div><div class="ttdoc">Threading functions. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01359">final_platform_layer.hpp:1359</a></div></div>
<div class="ttc" id="structfpl_1_1window_1_1_keyboard_event_html"><div class="ttname"><a href="structfpl_1_1window_1_1_keyboard_event.html">fpl::window::KeyboardEvent</a></div><div class="ttdoc">Keyboard event data (Type, Keycode, Mapped key, etc.) </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01919">final_platform_layer.hpp:1919</a></div></div>
<div class="ttc" id="structfpl_1_1video_1_1_video_back_buffer_html_a69cbcb70ac19416095ee4c292c9ef781"><div class="ttname"><a href="structfpl_1_1video_1_1_video_back_buffer.html#a69cbcb70ac19416095ee4c292c9ef781">fpl::video::VideoBackBuffer::height</a></div><div class="ttdeci">uint32_t height</div><div class="ttdoc">The height of the backbuffer in pixels. Do not modify, it will be set automatically. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02192">final_platform_layer.hpp:2192</a></div></div>
<div class="ttc" id="structfpl_1_1threading_1_1_thread_mutex_html_a0a405a35c51923753076b8620ff6fe08"><div class="ttname"><a href="structfpl_1_1threading_1_1_thread_mutex.html#a0a405a35c51923753076b8620ff6fe08">fpl::threading::ThreadMutex::internalHandle</a></div><div class="ttdeci">void * internalHandle</div><div class="ttdoc">The internal handle. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01402">final_platform_layer.hpp:1402</a></div></div>
<div class="ttc" id="structfpl_1_1window_1_1_gamepad_state_html_a343d2faffa69f5d8355e3db3f524eeab"><div class="ttname"><a href="structfpl_1_1window_1_1_gamepad_state.html#a343d2faffa69f5d8355e3db3f524eeab">fpl::window::GamepadState::leftStickX</a></div><div class="ttdeci">float leftStickX</div><div class="ttdoc">Analog left thumb X in range (-1.0 to 1.0f) </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02044">final_platform_layer.hpp:2044</a></div></div>
<div class="ttc" id="namespacefpl_1_1_audio_driver_types_html_afb8583e0947d11e4ec9479717912b82ea4bfffe090b40bd9fe6ea5713c5a614da"><div class="ttname"><a href="namespacefpl_1_1_audio_driver_types.html#afb8583e0947d11e4ec9479717912b82ea4bfffe090b40bd9fe6ea5713c5a614da">fpl::AudioDriverTypes::DirectSound</a></div><div class="ttdoc">DirectSound. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01149">final_platform_layer.hpp:1149</a></div></div>
<div class="ttc" id="structfpl_1_1threading_1_1_thread_signal_html"><div class="ttname"><a href="structfpl_1_1threading_1_1_thread_signal.html">fpl::threading::ThreadSignal</a></div><div class="ttdoc">Signal context. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01408">final_platform_layer.hpp:1408</a></div></div>
<div class="ttc" id="namespacefpl_1_1threading_1_1_thread_states_html_a8126df665987eab3a5d4d85806095082a2bd4d661f638779fa553b7593a1bdc57"><div class="ttname"><a href="namespacefpl_1_1threading_1_1_thread_states.html#a8126df665987eab3a5d4d85806095082a2bd4d661f638779fa553b7593a1bdc57">fpl::threading::ThreadStates::Running</a></div><div class="ttdoc">Thread is still running. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01373">final_platform_layer.hpp:1373</a></div></div>
<div class="ttc" id="final__platform__layer_8hpp_html_aafa1d3d90febf9826c55c1318f98b27d"><div class="ttname"><a href="final__platform__layer_8hpp.html#aafa1d3d90febf9826c55c1318f98b27d">fpl_api</a></div><div class="ttdeci">#define fpl_api</div><div class="ttdoc">Public api call. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l00860">final_platform_layer.hpp:860</a></div></div>
<div class="ttc" id="namespacefpl_1_1_init_flags_html_a3aaa570e446e656cbc2c25d2a1a76db0a72d903a1e7df1bbd75980b61d5831373"><div class="ttname"><a href="namespacefpl_1_1_init_flags.html#a3aaa570e446e656cbc2c25d2a1a76db0a72d903a1e7df1bbd75980b61d5831373">fpl::InitFlags::All</a></div><div class="ttdoc">Default init flags for a window + video + audio. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01066">final_platform_layer.hpp:1066</a></div></div>
<div class="ttc" id="group___window_events_html_ga3eb9047cdc6f6e7a5c96d2a75a5395e1"><div class="ttname"><a href="group___window_events.html#ga3eb9047cdc6f6e7a5c96d2a75a5395e1">fpl::window::KeyboardEventType</a></div><div class="ttdeci">KeyboardEventTypes::KeyboardEventTypeEnum KeyboardEventType</div><div class="ttdoc">Keyboard event type. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01893">final_platform_layer.hpp:1893</a></div></div>
<div class="ttc" id="structfpl_1_1_audio_settings_html_ac1eeab3aa3571fbf8bc5f5ab2a7381b4"><div class="ttname"><a href="structfpl_1_1_audio_settings.html#ac1eeab3aa3571fbf8bc5f5ab2a7381b4">fpl::AudioSettings::preferExclusiveMode</a></div><div class="ttdeci">bool preferExclusiveMode</div><div class="ttdoc">Is exclude mode prefered. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01206">final_platform_layer.hpp:1206</a></div></div>
<div class="ttc" id="structfpl_1_1window_1_1_keyboard_event_html_a814da8ae88851382d5bdcf27f96d2cc9"><div class="ttname"><a href="structfpl_1_1window_1_1_keyboard_event.html#a814da8ae88851382d5bdcf27f96d2cc9">fpl::window::KeyboardEvent::keyCode</a></div><div class="ttdeci">uint64_t keyCode</div><div class="ttdoc">Raw key code. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01923">final_platform_layer.hpp:1923</a></div></div>
<div class="ttc" id="group___strings_html_ga13b6ef7d3fd687e16fa4db1a58a0cb60"><div class="ttname"><a href="group___strings.html#ga13b6ef7d3fd687e16fa4db1a58a0cb60">fpl::strings::CopyAnsiString</a></div><div class="ttdeci">fpl_api char * CopyAnsiString(const char *source, char *dest, const uint32_t maxDestLen)</div><div class="ttdoc">Copies the given 8-bit source Ansi string into a destination Ansi string. Does not allocate any memor...</div></div>
<div class="ttc" id="structfpl_1_1_audio_settings_html_a3ade4cb176a441d5da0236cbf954a8fa"><div class="ttname"><a href="structfpl_1_1_audio_settings.html#a3ade4cb176a441d5da0236cbf954a8fa">fpl::AudioSettings::clientReadCallback</a></div><div class="ttdeci">AudioClientReadFunction * clientReadCallback</div><div class="ttdoc">The callback for retrieving audio data from the client. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01200">final_platform_layer.hpp:1200</a></div></div>
<div class="ttc" id="group___files_html_ga991df8158e3abcd8b03930562bd118ba"><div class="ttname"><a href="group___files.html#ga991df8158e3abcd8b03930562bd118ba">fpl::files::GetFilePosition32</a></div><div class="ttdeci">fpl_api uint32_t GetFilePosition32(const FileHandle &amp;fileHandle)</div><div class="ttdoc">Returns the current file position. Position is limited to a 2 GB byte boundary. </div></div>
<div class="ttc" id="group___files_html_gadf8a868ce8399951d94368b2a6efe9ad"><div class="ttname"><a href="group___files.html#gadf8a868ce8399951d94368b2a6efe9ad">fpl::files::CloseFile</a></div><div class="ttdeci">fpl_api void CloseFile(FileHandle &amp;fileHandle)</div><div class="ttdoc">Closes the given file handle and resets the handle to zero. </div></div>
<div class="ttc" id="namespacefpl_1_1_init_flags_html_a3aaa570e446e656cbc2c25d2a1a76db0aaf987c21d9199178e8a48f4105309eaf"><div class="ttname"><a href="namespacefpl_1_1_init_flags.html#a3aaa570e446e656cbc2c25d2a1a76db0aaf987c21d9199178e8a48f4105309eaf">fpl::InitFlags::Window</a></div><div class="ttdoc">Create a single window. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01060">final_platform_layer.hpp:1060</a></div></div>
<div class="ttc" id="group___window_events_html_ga436dfbfc1bfa11e16ff26f0ab6c8da9a"><div class="ttname"><a href="group___window_events.html#ga436dfbfc1bfa11e16ff26f0ab6c8da9a">fpl::window::WindowEventType</a></div><div class="ttdeci">WindowEventTypes::WindowEventTypeEnum WindowEventType</div><div class="ttdoc">Window event type. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01868">final_platform_layer.hpp:1868</a></div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_mouse_button_types_html_a8421a50986b384eb037e31a522bc223b"><div class="ttname"><a href="namespacefpl_1_1window_1_1_mouse_button_types.html#a8421a50986b384eb037e31a522bc223b">fpl::window::MouseButtonTypes::MouseButtonTypeEnum</a></div><div class="ttdeci">MouseButtonTypeEnum</div><div class="ttdoc">Mouse button type enumeration. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01950">final_platform_layer.hpp:1950</a></div></div>
<div class="ttc" id="group___window_base_html_gaa0a0eb6408cf9201e93dd317e59eec3c"><div class="ttname"><a href="group___window_base.html#gaa0a0eb6408cf9201e93dd317e59eec3c">fpl::window::IsWindowResizable</a></div><div class="ttdeci">fpl_api bool IsWindowResizable()</div><div class="ttdoc">Returns true when the window is resizable. </div></div>
<div class="ttc" id="group___window_base_html_gae603a20eb995b5887ff055e95b48363b"><div class="ttname"><a href="group___window_base.html#gae603a20eb995b5887ff055e95b48363b">fpl::window::IsWindowRunning</a></div><div class="ttdeci">fpl_api bool IsWindowRunning()</div><div class="ttdoc">Returns true when the window is active. </div></div>
<div class="ttc" id="group___window_base_html_gad62349fccf4177acf7e48102d3fab185"><div class="ttname"><a href="group___window_base.html#gad62349fccf4177acf7e48102d3fab185">fpl::window::SetWindowCursorEnabled</a></div><div class="ttdeci">fpl_api void SetWindowCursorEnabled(const bool value)</div><div class="ttdoc">Enables or disables the window cursor. </div></div>
<div class="ttc" id="final__platform__layer_8hpp_html_aa3d38e49c90082e1638fe199347c35c5"><div class="ttname"><a href="final__platform__layer_8hpp.html#aa3d38e49c90082e1638fe199347c35c5">fpl_constant</a></div><div class="ttdeci">#define fpl_constant</div><div class="ttdoc">Constant (static const) </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l00852">final_platform_layer.hpp:852</a></div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_window_event_types_html_abe653c1f4e9a9e70d79b5df52aacb6c5"><div class="ttname"><a href="namespacefpl_1_1window_1_1_window_event_types.html#abe653c1f4e9a9e70d79b5df52aacb6c5">fpl::window::WindowEventTypes::WindowEventTypeEnum</a></div><div class="ttdeci">WindowEventTypeEnum</div><div class="ttdoc">Window event type enumeration. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01860">final_platform_layer.hpp:1860</a></div></div>
<div class="ttc" id="group___strings_html_ga4540f0bb0f47aeba1a0900f9f107c188"><div class="ttname"><a href="group___strings.html#ga4540f0bb0f47aeba1a0900f9f107c188">fpl::strings::CopyAnsiString</a></div><div class="ttdeci">fpl_api char * CopyAnsiString(const char *source, const uint32_t sourceLen, char *dest, const uint32_t maxDestLen)</div><div class="ttdoc">Copies the given 8-bit source Ansi string with length into a destination Ansi string. Does not allocate any memory. </div></div>
<div class="ttc" id="structfpl_1_1_window_settings_html_a6680b671207e7adae8b7852eeb64dbcb"><div class="ttname"><a href="structfpl_1_1_window_settings.html#a6680b671207e7adae8b7852eeb64dbcb">fpl::WindowSettings::fullscreenWidth</a></div><div class="ttdeci">uint32_t fullscreenWidth</div><div class="ttdoc">Fullscreen width in screen coordinates. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01238">final_platform_layer.hpp:1238</a></div></div>
<div class="ttc" id="structfpl_1_1_audio_settings_html_a6eced4e689d091d5c64aa68215ac0541"><div class="ttname"><a href="structfpl_1_1_audio_settings.html#a6eced4e689d091d5c64aa68215ac0541">fpl::AudioSettings::desiredFormat</a></div><div class="ttdeci">AudioDeviceFormat desiredFormat</div><div class="ttdoc">The targeted format. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01198">final_platform_layer.hpp:1198</a></div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_event_types_html_ac1b654b98c2774f73b1b089f2886fc4fa95de089620c87e61cea894813fd0ce4f"><div class="ttname"><a href="namespacefpl_1_1window_1_1_event_types.html#ac1b654b98c2774f73b1b089f2886fc4fa95de089620c87e61cea894813fd0ce4f">fpl::window::EventTypes::Keyboard</a></div><div class="ttdoc">Keyboard event. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02075">final_platform_layer.hpp:2075</a></div></div>
<div class="ttc" id="namespacefpl_1_1_audio_driver_types_html_afb8583e0947d11e4ec9479717912b82e"><div class="ttname"><a href="namespacefpl_1_1_audio_driver_types.html#afb8583e0947d11e4ec9479717912b82e">fpl::AudioDriverTypes::AudioDriverTypeEnum</a></div><div class="ttdeci">AudioDriverTypeEnum</div><div class="ttdoc">Audio driver type enumeration. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01143">final_platform_layer.hpp:1143</a></div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_event_types_html_ac1b654b98c2774f73b1b089f2886fc4fa62fb237bdef80b33d913c0d9f3f871bc"><div class="ttname"><a href="namespacefpl_1_1window_1_1_event_types.html#ac1b654b98c2774f73b1b089f2886fc4fa62fb237bdef80b33d913c0d9f3f871bc">fpl::window::EventTypes::Mouse</a></div><div class="ttdoc">Mouse event. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02077">final_platform_layer.hpp:2077</a></div></div>
<div class="ttc" id="structfpl_1_1window_1_1_window_size_html_ab87c655d5b68f0e9966aefcd4c3d8bef"><div class="ttname"><a href="structfpl_1_1window_1_1_window_size.html#ab87c655d5b68f0e9966aefcd4c3d8bef">fpl::window::WindowSize::width</a></div><div class="ttdeci">uint32_t width</div><div class="ttdoc">Width in screen coordinates. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02115">final_platform_layer.hpp:2115</a></div></div>
<div class="ttc" id="group___files_html_ga6dff9fb81386319d26f9221457734dc4"><div class="ttname"><a href="group___files.html#ga6dff9fb81386319d26f9221457734dc4">fpl::files::CreateBinaryFile</a></div><div class="ttdeci">fpl_api FileHandle CreateBinaryFile(const wchar_t *filePath)</div><div class="ttdoc">Creates a binary file to a wide string path and returns the handle of it. </div></div>
<div class="ttc" id="namespacefpl_1_1atomics_html"><div class="ttname"><a href="namespacefpl_1_1atomics.html">fpl::atomics</a></div><div class="ttdoc">Atomic functions. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l00950">final_platform_layer.hpp:950</a></div></div>
<div class="ttc" id="namespacefpl_1_1_video_driver_types_html_a258cb7cd4b12cc998472708f70d55f7fac98f1c1841b2c26aaf2cc06c9ce1d5b5"><div class="ttname"><a href="namespacefpl_1_1_video_driver_types.html#a258cb7cd4b12cc998472708f70d55f7fac98f1c1841b2c26aaf2cc06c9ce1d5b5">fpl::VideoDriverTypes::OpenGL</a></div><div class="ttdoc">OpenGL. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01081">final_platform_layer.hpp:1081</a></div></div>
<div class="ttc" id="structfpl_1_1window_1_1_window_event_html_afc9891648a45cc2c5a9a0eeb00d3921b"><div class="ttname"><a href="structfpl_1_1window_1_1_window_event.html#afc9891648a45cc2c5a9a0eeb00d3921b">fpl::window::WindowEvent::width</a></div><div class="ttdeci">uint32_t width</div><div class="ttdoc">Window width in screen coordinates. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01877">final_platform_layer.hpp:1877</a></div></div>
<div class="ttc" id="group___atomics_html_gaff68c1ca29565939b4e289e14918d31a"><div class="ttname"><a href="group___atomics.html#gaff68c1ca29565939b4e289e14918d31a">fpl::atomics::AtomicWriteFence</a></div><div class="ttdeci">fpl_api void AtomicWriteFence()</div><div class="ttdoc">Insert a atomic write fence/barrier. This will complete previous writes before future writes and prev...</div></div>
<div class="ttc" id="structfpl_1_1threading_1_1_thread_context_html_af8cfcaa0345ee279f8979eec94a121c5"><div class="ttname"><a href="structfpl_1_1threading_1_1_thread_context.html#af8cfcaa0345ee279f8979eec94a121c5">fpl::threading::ThreadContext::id</a></div><div class="ttdeci">uint64_t id</div><div class="ttdoc">The identifier of the thread. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01388">final_platform_layer.hpp:1388</a></div></div>
<div class="ttc" id="group___memory_html_gadb98af4c9b6d561313a2ceeab8d44e06"><div class="ttname"><a href="group___memory.html#gadb98af4c9b6d561313a2ceeab8d44e06">fpl::memory::MemoryCopy</a></div><div class="ttdeci">fpl_api void MemoryCopy(void *sourceMem, const size_t sourceSize, void *targetMem)</div><div class="ttdoc">Copies the given source memory with its length to the target memory. </div></div>
<div class="ttc" id="namespacefpl_1_1files_1_1_file_entry_types_html_ab340319655afa9567100787edb58aca5a10cd8e0a94894ea1a36eea9fa94227cf"><div class="ttname"><a href="namespacefpl_1_1files_1_1_file_entry_types.html#ab340319655afa9567100787edb58aca5a10cd8e0a94894ea1a36eea9fa94227cf">fpl::files::FileEntryTypes::File</a></div><div class="ttdoc">Entry is a file. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01569">final_platform_layer.hpp:1569</a></div></div>
<div class="ttc" id="structfpl_1_1window_1_1_gamepad_state_html_a6cfb6d170ac485d3b0c95d4e172ed3e8"><div class="ttname"><a href="structfpl_1_1window_1_1_gamepad_state.html#a6cfb6d170ac485d3b0c95d4e172ed3e8">fpl::window::GamepadState::back</a></div><div class="ttdeci">GamepadButton back</div><div class="ttdoc">Back button. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02026">final_platform_layer.hpp:2026</a></div></div>
<div class="ttc" id="group___threading_html_ga9fda6954c3de6afbc9e09b4636001282"><div class="ttname"><a href="group___threading.html#ga9fda6954c3de6afbc9e09b4636001282">fpl::threading::MutexDestroy</a></div><div class="ttdeci">fpl_api void MutexDestroy(ThreadMutex &amp;mutex)</div><div class="ttdoc">Destroys the given mutex. </div></div>
<div class="ttc" id="group___settings_html_ga8e20ac4b795db2079ebd0339e72d4110"><div class="ttname"><a href="group___settings.html#ga8e20ac4b795db2079ebd0339e72d4110">fpl::InitFlag</a></div><div class="ttdeci">InitFlags::InitFlagEnum InitFlag</div><div class="ttdoc">Initialization flags (Window, Video, etc.) </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01068">final_platform_layer.hpp:1068</a></div></div>
<div class="ttc" id="group___window_clipboard_html_ga0101008cbd7d81f06a31d76fa0c81840"><div class="ttname"><a href="group___window_clipboard.html#ga0101008cbd7d81f06a31d76fa0c81840">fpl::window::GetClipboardWideText</a></div><div class="ttdeci">fpl_api wchar_t * GetClipboardWideText(wchar_t *dest, const uint32_t maxDestLen)</div><div class="ttdoc">Returns the current clipboard wide text. </div></div>
<div class="ttc" id="structfpl_1_1window_1_1_gamepad_button_html"><div class="ttname"><a href="structfpl_1_1window_1_1_gamepad_button.html">fpl::window::GamepadButton</a></div><div class="ttdoc">Gamepad button (IsDown, etc.) </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01996">final_platform_layer.hpp:1996</a></div></div>
<div class="ttc" id="group___timings_html_ga7eb269311586671fb064ae58e4c0c765"><div class="ttname"><a href="group___timings.html#ga7eb269311586671fb064ae58e4c0c765">fpl::timings::GetHighResolutionTimeInSeconds</a></div><div class="ttdeci">fpl_api double GetHighResolutionTimeInSeconds()</div><div class="ttdoc">Returns the current system clock in seconds with the highest precision. </div></div>
<div class="ttc" id="structfpl_1_1window_1_1_window_position_html"><div class="ttname"><a href="structfpl_1_1window_1_1_window_position.html">fpl::window::WindowPosition</a></div><div class="ttdoc">Window position in screen coordinates. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02121">final_platform_layer.hpp:2121</a></div></div>
<div class="ttc" id="structfpl_1_1files_1_1_file_entry_html_a976d5e74bcd8b60fb0728922cc863499"><div class="ttname"><a href="structfpl_1_1files_1_1_file_entry.html#a976d5e74bcd8b60fb0728922cc863499">fpl::files::FileEntry::internalHandle</a></div><div class="ttdeci">void * internalHandle</div><div class="ttdoc">Internal file handle. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01612">final_platform_layer.hpp:1612</a></div></div>
<div class="ttc" id="group___files_html_ga5301d3a70c015b9f17a55d285537a7c6"><div class="ttname"><a href="group___files.html#ga5301d3a70c015b9f17a55d285537a7c6">fpl::files::ListFilesBegin</a></div><div class="ttdeci">fpl_api bool ListFilesBegin(const char *pathAndFilter, FileEntry *firstEntry)</div><div class="ttdoc">Iterates through files / directories in the given directory. The path must contain the filter as well...</div></div>
<div class="ttc" id="structfpl_1_1_audio_device_format_html_ac43f3e139b09c5c38d0b6a0863c0ac1f"><div class="ttname"><a href="structfpl_1_1_audio_device_format.html#ac43f3e139b09c5c38d0b6a0863c0ac1f">fpl::AudioDeviceFormat::sampleRate</a></div><div class="ttdeci">uint32_t sampleRate</div><div class="ttdoc">Samples per seconds. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01181">final_platform_layer.hpp:1181</a></div></div>
<div class="ttc" id="namespacefpl_1_1_init_flags_html_a3aaa570e446e656cbc2c25d2a1a76db0"><div class="ttname"><a href="namespacefpl_1_1_init_flags.html#a3aaa570e446e656cbc2c25d2a1a76db0">fpl::InitFlags::InitFlagEnum</a></div><div class="ttdeci">InitFlagEnum</div><div class="ttdoc">Initialization flag enumeration. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01056">final_platform_layer.hpp:1056</a></div></div>
<div class="ttc" id="group___files_html_ga48b28a1bb885afecf015b348961d09ce"><div class="ttname"><a href="group___files.html#ga48b28a1bb885afecf015b348961d09ce">fpl::files::FileExists</a></div><div class="ttdeci">fpl_api bool FileExists(const char *filePath)</div><div class="ttdoc">Returns true when the given file path physically exists. </div></div>
<div class="ttc" id="group___dynamic_library_html_ga92e0b63d13ed16c4f9fb065b6962a4b3"><div class="ttname"><a href="group___dynamic_library.html#ga92e0b63d13ed16c4f9fb065b6962a4b3">fpl::library::DynamicLibraryLoad</a></div><div class="ttdeci">fpl_api DynamicLibraryHandle DynamicLibraryLoad(const char *libraryFilePath)</div><div class="ttdoc">Loads a dynamic library and returns the loaded handle for it. </div></div>
<div class="ttc" id="structfpl_1_1files_1_1_file_entry_html"><div class="ttname"><a href="structfpl_1_1files_1_1_file_entry.html">fpl::files::FileEntry</a></div><div class="ttdoc">Entry for storing current file informations (path, type, attributes, etc.) </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01604">final_platform_layer.hpp:1604</a></div></div>
<div class="ttc" id="group___window_base_html_ga3437f86381ee1bbe01fdf9f6007fe8b6"><div class="ttname"><a href="group___window_base.html#ga3437f86381ee1bbe01fdf9f6007fe8b6">fpl::window::SetWindowArea</a></div><div class="ttdeci">fpl_api void SetWindowArea(const uint32_t width, const uint32_t height)</div><div class="ttdoc">Resizes the window to fit the inner area to the given size. </div></div>
<div class="ttc" id="group___memory_html_gaabe256ab34794ac0f3f1633674de97f5"><div class="ttname"><a href="group___memory.html#gaabe256ab34794ac0f3f1633674de97f5">fpl::memory::MemoryAllocate</a></div><div class="ttdeci">fpl_api void * MemoryAllocate(const size_t size)</div><div class="ttdoc">Allocates memory from the operating system by the given size. The memory is guaranteed to be initiali...</div></div>
<div class="ttc" id="namespacefpl_1_1files_1_1_file_position_modes_html_a8cbd0d70c12d2d153dbbe61b36a55200ac59d81b1369316d6906016cc8b767f4c"><div class="ttname"><a href="namespacefpl_1_1files_1_1_file_position_modes.html#a8cbd0d70c12d2d153dbbe61b36a55200ac59d81b1369316d6906016cc8b767f4c">fpl::files::FilePositionModes::End</a></div><div class="ttdoc">Starts from the end. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01556">final_platform_layer.hpp:1556</a></div></div>
<div class="ttc" id="structfpl_1_1_video_settings_html_a978bfca33e1fd1f26afc502fb392f021"><div class="ttname"><a href="structfpl_1_1_video_settings.html#a978bfca33e1fd1f26afc502fb392f021">fpl::VideoSettings::majorVersion</a></div><div class="ttdeci">uint32_t majorVersion</div><div class="ttdoc">Desired major version. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01111">final_platform_layer.hpp:1111</a></div></div>
<div class="ttc" id="group___atomics_html_gabedcbf082844800172f4228383c80f75"><div class="ttname"><a href="group___atomics.html#gabedcbf082844800172f4228383c80f75">fpl::atomics::AtomicAddU32</a></div><div class="ttdeci">fpl_api uint32_t AtomicAddU32(volatile uint32_t *value, const uint32_t addend)</div><div class="ttdoc">Adds a 32-bit unsigned integer atomatically. Returns the value before the addition. </div></div>
<div class="ttc" id="namespacefpl_1_1files_1_1_file_position_modes_html_a8cbd0d70c12d2d153dbbe61b36a55200"><div class="ttname"><a href="namespacefpl_1_1files_1_1_file_position_modes.html#a8cbd0d70c12d2d153dbbe61b36a55200">fpl::files::FilePositionModes::FilePositionModeEnum</a></div><div class="ttdeci">FilePositionModeEnum</div><div class="ttdoc">File position mode enumeratation. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01550">final_platform_layer.hpp:1550</a></div></div>
<div class="ttc" id="final__platform__layer_8hpp_html_a2cde79ef58944162158c81a4d5b754dd"><div class="ttname"><a href="final__platform__layer_8hpp.html#a2cde79ef58944162158c81a4d5b754dd">fpl_internal_inline</a></div><div class="ttdeci">#define fpl_internal_inline</div><div class="ttdoc">Internal inlined function. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l00841">final_platform_layer.hpp:841</a></div></div>
<div class="ttc" id="namespacefpl_1_1files_1_1_file_position_modes_html_a8cbd0d70c12d2d153dbbe61b36a55200a2ab7f8008ce6482cf2fd3344aa05b434"><div class="ttname"><a href="namespacefpl_1_1files_1_1_file_position_modes.html#a8cbd0d70c12d2d153dbbe61b36a55200a2ab7f8008ce6482cf2fd3344aa05b434">fpl::files::FilePositionModes::Beginning</a></div><div class="ttdoc">Starts from the beginning. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01552">final_platform_layer.hpp:1552</a></div></div>
<div class="ttc" id="group___atomics_html_gae9f418fb1d62ae7595983caac6464d06"><div class="ttname"><a href="group___atomics.html#gae9f418fb1d62ae7595983caac6464d06">fpl::atomics::AtomicLoadS32</a></div><div class="ttdeci">fpl_api int32_t AtomicLoadS32(volatile int32_t *source)</div><div class="ttdoc">Loads the 32-bit signed value atomically and returns the result. </div></div>
<div class="ttc" id="group___threading_html_ga57538de72b2f378b1213428e81851e08"><div class="ttname"><a href="group___threading.html#ga57538de72b2f378b1213428e81851e08">fpl::threading::ThreadCreate</a></div><div class="ttdeci">fpl_api ThreadContext * ThreadCreate(run_thread_function *runFunc, void *data, const bool autoStart=true)</div><div class="ttdoc">Create a thread and return the context for it. When autoStart is set to true, it will start immediatl...</div></div>
<div class="ttc" id="structfpl_1_1window_1_1_gamepad_state_html_a662a6175d649f6ffc51d68484614e86a"><div class="ttname"><a href="structfpl_1_1window_1_1_gamepad_state.html#a662a6175d649f6ffc51d68484614e86a">fpl::window::GamepadState::rightStickX</a></div><div class="ttdeci">float rightStickX</div><div class="ttdoc">Analog right thumb X in range (-1.0 to 1.0f) </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02048">final_platform_layer.hpp:2048</a></div></div>
<div class="ttc" id="structfpl_1_1window_1_1_gamepad_state_html_ad2d8d52456658ee8d136a64fc40028e3"><div class="ttname"><a href="structfpl_1_1window_1_1_gamepad_state.html#ad2d8d52456658ee8d136a64fc40028e3">fpl::window::GamepadState::leftTrigger</a></div><div class="ttdeci">float leftTrigger</div><div class="ttdoc">Analog left trigger in range (-1.0 to 1.0f) </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02053">final_platform_layer.hpp:2053</a></div></div>
<div class="ttc" id="structfpl_1_1window_1_1_keyboard_event_html_a776e0c3c6fdf991c605697e46a417abd"><div class="ttname"><a href="structfpl_1_1window_1_1_keyboard_event.html#a776e0c3c6fdf991c605697e46a417abd">fpl::window::KeyboardEvent::modifiers</a></div><div class="ttdeci">KeyboardModifierFlag modifiers</div><div class="ttdoc">Keyboard modifiers. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01927">final_platform_layer.hpp:1927</a></div></div>
<div class="ttc" id="group___window_events_html_ga4fc94b5031d8e8806442cee7a47f4c4b"><div class="ttname"><a href="group___window_events.html#ga4fc94b5031d8e8806442cee7a47f4c4b">fpl::window::GamepadEventType</a></div><div class="ttdeci">GamepadEventTypes::GamepadEventTypeEnum GamepadEventType</div><div class="ttdoc">Gamepad event type. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01991">final_platform_layer.hpp:1991</a></div></div>
<div class="ttc" id="group___threading_html_ga5549e8b3fb7ba18a8268bd8026c13c9b"><div class="ttname"><a href="group___threading.html#ga5549e8b3fb7ba18a8268bd8026c13c9b">fpl::threading::ThreadSleep</a></div><div class="ttdeci">fpl_api void ThreadSleep(const uint32_t milliseconds)</div><div class="ttdoc">Let the current thread sleep for the number of given milliseconds. </div></div>
<div class="ttc" id="group___atomics_html_ga68ded9789fab976263e6cce2e124c4d2"><div class="ttname"><a href="group___atomics.html#ga68ded9789fab976263e6cce2e124c4d2">fpl::atomics::AtomicLoadPtr</a></div><div class="ttdeci">fpl_api void * AtomicLoadPtr(volatile void **source)</div><div class="ttdoc">Loads the 64-bit signed value atomically and returns the result. </div></div>
<div class="ttc" id="group___threading_html_ga85f79de520df3b7e422e49ad280f4264"><div class="ttname"><a href="group___threading.html#ga85f79de520df3b7e422e49ad280f4264">fpl::threading::run_thread_function</a></div><div class="ttdeci">void() run_thread_function(const ThreadContext &amp;context, void *data)</div><div class="ttdoc">Run function type definition for CreateThread. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01383">final_platform_layer.hpp:1383</a></div></div>
<div class="ttc" id="group___threading_html_gad974c8976ebcafbb4788a7713eddf34f"><div class="ttname"><a href="group___threading.html#gad974c8976ebcafbb4788a7713eddf34f">fpl::threading::ThreadWaitForAny</a></div><div class="ttdeci">fpl_api void ThreadWaitForAny(ThreadContext **contexts, const uint32_t count, const uint32_t maxMilliseconds=UINT32_MAX)</div><div class="ttdoc">Wait until one of given threads are done running. When maxMilliseconds is set to UINT32_MAX it will w...</div></div>
<div class="ttc" id="final__platform__layer_8hpp_html_a1b604d8132880ef082abb67661670eb8"><div class="ttname"><a href="final__platform__layer_8hpp.html#a1b604d8132880ef082abb67661670eb8">FPL_ARRAYCOUNT</a></div><div class="ttdeci">#define FPL_ARRAYCOUNT(arr)</div><div class="ttdoc">Returns the element count from a static array,. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l00902">final_platform_layer.hpp:902</a></div></div>
<div class="ttc" id="final__platform__layer_8hpp_html_a4602cad9ac19ca87310064e010a583cd"><div class="ttname"><a href="final__platform__layer_8hpp.html#a4602cad9ac19ca87310064e010a583cd">FPL_IS_ALIGNED</a></div><div class="ttdeci">#define FPL_IS_ALIGNED(ptr, alignment)</div><div class="ttdoc">Returns true when the given pointer address is aligned to the given alignment. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l00922">final_platform_layer.hpp:922</a></div></div>
<div class="ttc" id="structfpl_1_1_audio_settings_html_afa7979c8ffe93ee2612a64ebeb688a5d"><div class="ttname"><a href="structfpl_1_1_audio_settings.html#afa7979c8ffe93ee2612a64ebeb688a5d">fpl::AudioSettings::userData</a></div><div class="ttdeci">void * userData</div><div class="ttdoc">User data pointer for client read callback. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01208">final_platform_layer.hpp:1208</a></div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_mouse_button_types_html_a8421a50986b384eb037e31a522bc223baaf3a59f7250896516d4eff21c8c3d697"><div class="ttname"><a href="namespacefpl_1_1window_1_1_mouse_button_types.html#a8421a50986b384eb037e31a522bc223baaf3a59f7250896516d4eff21c8c3d697">fpl::window::MouseButtonTypes::Left</a></div><div class="ttdoc">Left mouse button. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01954">final_platform_layer.hpp:1954</a></div></div>
<div class="ttc" id="structfpl_1_1window_1_1_gamepad_state_html_a0f225cc2dd8f7b0fc30beda6f4ac35f3"><div class="ttname"><a href="structfpl_1_1window_1_1_gamepad_state.html#a0f225cc2dd8f7b0fc30beda6f4ac35f3">fpl::window::GamepadState::dpadLeft</a></div><div class="ttdeci">GamepadButton dpadLeft</div><div class="ttdoc">Digital button left. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02012">final_platform_layer.hpp:2012</a></div></div>
<div class="ttc" id="namespacefpl_1_1_video_driver_types_html_a258cb7cd4b12cc998472708f70d55f7f"><div class="ttname"><a href="namespacefpl_1_1_video_driver_types.html#a258cb7cd4b12cc998472708f70d55f7f">fpl::VideoDriverTypes::VideoDriverTypeEnum</a></div><div class="ttdeci">VideoDriverTypeEnum</div><div class="ttdoc">Video driver type enumeration. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01077">final_platform_layer.hpp:1077</a></div></div>
<div class="ttc" id="structfpl_1_1window_1_1_gamepad_event_html_ad3453bd5181634ae53ce34e005a427dd"><div class="ttname"><a href="structfpl_1_1window_1_1_gamepad_event.html#ad3453bd5181634ae53ce34e005a427dd">fpl::window::GamepadEvent::type</a></div><div class="ttdeci">GamepadEventType type</div><div class="ttdoc">Gamepad event type. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02061">final_platform_layer.hpp:2061</a></div></div>
<div class="ttc" id="structfpl_1_1_window_settings_html_a049bf1bec0382c593918aded3d701ca5"><div class="ttname"><a href="structfpl_1_1_window_settings.html#a049bf1bec0382c593918aded3d701ca5">fpl::WindowSettings::isResizable</a></div><div class="ttdeci">bool isResizable</div><div class="ttdoc">Is window resizable. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01242">final_platform_layer.hpp:1242</a></div></div>
<div class="ttc" id="structfpl_1_1window_1_1_gamepad_state_html_a5b77ef1ed6a3c4397223e72500584c0e"><div class="ttname"><a href="structfpl_1_1window_1_1_gamepad_state.html#a5b77ef1ed6a3c4397223e72500584c0e">fpl::window::GamepadState::dpadUp</a></div><div class="ttdeci">GamepadButton dpadUp</div><div class="ttdoc">Digital button up. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02006">final_platform_layer.hpp:2006</a></div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_mouse_event_types_html_abac384b9b1e9bdf36d032f1c9ffcaa14a850f4423b60f418b9257cab7015c6d3a"><div class="ttname"><a href="namespacefpl_1_1window_1_1_mouse_event_types.html#abac384b9b1e9bdf36d032f1c9ffcaa14a850f4423b60f418b9257cab7015c6d3a">fpl::window::MouseEventTypes::Wheel</a></div><div class="ttdoc">Mouse wheel up/down. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01941">final_platform_layer.hpp:1941</a></div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_event_types_html_ac1b654b98c2774f73b1b089f2886fc4fa7895681e76ab4eec49c5904850fab6d0"><div class="ttname"><a href="namespacefpl_1_1window_1_1_event_types.html#ac1b654b98c2774f73b1b089f2886fc4fa7895681e76ab4eec49c5904850fab6d0">fpl::window::EventTypes::Gamepad</a></div><div class="ttdoc">Gamepad event. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02079">final_platform_layer.hpp:2079</a></div></div>
<div class="ttc" id="structfpl_1_1threading_1_1_thread_mutex_html_ac9f37b25a248ca955dedfd07b13e3b3a"><div class="ttname"><a href="structfpl_1_1threading_1_1_thread_mutex.html#ac9f37b25a248ca955dedfd07b13e3b3a">fpl::threading::ThreadMutex::isValid</a></div><div class="ttdeci">bool isValid</div><div class="ttdoc">Is it valid. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01404">final_platform_layer.hpp:1404</a></div></div>
<div class="ttc" id="group___settings_html_gaa68dd55928a75c92a89e6160df9fbdd8"><div class="ttname"><a href="group___settings.html#gaa68dd55928a75c92a89e6160df9fbdd8">fpl::AudioDriverType</a></div><div class="ttdeci">AudioDriverTypes::AudioDriverTypeEnum AudioDriverType</div><div class="ttdoc">Audio driver type. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01151">final_platform_layer.hpp:1151</a></div></div>
<div class="ttc" id="group___atomics_html_ga7e1a4ac48629ab93ad035c6bd6612d84"><div class="ttname"><a href="group___atomics.html#ga7e1a4ac48629ab93ad035c6bd6612d84">fpl::atomics::AtomicCompareAndExchangeU32</a></div><div class="ttdeci">fpl_api uint32_t AtomicCompareAndExchangeU32(volatile uint32_t *dest, const uint32_t comparand, const uint32_t exchange)</div><div class="ttdoc">Compares a 32-bit unsigned integer with a comparand and exchange it when comparand and matches destin...</div></div>
<div class="ttc" id="structfpl_1_1video_1_1_video_back_buffer_html_a2d9169c4ff567a707b5d951824e1db7f"><div class="ttname"><a href="structfpl_1_1video_1_1_video_back_buffer.html#a2d9169c4ff567a707b5d951824e1db7f">fpl::video::VideoBackBuffer::width</a></div><div class="ttdeci">uint32_t width</div><div class="ttdoc">The width of the backbuffer in pixels. Do not modify, it will be set automatically. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02190">final_platform_layer.hpp:2190</a></div></div>
<div class="ttc" id="structfpl_1_1files_1_1_file_entry_html_a05335d9b8f326cc337bb9d274fc9d2a2"><div class="ttname"><a href="structfpl_1_1files_1_1_file_entry.html#a05335d9b8f326cc337bb9d274fc9d2a2">fpl::files::FileEntry::attributes</a></div><div class="ttdeci">FileAttributeFlag attributes</div><div class="ttdoc">File attributes. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01608">final_platform_layer.hpp:1608</a></div></div>
<div class="ttc" id="structfpl_1_1_video_settings_html_a2c736124a9d77dbb65eeb2f5518fb781"><div class="ttname"><a href="structfpl_1_1_video_settings.html#a2c736124a9d77dbb65eeb2f5518fb781">fpl::VideoSettings::isAutoSize</a></div><div class="ttdeci">bool isAutoSize</div><div class="ttdoc">Backbuffer size is automatically resized. Useable only for software rendering! </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01117">final_platform_layer.hpp:1117</a></div></div>
<div class="ttc" id="final__platform__layer_8hpp_html_a67f23c8cd88330bae25973edd2aaec80"><div class="ttname"><a href="final__platform__layer_8hpp.html#a67f23c8cd88330bae25973edd2aaec80">fpl_internal</a></div><div class="ttdeci">#define fpl_internal</div><div class="ttdoc">Private/Internal function. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l00837">final_platform_layer.hpp:837</a></div></div>
<div class="ttc" id="group___strings_html_gaa94f2d8d8590d1625ec8dc147fa115e6"><div class="ttname"><a href="group___strings.html#gaa94f2d8d8590d1625ec8dc147fa115e6">fpl::strings::CopyWideString</a></div><div class="ttdeci">fpl_api wchar_t * CopyWideString(const wchar_t *source, const uint32_t sourceLen, wchar_t *dest, const uint32_t maxDestLen)</div><div class="ttdoc">Copies the given 16-bit source Wide string with length into a destination Wide string. Does not allocate any memory. </div></div>
<div class="ttc" id="namespacefpl_1_1files_1_1_file_attribute_flags_html_a35ecb1521633ae298b52680df677b660a04b4472ee71e0c6b755ddcf9f5c10a83"><div class="ttname"><a href="namespacefpl_1_1files_1_1_file_attribute_flags.html#a35ecb1521633ae298b52680df677b660a04b4472ee71e0c6b755ddcf9f5c10a83">fpl::files::FileAttributeFlags::System</a></div><div class="ttdoc">System. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01592">final_platform_layer.hpp:1592</a></div></div>
<div class="ttc" id="namespacefpl_1_1files_1_1_file_position_modes_html_a8cbd0d70c12d2d153dbbe61b36a55200a1fc239c87fbef73d8758ed7b7be69571"><div class="ttname"><a href="namespacefpl_1_1files_1_1_file_position_modes.html#a8cbd0d70c12d2d153dbbe61b36a55200a1fc239c87fbef73d8758ed7b7be69571">fpl::files::FilePositionModes::Current</a></div><div class="ttdoc">Starts from the current position. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01554">final_platform_layer.hpp:1554</a></div></div>
<div class="ttc" id="group___settings_html_gaf6f67ba416d795684d6b0c836e5a4009"><div class="ttname"><a href="group___settings.html#gaf6f67ba416d795684d6b0c836e5a4009">fpl::VideoDriverType</a></div><div class="ttdeci">VideoDriverTypes::VideoDriverTypeEnum VideoDriverType</div><div class="ttdoc">Video driver type. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01085">final_platform_layer.hpp:1085</a></div></div>
<div class="ttc" id="group___memory_html_gaf5ad819b0045c31a72d86c20d8f8dd34"><div class="ttname"><a href="group___memory.html#gaf5ad819b0045c31a72d86c20d8f8dd34">fpl::memory::MemoryAlignedAllocate</a></div><div class="ttdeci">fpl_api void * MemoryAlignedAllocate(const size_t size, const size_t alignment)</div><div class="ttdoc">Allocates aligned memory from the operating system by the given alignment. The memory is guaranteed t...</div></div>
<div class="ttc" id="group___settings_html_ga09eed97cc88484e22dc03536d66b38b8"><div class="ttname"><a href="group___settings.html#ga09eed97cc88484e22dc03536d66b38b8">fpl::VideoCompabilityProfile</a></div><div class="ttdeci">VideoCompabilityProfiles::VideoCompabilityProfileEnum VideoCompabilityProfile</div><div class="ttdoc">Video compability profile. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01100">final_platform_layer.hpp:1100</a></div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_keyboard_event_types_html_af2b159019bbc4f7c214b73c3dea46065a40cb6f5c46629af04e9466543dd9c8e9"><div class="ttname"><a href="namespacefpl_1_1window_1_1_keyboard_event_types.html#af2b159019bbc4f7c214b73c3dea46065a40cb6f5c46629af04e9466543dd9c8e9">fpl::window::KeyboardEventTypes::KeyDown</a></div><div class="ttdoc">Key is down. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01887">final_platform_layer.hpp:1887</a></div></div>
<div class="ttc" id="structfpl_1_1window_1_1_window_position_html_a59fb9f01813cb864ffc44a090f05d4a5"><div class="ttname"><a href="structfpl_1_1window_1_1_window_position.html#a59fb9f01813cb864ffc44a090f05d4a5">fpl::window::WindowPosition::top</a></div><div class="ttdeci">int32_t top</div><div class="ttdoc">Top position in screen coordinates. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02125">final_platform_layer.hpp:2125</a></div></div>
<div class="ttc" id="group___paths_html_ga41591ef383ffb2e673c7d1746e5dcd05"><div class="ttname"><a href="group___paths.html#ga41591ef383ffb2e673c7d1746e5dcd05">fpl::paths::CombinePath</a></div><div class="ttdeci">fpl_api char * CombinePath(char *destPath, const uint32_t maxDestPathLen, const uint32_t pathCount,...)</div><div class="ttdoc">Combines all included path by the systems path separator. Returns the pointer of the destination path...</div></div>
<div class="ttc" id="group___threading_html_ga794026517242c2a47581bb2d2cb8c88c"><div class="ttname"><a href="group___threading.html#ga794026517242c2a47581bb2d2cb8c88c">fpl::threading::SignalWaitForOne</a></div><div class="ttdeci">fpl_api bool SignalWaitForOne(ThreadSignal &amp;availableSignal, const uint32_t maxMilliseconds=UINT32_MAX)</div><div class="ttdoc">Waits until the given signal are waked up. When maxMilliseconds is set to UINT32_MAX it will wait inf...</div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_window_event_types_html_abe653c1f4e9a9e70d79b5df52aacb6c5a866464f3fbbe904285b6e60dcbcb6162"><div class="ttname"><a href="namespacefpl_1_1window_1_1_window_event_types.html#abe653c1f4e9a9e70d79b5df52aacb6c5a866464f3fbbe904285b6e60dcbcb6162">fpl::window::WindowEventTypes::GotFocus</a></div><div class="ttdoc">Window got focus. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01864">final_platform_layer.hpp:1864</a></div></div>
<div class="ttc" id="group___paths_html_gabcbdbb5ec3ed0c49922bb3ebb5a85e0d"><div class="ttname"><a href="group___paths.html#gabcbdbb5ec3ed0c49922bb3ebb5a85e0d">fpl::paths::GetExecutableFilePath</a></div><div class="ttdeci">fpl_api char * GetExecutableFilePath(char *destPath, const uint32_t maxDestLen)</div><div class="ttdoc">Returns the full path to this executable, including the executable file name. Result is written in th...</div></div>
<div class="ttc" id="structfpl_1_1threading_1_1_thread_signal_html_adbf395c4e509672e4690bdecd6a1ce19"><div class="ttname"><a href="structfpl_1_1threading_1_1_thread_signal.html#adbf395c4e509672e4690bdecd6a1ce19">fpl::threading::ThreadSignal::internalHandle</a></div><div class="ttdeci">void * internalHandle</div><div class="ttdoc">The internal handle. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01410">final_platform_layer.hpp:1410</a></div></div>
<div class="ttc" id="structfpl_1_1window_1_1_keyboard_event_html_ac2d511ffa600d151cf5c7f9a1882a51a"><div class="ttname"><a href="structfpl_1_1window_1_1_keyboard_event.html#ac2d511ffa600d151cf5c7f9a1882a51a">fpl::window::KeyboardEvent::mappedKey</a></div><div class="ttdeci">Key mappedKey</div><div class="ttdoc">Mapped key. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01925">final_platform_layer.hpp:1925</a></div></div>
<div class="ttc" id="structfpl_1_1_window_settings_html"><div class="ttname"><a href="structfpl_1_1_window_settings.html">fpl::WindowSettings</a></div><div class="ttdoc">Window settings (Size, Title etc.) </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01230">final_platform_layer.hpp:1230</a></div></div>
<div class="ttc" id="group___atomics_html_ga06586790bcd6bd9944c47372e3cef2ad"><div class="ttname"><a href="group___atomics.html#ga06586790bcd6bd9944c47372e3cef2ad">fpl::atomics::AtomicCompareAndExchangeS64</a></div><div class="ttdeci">fpl_api int64_t AtomicCompareAndExchangeS64(volatile int64_t *dest, const int64_t comparand, const int64_t exchange)</div><div class="ttdoc">Compares a 64-bit signed integer with a comparand and exchange it when comparand and matches destinat...</div></div>
<div class="ttc" id="group___files_html_ga0d2785fac8c42fc55c3dbf02f93204af"><div class="ttname"><a href="group___files.html#ga0d2785fac8c42fc55c3dbf02f93204af">fpl::files::GetFileSize32</a></div><div class="ttdeci">fpl_api uint32_t GetFileSize32(const FileHandle &amp;fileHandle)</div><div class="ttdoc">Returns the 32-bit file size in bytes for a opened file. Its limited to files &lt; 2 GB...</div></div>
<div class="ttc" id="group___window_events_html_ga8f67e2edd110ab873de691c6873ca774"><div class="ttname"><a href="group___window_events.html#ga8f67e2edd110ab873de691c6873ca774">fpl::window::Key</a></div><div class="ttdeci">Keys::KeyEnum Key</div><div class="ttdoc">Mapped key. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01853">final_platform_layer.hpp:1853</a></div></div>
<div class="ttc" id="group___threading_html_ga10f326dd1d67e4b98027847e4da73d51"><div class="ttname"><a href="group___threading.html#ga10f326dd1d67e4b98027847e4da73d51">fpl::threading::ThreadState</a></div><div class="ttdeci">ThreadStates::ThreadStateEnum ThreadState</div><div class="ttdoc">Thread state. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01377">final_platform_layer.hpp:1377</a></div></div>
<div class="ttc" id="structfpl_1_1_video_settings_html_a5d0998db137f081c4ae3ce3faa12de4a"><div class="ttname"><a href="structfpl_1_1_video_settings.html#a5d0998db137f081c4ae3ce3faa12de4a">fpl::VideoSettings::driverType</a></div><div class="ttdeci">VideoDriverType driverType</div><div class="ttdoc">Video driver type. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01107">final_platform_layer.hpp:1107</a></div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_mouse_event_types_html_abac384b9b1e9bdf36d032f1c9ffcaa14a5ea737a7499c5c730c54f7761bd47075"><div class="ttname"><a href="namespacefpl_1_1window_1_1_mouse_event_types.html#abac384b9b1e9bdf36d032f1c9ffcaa14a5ea737a7499c5c730c54f7761bd47075">fpl::window::MouseEventTypes::ButtonUp</a></div><div class="ttdoc">Mouse button was released. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01939">final_platform_layer.hpp:1939</a></div></div>
<div class="ttc" id="group___console_html_gaf9a2aff1071c86843688e16b8ee0431f"><div class="ttname"><a href="group___console.html#gaf9a2aff1071c86843688e16b8ee0431f">fpl::console::ConsoleError</a></div><div class="ttdeci">fpl_api void ConsoleError(const char *text)</div><div class="ttdoc">Writes the given text to the console error output. </div></div>
<div class="ttc" id="structfpl_1_1window_1_1_event_html_ae69cd7351a23ee07a9c6c663d5c5aea7"><div class="ttname"><a href="structfpl_1_1window_1_1_event.html#ae69cd7351a23ee07a9c6c663d5c5aea7">fpl::window::Event::type</a></div><div class="ttdeci">EventType type</div><div class="ttdoc">Event type. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02088">final_platform_layer.hpp:2088</a></div></div>
<div class="ttc" id="namespacefpl_1_1files_1_1_file_entry_types_html_ab340319655afa9567100787edb58aca5"><div class="ttname"><a href="namespacefpl_1_1files_1_1_file_entry_types.html#ab340319655afa9567100787edb58aca5">fpl::files::FileEntryTypes::FileEntryTypeEnum</a></div><div class="ttdeci">FileEntryTypeEnum</div><div class="ttdoc">File entry type enumeration. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01565">final_platform_layer.hpp:1565</a></div></div>
<div class="ttc" id="structfpl_1_1threading_1_1_thread_context_html_a049c165d24aaac9c3c78dd2f58e7aeed"><div class="ttname"><a href="structfpl_1_1threading_1_1_thread_context.html#a049c165d24aaac9c3c78dd2f58e7aeed">fpl::threading::ThreadContext::runFunc</a></div><div class="ttdeci">run_thread_function * runFunc</div><div class="ttdoc">The stored run function. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01390">final_platform_layer.hpp:1390</a></div></div>
<div class="ttc" id="group___threading_html_gaa775ca62b233851623ab917a7bd028ff"><div class="ttname"><a href="group___threading.html#gaa775ca62b233851623ab917a7bd028ff">fpl::threading::SignalWaitForAny</a></div><div class="ttdeci">fpl_api bool SignalWaitForAny(ThreadSignal **availableSignal, const uint32_t count, const uint32_t maxMilliseconds=UINT32_MAX)</div><div class="ttdoc">Waits until any of the given signals wakes up. When maxMilliseconds is set to UINT32_MAX it will wait...</div></div>
<div class="ttc" id="structfpl_1_1_audio_device_format_html_a1216ea77c930dc846b682bbaa3979f8f"><div class="ttname"><a href="structfpl_1_1_audio_device_format.html#a1216ea77c930dc846b682bbaa3979f8f">fpl::AudioDeviceFormat::type</a></div><div class="ttdeci">AudioFormatType type</div><div class="ttdoc">Audio format. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01179">final_platform_layer.hpp:1179</a></div></div>
<div class="ttc" id="structfpl_1_1files_1_1_file_entry_html_a9d8deb2bfc9b9ead6cef76c70c66057f"><div class="ttname"><a href="structfpl_1_1files_1_1_file_entry.html#a9d8deb2bfc9b9ead6cef76c70c66057f">fpl::files::FileEntry::path</a></div><div class="ttdeci">char path[MAX_FILEENTRY_PATH_LENGTH]</div><div class="ttdoc">File path. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01610">final_platform_layer.hpp:1610</a></div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_event_types_html_ac1b654b98c2774f73b1b089f2886fc4f"><div class="ttname"><a href="namespacefpl_1_1window_1_1_event_types.html#ac1b654b98c2774f73b1b089f2886fc4f">fpl::window::EventTypes::EventTypeEnum</a></div><div class="ttdeci">EventTypeEnum</div><div class="ttdoc">Event type enumeration. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02071">final_platform_layer.hpp:2071</a></div></div>
<div class="ttc" id="namespacefpl_1_1files_1_1_file_attribute_flags_html_a35ecb1521633ae298b52680df677b660a02a2b5243b6ea68073442da3f47e6d26"><div class="ttname"><a href="namespacefpl_1_1files_1_1_file_attribute_flags.html#a35ecb1521633ae298b52680df677b660a02a2b5243b6ea68073442da3f47e6d26">fpl::files::FileAttributeFlags::Normal</a></div><div class="ttdoc">Normal. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01584">final_platform_layer.hpp:1584</a></div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_keys_html_a2b24ab19a42e1be46413638f656803d6"><div class="ttname"><a href="namespacefpl_1_1window_1_1_keys.html#a2b24ab19a42e1be46413638f656803d6">fpl::window::Keys::KeyEnum</a></div><div class="ttdeci">KeyEnum</div><div class="ttdoc">Mapped key enumeration. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01701">final_platform_layer.hpp:1701</a></div></div>
<div class="ttc" id="structfpl_1_1window_1_1_mouse_event_html"><div class="ttname"><a href="structfpl_1_1window_1_1_mouse_event.html">fpl::window::MouseEvent</a></div><div class="ttdoc">Mouse event data (Type, Button, Position, etc.) </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01965">final_platform_layer.hpp:1965</a></div></div>
<div class="ttc" id="structfpl_1_1_audio_device_format_html"><div class="ttname"><a href="structfpl_1_1_audio_device_format.html">fpl::AudioDeviceFormat</a></div><div class="ttdoc">Audio device format. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01177">final_platform_layer.hpp:1177</a></div></div>
<div class="ttc" id="structfpl_1_1_window_settings_html_aa1cbe4154b924f8a071c595e12f552b7"><div class="ttname"><a href="structfpl_1_1_window_settings.html#aa1cbe4154b924f8a071c595e12f552b7">fpl::WindowSettings::windowTitle</a></div><div class="ttdeci">char windowTitle[256]</div><div class="ttdoc">Window title. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01232">final_platform_layer.hpp:1232</a></div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_window_event_types_html_abe653c1f4e9a9e70d79b5df52aacb6c5aa64186511c76a94680b6d0dd4cdb9ec6"><div class="ttname"><a href="namespacefpl_1_1window_1_1_window_event_types.html#abe653c1f4e9a9e70d79b5df52aacb6c5aa64186511c76a94680b6d0dd4cdb9ec6">fpl::window::WindowEventTypes::LostFocus</a></div><div class="ttdoc">Window lost focus. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01866">final_platform_layer.hpp:1866</a></div></div>
<div class="ttc" id="structfpl_1_1window_1_1_gamepad_state_html"><div class="ttname"><a href="structfpl_1_1window_1_1_gamepad_state.html">fpl::window::GamepadState</a></div><div class="ttdoc">Gamepad state data. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02002">final_platform_layer.hpp:2002</a></div></div>
<div class="ttc" id="structfpl_1_1window_1_1_mouse_event_html_a5d5ee5899dda9956c45362ec2cf7e0da"><div class="ttname"><a href="structfpl_1_1window_1_1_mouse_event.html#a5d5ee5899dda9956c45362ec2cf7e0da">fpl::window::MouseEvent::mouseY</a></div><div class="ttdeci">int32_t mouseY</div><div class="ttdoc">Mouse Y-Position. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01973">final_platform_layer.hpp:1973</a></div></div>
<div class="ttc" id="structfpl_1_1_audio_device_format_html_a6d9ffc868ca9b121f3c39f73e495d0eb"><div class="ttname"><a href="structfpl_1_1_audio_device_format.html#a6d9ffc868ca9b121f3c39f73e495d0eb">fpl::AudioDeviceFormat::channels</a></div><div class="ttdeci">uint32_t channels</div><div class="ttdoc">Number of channels. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01183">final_platform_layer.hpp:1183</a></div></div>
<div class="ttc" id="structfpl_1_1window_1_1_event_html_af9170219764a7483a8efee8902da44e6"><div class="ttname"><a href="structfpl_1_1window_1_1_event.html#af9170219764a7483a8efee8902da44e6">fpl::window::Event::keyboard</a></div><div class="ttdeci">KeyboardEvent keyboard</div><div class="ttdoc">Keyboard event data. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02093">final_platform_layer.hpp:2093</a></div></div>
<div class="ttc" id="namespacefpl_1_1_init_flags_html_a3aaa570e446e656cbc2c25d2a1a76db0a2fe2ed7e92f03819bb19ee67ba71605e"><div class="ttname"><a href="namespacefpl_1_1_init_flags.html#a3aaa570e446e656cbc2c25d2a1a76db0a2fe2ed7e92f03819bb19ee67ba71605e">fpl::InitFlags::Video</a></div><div class="ttdoc">Use a video backbuffer (A window without video is pretty much useless) </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01062">final_platform_layer.hpp:1062</a></div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_keyboard_modifier_flags_html_a957a3d95f8261e7566585d65f203300da765bb73e65a7cce7197d8c595c24f63d"><div class="ttname"><a href="namespacefpl_1_1window_1_1_keyboard_modifier_flags.html#a957a3d95f8261e7566585d65f203300da765bb73e65a7cce7197d8c595c24f63d">fpl::window::KeyboardModifierFlags::Alt</a></div><div class="ttdoc">Alt key is down. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01904">final_platform_layer.hpp:1904</a></div></div>
<div class="ttc" id="structfpl_1_1window_1_1_gamepad_state_html_a383edb9f835f881fd177d4b93f165a32"><div class="ttname"><a href="structfpl_1_1window_1_1_gamepad_state.html#a383edb9f835f881fd177d4b93f165a32">fpl::window::GamepadState::actionA</a></div><div class="ttdeci">GamepadButton actionA</div><div class="ttdoc">Action button A. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02015">final_platform_layer.hpp:2015</a></div></div>
<div class="ttc" id="structfpl_1_1_window_settings_html_a6dd4ff9644d0c66ec29987264ff99ea4"><div class="ttname"><a href="structfpl_1_1_window_settings.html#a6dd4ff9644d0c66ec29987264ff99ea4">fpl::WindowSettings::isFullscreen</a></div><div class="ttdeci">bool isFullscreen</div><div class="ttdoc">Is window in fullscreen mode. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01244">final_platform_layer.hpp:1244</a></div></div>
<div class="ttc" id="group___threading_html_gab2f18851290d803349ef71c1aa78b493"><div class="ttname"><a href="group___threading.html#gab2f18851290d803349ef71c1aa78b493">fpl::threading::MutexUnlock</a></div><div class="ttdeci">fpl_api void MutexUnlock(ThreadMutex &amp;mutex)</div><div class="ttdoc">Unlocks the given mutex. </div></div>
<div class="ttc" id="namespacefpl_1_1audio_html"><div class="ttname"><a href="namespacefpl_1_1audio.html">fpl::audio</a></div><div class="ttdoc">Audio functions. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02208">final_platform_layer.hpp:2208</a></div></div>
<div class="ttc" id="group___threading_html_ga8132b503372987c2e5c63eaeba985adb"><div class="ttname"><a href="group___threading.html#ga8132b503372987c2e5c63eaeba985adb">fpl::threading::ThreadResume</a></div><div class="ttdeci">fpl_api bool ThreadResume(ThreadContext *context)</div><div class="ttdoc">Resume a suspended thread, so any user code will continue to run. Returns true when the thread was su...</div></div>
<div class="ttc" id="group___atomics_html_ga4cd97f257c9c9d6c5ae9c7fb28805627"><div class="ttname"><a href="group___atomics.html#ga4cd97f257c9c9d6c5ae9c7fb28805627">fpl::atomics::AtomicAddU64</a></div><div class="ttdeci">fpl_api uint64_t AtomicAddU64(volatile uint64_t *value, const uint64_t addend)</div><div class="ttdoc">Adds a 64-bit unsigned integer atomatically. Returns the value before the addition. </div></div>
<div class="ttc" id="group___error_handling_html_gac3b46af437dae868f37f36e0d0837655"><div class="ttname"><a href="group___error_handling.html#gac3b46af437dae868f37f36e0d0837655">fpl::GetPlatformLastErrorCount</a></div><div class="ttdeci">fpl_api size_t GetPlatformLastErrorCount()</div><div class="ttdoc">Returns number of last errors. </div></div>
<div class="ttc" id="group___audio_html_ga61e32a782608559d79f8350335d60ce2"><div class="ttname"><a href="group___audio.html#ga61e32a782608559d79f8350335d60ce2">fpl::audio::AudioResult</a></div><div class="ttdeci">AudioResults::AudioResultEnum AudioResult</div><div class="ttdoc">Audio result. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02226">final_platform_layer.hpp:2226</a></div></div>
<div class="ttc" id="structfpl_1_1library_1_1_dynamic_library_handle_html"><div class="ttname"><a href="structfpl_1_1library_1_1_dynamic_library_handle.html">fpl::library::DynamicLibraryHandle</a></div><div class="ttdoc">Handle to a loaded dynamic library. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01321">final_platform_layer.hpp:1321</a></div></div>
<div class="ttc" id="group___video_html_gaa607597cd1e9dab0e6ffeaa7cbbd395c"><div class="ttname"><a href="group___video.html#gaa607597cd1e9dab0e6ffeaa7cbbd395c">fpl::video::ResizeVideoBackBuffer</a></div><div class="ttdeci">fpl_api bool ResizeVideoBackBuffer(const uint32_t width, const uint32_t height)</div><div class="ttdoc">Resizes the current video backbuffer. </div></div>
<div class="ttc" id="group___window_base_html_ga802a660426beab88fcf3835aa0491a8b"><div class="ttname"><a href="group___window_base.html#ga802a660426beab88fcf3835aa0491a8b">fpl::window::GetWindowPosition</a></div><div class="ttdeci">fpl_api WindowPosition GetWindowPosition()</div><div class="ttdoc">Returns the absolute window position. </div></div>
<div class="ttc" id="namespacefpl_1_1_video_compability_profiles_html_acfa373302044d5de2a2b41be42fdc5d2acce2f8ec850a14f06f3b660f0493b596"><div class="ttname"><a href="namespacefpl_1_1_video_compability_profiles.html#acfa373302044d5de2a2b41be42fdc5d2acce2f8ec850a14f06f3b660f0493b596">fpl::VideoCompabilityProfiles::Legacy</a></div><div class="ttdoc">Use legacy context. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01094">final_platform_layer.hpp:1094</a></div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_keyboard_event_types_html_af2b159019bbc4f7c214b73c3dea46065"><div class="ttname"><a href="namespacefpl_1_1window_1_1_keyboard_event_types.html#af2b159019bbc4f7c214b73c3dea46065">fpl::window::KeyboardEventTypes::KeyboardEventTypeEnum</a></div><div class="ttdeci">KeyboardEventTypeEnum</div><div class="ttdoc">Keyboard event type enumeration. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01885">final_platform_layer.hpp:1885</a></div></div>
<div class="ttc" id="group___atomics_html_ga584a3d96901d74ce519d239342a559a9"><div class="ttname"><a href="group___atomics.html#ga584a3d96901d74ce519d239342a559a9">fpl::atomics::AtomicCompareAndExchangePtr</a></div><div class="ttdeci">fpl_api void * AtomicCompareAndExchangePtr(volatile void **dest, const void *comparand, const void *exchange)</div><div class="ttdoc">Compares a pointer with a comparand and exchange it when comparand and matches destination. Returns the dest before the exchange. </div></div>
<div class="ttc" id="structfpl_1_1threading_1_1_thread_signal_html_ad1fdb9120b0cec2a0bf5c554640810be"><div class="ttname"><a href="structfpl_1_1threading_1_1_thread_signal.html#ad1fdb9120b0cec2a0bf5c554640810be">fpl::threading::ThreadSignal::isValid</a></div><div class="ttdeci">bool isValid</div><div class="ttdoc">Is it valid. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01412">final_platform_layer.hpp:1412</a></div></div>
<div class="ttc" id="group___memory_html_gafff57ceb6d17787d0bc84d66fd23f433"><div class="ttname"><a href="group___memory.html#gafff57ceb6d17787d0bc84d66fd23f433">fpl::memory::MemoryAlignedFree</a></div><div class="ttdeci">fpl_api void MemoryAlignedFree(void *ptr)</div><div class="ttdoc">Releases aligned memory from the operating system. </div></div>
<div class="ttc" id="group___settings_html_ga5a93d3ae02696764fc8c3707b7f38f31"><div class="ttname"><a href="group___settings.html#ga5a93d3ae02696764fc8c3707b7f38f31">fpl::FPL_ENUM_AS_FLAGS_OPERATORS</a></div><div class="ttdeci">FPL_ENUM_AS_FLAGS_OPERATORS(InitFlag)</div><div class="ttdoc">Operator support for InitFlag. </div></div>
<div class="ttc" id="group___strings_html_gacf1b68cc61d41d0e2be20b198d013dc6"><div class="ttname"><a href="group___strings.html#gacf1b68cc61d41d0e2be20b198d013dc6">fpl::strings::AnsiStringToWideString</a></div><div class="ttdeci">fpl_api wchar_t * AnsiStringToWideString(const char *ansiSource, const uint32_t ansiSourceLen, wchar_t *wideDest, const uint32_t maxWideDestLen)</div><div class="ttdoc">Converts the given 8-bit Ansi string in a 16-bit Wide string. Does not allocate any memory...</div></div>
<div class="ttc" id="structfpl_1_1files_1_1_file_handle_html_aaf9e97915a9adf8f803eceae29a7c870"><div class="ttname"><a href="structfpl_1_1files_1_1_file_handle.html#aaf9e97915a9adf8f803eceae29a7c870">fpl::files::FileHandle::isValid</a></div><div class="ttdeci">bool isValid</div><div class="ttdoc">File opened successfully. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01544">final_platform_layer.hpp:1544</a></div></div>
<div class="ttc" id="group___atomics_html_ga99cbc21105a6d9c3f91c8d14a8ec68dc"><div class="ttname"><a href="group___atomics.html#ga99cbc21105a6d9c3f91c8d14a8ec68dc">fpl::atomics::AtomicExchangeU64</a></div><div class="ttdeci">fpl_api uint64_t AtomicExchangeU64(volatile uint64_t *target, const uint64_t value)</div><div class="ttdoc">Replace a 64-bit unsigned integer with the given value atomically. Returns the target before the repl...</div></div>
<div class="ttc" id="group___atomics_html_ga8cddb961f4b1f9e3738894cb9626bf9f"><div class="ttname"><a href="group___atomics.html#ga8cddb961f4b1f9e3738894cb9626bf9f">fpl::atomics::IsAtomicCompareAndExchangeS32</a></div><div class="ttdeci">fpl_api bool IsAtomicCompareAndExchangeS32(volatile int32_t *dest, const int32_t comparand, const int32_t exchange)</div><div class="ttdoc">Returns true when a 32-bit signed integer equals the comparand. In addition dest will be changed to t...</div></div>
<div class="ttc" id="structfpl_1_1_audio_settings_html_a4171e2de1150225a459177259728ec31"><div class="ttname"><a href="structfpl_1_1_audio_settings.html#a4171e2de1150225a459177259728ec31">fpl::AudioSettings::bufferSizeInMilliSeconds</a></div><div class="ttdeci">uint32_t bufferSizeInMilliSeconds</div><div class="ttdoc">Audio buffer in milliseconds. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01204">final_platform_layer.hpp:1204</a></div></div>
<div class="ttc" id="group___initialization_html_ga6687b3ab1ce1d54f30785baf70566ed5"><div class="ttname"><a href="group___initialization.html#ga6687b3ab1ce1d54f30785baf70566ed5">fpl::ReleasePlatform</a></div><div class="ttdeci">fpl_api void ReleasePlatform()</div><div class="ttdoc">Releases the platform layer and resets all structures to zero. </div></div>
<div class="ttc" id="namespacefpl_1_1window_1_1_keyboard_event_types_html_af2b159019bbc4f7c214b73c3dea46065a0d73e43135c53ca18e755b10bff1dd31"><div class="ttname"><a href="namespacefpl_1_1window_1_1_keyboard_event_types.html#af2b159019bbc4f7c214b73c3dea46065a0d73e43135c53ca18e755b10bff1dd31">fpl::window::KeyboardEventTypes::KeyUp</a></div><div class="ttdoc">Key was released. </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l01889">final_platform_layer.hpp:1889</a></div></div>
<div class="ttc" id="structfpl_1_1window_1_1_event_html"><div class="ttname"><a href="structfpl_1_1window_1_1_event.html">fpl::window::Event</a></div><div class="ttdoc">Event data (Type, Window, Keyboard, Mouse, etc.) </div><div class="ttdef"><b>Definition:</b> <a href="final__platform__layer_8hpp_source.html#l02086">final_platform_layer.hpp:2086</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
